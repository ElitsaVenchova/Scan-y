!function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define(t):e.reqwest=t()}(this,function(){var context=this,XHR2;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else try{XHR2=require("xhr2")}catch(ex){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(!0!==e.crossOrigin)return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP");e=context[xmlHttpRequest]?new XMLHttpRequest:null;if(e&&"withCredentials"in e)return e;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")},globalSetupOptions={dataFilter:function(e){return e}};function succeed(e){var t=(t=protocolRe.exec(e.url))&&t[1]||context.location.protocol;return httpsRe.test(t)?twoHundo.test(e.request.status):e.request.response}function handleReadyState(e,t,r){return function(){return e._aborted?r(e.request):e._timedOut?r(e.request,"Request is aborted: timeout"):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,(succeed(e)?t:r)(e.request)))}}function setHeaders(e,t){var r,s=t.headers||{};s.Accept=s.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"];var n="undefined"!=typeof FormData&&t.data instanceof FormData;for(r in t.crossOrigin||s[requestedWith]||(s[requestedWith]=defaultHeaders.requestedWith),s[contentType]||n||(s[contentType]=t.contentType||defaultHeaders.contentType),s)s.hasOwnProperty(r)&&"setRequestHeader"in e&&e.setRequestHeader(r,s[r])}function setCredentials(e,t){void 0!==t.withCredentials&&void 0!==e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,r,s){var n=uniqid++,a=e.jsonpCallback||"callback",o=e.jsonpCallbackName||reqwest.getcallbackPrefix(n),i=new RegExp("((^|\\?|&)"+a+")=([^&]+)"),l=s.match(i),u=doc.createElement("script"),p=0,e=-1!==navigator.userAgent.indexOf("MSIE 10.0");return l?"?"===l[3]?s=s.replace(i,"$1="+o):o=l[3]:s=urlappend(s,a+"="+o),context[o]=generalCallback,u.type="text/javascript",u.src=s,u.async=!0,void 0===u.onreadystatechange||e||(u.htmlFor=u.id="_reqwest_"+n),u.onload=u.onreadystatechange=function(){if(u[readyState]&&"complete"!==u[readyState]&&"loaded"!==u[readyState]||p)return!1;u.onload=u.onreadystatechange=null,u.onclick&&u.onclick(),t(lastValue),lastValue=void 0,head.removeChild(u),p=1},head.appendChild(u),{abort:function(){u.onload=u.onreadystatechange=null,r({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(u),p=1}}}function getRequest(e,t){var r,s=this.o,n=(s.method||"GET").toUpperCase(),a="string"==typeof s?s:s.url,o=!1!==s.processData&&s.data&&"string"!=typeof s.data?reqwest.toQueryString(s.data):s.data||null,i=!1;return"jsonp"!=s.type&&"GET"!=n||!o||(a=urlappend(a,o),o=null),"jsonp"==s.type?handleJsonp(s,e,t,a):((r=s.xhr&&s.xhr(s)||xhr(s)).open(n,a,!1!==s.async),setHeaders(r,s),setCredentials(r,s),context[xDomainRequest]&&r instanceof context[xDomainRequest]?(r.onload=e,r.onerror=t,r.onprogress=function(){},i=!0):r.onreadystatechange=handleReadyState(this,e,t),s.before&&s.before(r),i?setTimeout(function(){r.send(o)},200):r.send(o),r)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){if(null!==e)return e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;0<self._completeHandlers.length;)self._completeHandlers.shift()(e)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);0<self._fulfillmentHandlers.length;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,t,r){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=r,self._erred=!0;0<self._errorHandlers.length;)self._errorHandlers.shift()(e,t,r);complete(e)}fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){function r(e){e&&!e.disabled&&t(i,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))}var s,n,a,o,i=e.name,l=e.tagName.toLowerCase();if(!e.disabled&&i)switch(l){case"input":/reset|button|image|file/i.test(e.type)||(s=/checkbox/i.test(e.type),n=/radio/i.test(e.type),a=e.value,(s||n)&&!e.checked||t(i,normalize(s&&""===a?"on":a)));break;case"textarea":t(i,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())r(0<=e.selectedIndex?e.options[e.selectedIndex]:null);else for(o=0;e.length&&o<e.length;o++)e.options[o].selected&&r(e.options[o])}}function eachFormElement(){for(var e,a=this,t=0;t<arguments.length;t++)/input|select|textarea/i.test((e=arguments[t]).tagName)&&serial(e,a),function(e,t){for(var r,s,n=0;n<t.length;n++)for(s=e[byTag](t[n]),r=0;r<s.length;r++)serial(s[r],a)}(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var r={};return eachFormElement.apply(function(e,t){e in r?(r[e]&&!isArray(r[e])&&(r[e]=[r[e]]),r[e].push(t)):r[e]=t},arguments),r}function buildParams(e,t,r,s){var n,a,o,i=/\[\]$/;if(isArray(t))for(a=0;t&&a<t.length;a++)o=t[a],r||i.test(e)?s(e,o):buildParams(e+"["+("object"==typeof o?a:"")+"]",o,r,s);else if(t&&"[object Object]"===t.toString())for(n in t)buildParams(e+"["+n+"]",t[n],r,s);else s(e,t)}return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},catch:function(e){return this.fail(e)}},reqwest.serializeArray=function(){var r=[];return eachFormElement.apply(function(e,t){r.push({name:e,value:t})},arguments),r},reqwest.serialize=function(){if(0===arguments.length)return"";var e=Array.prototype.slice.call(arguments,0),t=e.pop();return("map"==(t=(t=t&&t.nodeType&&e.push(t)?null:t)&&t.type)?serializeHash:"array"==t?reqwest.serializeArray:serializeQueryString).apply(null,e)},reqwest.toQueryString=function(e,t){function r(e,t){t="function"==typeof t?t():null==t?"":t,o[o.length]=i(e)+"="+i(t)}var s,n,a=t||!1,o=[],i=encodeURIComponent;if(isArray(e))for(n=0;e&&n<e.length;n++)r(e[n].name,e[n].value);else for(s in e)e.hasOwnProperty(s)&&buildParams(s,e[s],a,r);return o.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){for(var t in e=e||{})globalSetupOptions[t]=e[t]},reqwest});
var PH=function(){"use strict";var t,e,n=(e=!1,t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e);return{isMobileDevice:function(){return n},isArray:function(t){return Array.isArray(t)},isElement:function(t){return t instanceof HTMLElement},now:Date.now||function(){return(new Date).getTime()},throttle:function(n,o,i){var s,a,r,l=null,c=0;i=i||{};function h(){c=!1===i.leading?0:PH.now(),l=null,r=n.apply(s,a),l||(s=a=null)}return function(){var t=PH.now();c||!1!==i.leading||(c=t);var e=o-(t-c);return s=this,a=arguments,e<=0||o<e?(l&&(clearTimeout(l),l=null),c=t,r=n.apply(s,a),l||(s=a=null)):l||!1===i.trailing||(l=setTimeout(h,e)),r}},debounce:function(e,n,o){var i,s,a,r,l,c=function(){var t=PH.now()-r;t<n&&0<=t?i=setTimeout(c,n-t):(i=null,o||(l=e.apply(a,s),i||(a=s=null)))};return function(){a=this,s=arguments,r=PH.now();var t=o&&!i;return i=i||setTimeout(c,n),t&&(l=e.apply(a,s),a=s=null),l}},nl2br:function(t){return t.replace(/(?:\r\n|\r|\n)/g,"<br>")},camelToDashes:function(t){return t.replace(/([a-z]?)([A-Z])/g,function(t,e,n){return e+"-"+n.toLowerCase()})},dashesToCamel:function(t){return t.replace(/-[a-z]/g,function(t){return t.charAt(1).toUpperCase()})},objectHasKey:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},noop:function(){},identity:function(t){return t},slice:function(t,e,n){n=n||[];for(var o=e||0;o<t.length;++o)n.push(t[o]);return n},findNext:function(t,e,n){if(0<=e&&e<t.length)for(;++e<t.length;)if(n(t[e],e))return e;return null},findPrev:function(t,e,n){if(0<=e&&e<t.length)for(;0<=--e;)if(n(t[e],e))return e;return null},nextIndex:function(t,e,n){for(var o=0,i=t.length;o<i;++o)if(e(t[o],o))return o<i-1?o+1:n?0:null},prevIndex:function(t,e,n){for(var o=0,i=t.length;o<i;++o)if(e(t[o],o))return 0<o?o-1:n?i-1:null},variableArgsMethod:function(r,l){return function n(){for(var o=PH.slice(arguments),t=0;t<l.length;++t){var i=l[t];if(i>=o.length)break;var s=o[i];if(PH.isArray(s))return s.map(e,this);if("object"==typeof s&&!PH.isElement(s))return Object.keys(s).map(a,this)}return r.apply(this,o);function e(t){var e=o.slice();return e[i]=t,n.apply(this,e)}function a(t){var e=o.slice();return e.splice(i,1,t,s[t]),n.apply(this,e)}}},animate:function(e,t){var n=(t=t||{}).fps||60,o=t.steps||20,i=0,s=setTimeout(function t(){e(i/o,i,o),i<o?(s=setTimeout(t,1e3/n),i++):a()},1e3/n);function a(){clearTimeout(s),t.onStop&&t.onStop(i/o)}return{stop:a}},merge:Object.assign||function(e){var n;function t(t){e[t]=n[t]}null==e&&(e={});for(var o=0;o<arguments.length;++o)null!=(n=arguments[o])&&Object.keys(n).forEach(t);return e},htmlEscape:function(t){return t.replace(/&/g,"&amp;").replace(/\x22/g,"&quot;").replace(/\x27/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u00A0/g,"&#xa0;")},cancellable:function(n,o,i){var s;function a(){(i?clearInterval:clearTimeout)(s),s=null}function r(){if(i&&s)return r;var t=this,e=PH.slice(arguments);return a(),s=(i?setInterval:setTimeout)(function(){n.apply(t,e)},o),r}return r.cancel=a,r},sort:function(t,a){return function t(e){if(e.length<=1)return e;var n=Math.floor(e.length/2);return function(t,e){var n=[],o=0,i=0,s=0;for(;o<t.length&&i<e.length;)a(t[o],e[i])<=0?n[s++]=t[o++]:n[s++]=e[i++];return o<t.length?n.concat(t.slice(o)):i<e.length?n.concat(e.slice(i)):n}(t(e.slice(0,n)),t(e.slice(n)))}(t)},partition:function(t,n){var o=Object.create(null);return t.forEach(function(t){var e=n(t);(o[e]||(o[e]=[])).push(t)}),o}}}();PH.perfnow=window.performance&&window.performance.now?function(){return performance.now()}:PH.now,function(u){"use strict";HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(i,s,a){var r=this;setTimeout(function(){for(var t=atob(r.toDataURL(s,a).split(",")[1]),e=t.length,n=new Uint8Array(e),o=0;o<e;o++)n[o]=t.charCodeAt(o);i(new Blob([n],{type:s||"image/png"}))})}});var e,t,n,o=Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||function(t){return-1!==[].indexOf.call(document.querySelectorAll(t),this)};function i(){return t=t||u.createDOM("div",{className:"ph-full-screen-overlay",style:{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%",zIndex:31e3}})}function s(t){return window.getComputedStyle(t)}function a(t,e,n){for(var o=0;o<t.length;++o)e.call(n,t[o],o)}u.merge(u,{element:function(t){return"string"==typeof t&&(t=document.querySelector(t)),t},hasClass:function(t,e){for(var n=e.split(/\s+/),o=n.length;0<=--o;)if(!t.classList.contains(n[o]))return!1;return!0},addClass:function(e,n){if(u.isArray(e))return a(e,function(t){t&&u.addClass(t,n)});n.split(/\s+/).forEach(function(t){e.classList.add(t)})},removeClass:function(e,n){if(u.isArray(e))return a(e,function(t){t&&u.removeClass(t,n)});n instanceof RegExp?e.className=e.className.replace(n," ").trim().replace(/  +/g," "):n.split(/\s+/).forEach(function(t){e.classList.remove(t)})},toggleClass:function(t,e,n){null==n&&(n=!u.hasClass(t,e)),n?u.addClass(t,e):u.removeClass(t,e)},condClass:function(t,e,n,o){u.toggleClass(t,n,e),o&&u.toggleClass(t,o,!e)},createDOM:function(t,n){var o;if(u.isElement(t))return t;if(u.isArray(t)){var e=1;if("*text"==t[0])o=document.createTextNode(t[1]);else if("*html"==t[0])o=u.node(t[1]);else for(u.isArray(t[0])?(o=document.createDocumentFragment(),e=0):(n=t[1],o=u.createDOM(t[0],"object"==typeof n?(++e,n):null));e<t.length;){var i=t[e++];null!=i&&o.appendChild(u.createDOM(i))}return o}return"string"==typeof t?(o=document.createElement(t),null!=n&&Object.keys(n).forEach(function(t){var e;"style"==t?(e=n[t],Object.keys(e).forEach(function(t){o.style[t]=e[t]})):o[t]=n[t]}),o):void 0},target:function(t){return void 0!==t.target?t.target:t.srcElement},closest:function(t,e){if(t.closest)return t.closest(e);for(;t;){if(u.matches(t,e))return t;t=t.parentNode}},closestWithStyle:function(t,e){var n=Object.keys(e),o=document.documentElement;t:for(;t&&t!==o;){for(var i=u.getComputedStyle(t),s=n.length;0<=--s;){var a=n[s];if(i[a]!=e[a]){t=t.parentNode;continue t}}return t}},matches:function(t,e){return!(!t||t===document||!e)&&o.call(t,e)},remove:function(t){return t&&t.parentNode&&t.parentNode.removeChild(t)},isVisible:function(t){return 0<t.clientWidth||0<t.clientHeight},isHidden:function(t){return!u.isVisible(t)},node:function(t){var e=document.createElement("div");if(e.innerHTML=t.trim(),1<e.childNodes.length){var n=document.createRange();return n.selectNodeContents(e),n.extractContents()}return e.firstChild},setPos:function(t,e){t.style.left=e.x+"px",t.style.top=e.y+"px"},getBox:function(t){return t.getBoundingClientRect()},getAbsBox:function(t){var e=t.getBoundingClientRect(),n=u.getViewport();return{left:e.left+n.left,top:e.top+n.top,right:e.right+n.left,bottom:e.bottom+n.top,width:e.width,height:e.height}},getViewportLeft:function(){return window.pageXOffset},getViewportTop:function(){return window.pageYOffset},getViewport:function(){var t=u.getViewportLeft(),e=u.getViewportTop(),n=window.innerWidth,o=window.innerHeight;return{left:t,top:e,width:n,height:o,bottom:e+o,right:t+n}},getFixedViewport:function(){var t=window.innerWidth,e=window.innerHeight;return{left:0,top:0,width:t,height:e,right:t,bottom:e}},getScrollableParent:function(t){for(var e=t.parentNode;e&&e!==document.body&&"auto"!=s(e).overflow;)e=e.parentNode;return e},scrollIntoView:function(t){var e,n,o=u.getScrollableParent(t);o&&(e=u.getBox(o),(n=u.getBox(t)).top<e.top?o.scrollTop-=e.top-n.top:n.bottom>e.bottom&&(o.scrollTop+=n.bottom-e.bottom),n.left<e.left?o.scrollLeft-=e.left-n.left:n.right>e.right&&(o.scrollLeft+=n.right-e.right))},getData:function(t,e){return t.dataset?t.dataset[e]:t.getAttribute("data-"+u.camelToDashes(e))},setData:function(t,e,n){t.dataset?t.dataset[e]=n:t.setAttribute("data-"+u.camelToDashes(e),n)},empty:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},on:u.variableArgsMethod(function(t,e,n,o){u.isArray(t)?t.forEach(function(t){u.on(t,e,n,o)}):t.addEventListener(e,n,o||!1)},[1,2]),off:u.variableArgsMethod(function(t,e,n,o){u.isArray(t)?t.forEach(function(t){u.off(t,e,n,o)}):t.removeEventListener(e,n,o||!1)},[1,2]),getComputedStyle:s,stopEvent:function(t){t.preventDefault(),t.stopPropagation()},getScrollbarSize:function(){var t;return e||(t=u.createDOM(["div",{style:{width:"50px",height:"50px",overflow:"auto",position:"absolute",left:"-10000px",top:"-10000px"}},["div",{style:{width:"100px",height:"100px"}}]]),document.body.appendChild(t),e={width:t.offsetWidth-t.clientWidth,height:t.offsetHeight-t.clientHeight},document.body.removeChild(t)),e},scrollTo:function(s,t){var a=window.pageYOffset,r=window.pageXOffset;u.animate(function(t){var e,n,o,i=(e=1-(o=1-(o=t))*o,(n=a)+e*(s-n));window.scrollTo(r,i)},t)},scrollToElement:function(t,e){if((e=e||{}).offsetTop=e.offsetTop||0,!t)return!1;var n=t.getBoundingClientRect();u.scrollTo(u.getViewportTop()+n.top+e.offsetTop,e)},wrap:function(t,e){var n=document.createRange();return n.selectNode(t),n.surroundContents(e),e},trigger:function(t,e,n){var o=document.createEvent("HTMLEvents");o.initEvent(e,!0,!0),o.data=n,t.dispatchEvent(o)},live:function(n,t,o,i,s,e){u.on(n,t,function(t){var e=u.target(t);if(!o)return i.call(s||e,t,n);for(;e;){if(e.nodeType!==document.DOCUMENT_FRAGMENT_NODE&&u.matches(e,o))return e.disabled?null:i.call(s||e,t,e);if(e===n)return;e=e.parentNode}},!!e)},visibility:function(t,e){var n=t.getBoundingClientRect();(e=u.merge({page:0,element:0,elementRelative:0,elementAbsolute:0},e)).elementRelative?e.element=n.height*e.elementRelative:e.elementAbsolute&&(e.element=e.elementAbsolute);var o=e.page;return o instanceof Function&&(o=o()),n.top<o&&n.bottom>o?"passed":n.top+e.element<window.innerHeight&&n.bottom>o?"in-view":n.bottom<o?"above":n.top+e.element>=window.innerHeight?"below":void 0},overlay:(n=!1,{on:function(){return u.isMobileDevice()||n||(document.body.appendChild(i()),n=!0),this},off:function(){return u.isMobileDevice()||n&&(u.remove(i()),n=!1),this},cursor:function(t){return u.isMobileDevice()||(i().style.cursor=t),this}}),html:function(t){var e=document.createDocumentFragment();e.appendChild(u.node(t));for(var n=e.querySelectorAll("[data-name]"),o={$all:e},i=0;i<n.length;++i){var s=n[i];(o[s.getAttribute("data-name")]=s).removeAttribute("data-name")}return o},setTransition:function(t,e){var n=t.style;n.transition=n.webkitTransition=n.msTransition=e,/^transform/.test(e)&&(n.webkitTransition="-webkit-"+e)},getTransform:function(t){var e=u.getComputedStyle(t);return null!=e.webkitTransform?e.webkitTransform:null!=e.msTransform?e.msTransform:e.transform},getTransformMatrix:function(t){var e=/^matrix\(\s*(-?[0-9.]+)\s*,\s*(-?[0-9.]+)\s*,\s*(-?[0-9.]+)\s*,\s*(-?[0-9.]+)\s*,\s*(-?[0-9.]+)\s*,\s*(-?[0-9.]+)\s*\)$/i.exec(u.getTransform(t));if(e)return[parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[5]),parseFloat(e[6])]},setTransform:function(t,e){var n=t.style;n.transform=n.webkitTransform=n.msTransform=e},elementSize:function(t){(t=t.cloneNode(!0)).style.position="absolute",t.style.left="-10000px",document.body.appendChild(t);var e={width:t.offsetWidth,height:t.offsetHeight};return document.body.removeChild(t),e},dragging:function(n){var o,i,s;n=u.merge({klass:"ph-dragging",container:null,element:null,handle:null,start:u.noop,stop:u.noop,move:u.noop,esc:u.noop,threshold:null,timers:[],block:!0,cursor:"default",focus:null,overlay:!0},n);var a={mousemove:function(t){u.stopEvent(t),n.move(h(t))},touchmove:function(t){n.move(h(t))},mouseup:function(t){u.stopEvent(t),e(h(t))},touchend:function(t){u.stopEvent(t),e(h(t))},keydown:function(t){27==t.keyCode&&n.esc(t)}};var r,l,c=n.timers;function e(t){clearTimeout(l),u.removeClass(o,n.klass),u.overlay.off(),u.off(window,a,!0),n.stop(t)}function h(t){var e=t;return t.touches&&t.touches[0]&&(e=t.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,dx:e.clientX-i,dy:e.clientY-s,target:e.target}}function t(t,e){"mousedown"==t.type&&0!=t.button||(n.block&&u.stopEvent(t),n.container?(o=e,n.handle&&(o=u.closest(o,n.element))):o=n.element,n.focus&&n.focus.focus(),u.addClass(o,n.klass),n.overlay&&u.overlay.on().cursor(n.cursor),u.on(window,a,!0),t=h(t),i=t.clientX,s=t.clientY,n.start(h(t),o),r=0,function n(){{var o;r<c.length&&function t(e){l=setTimeout(function(){null==e||0<e?(o.handler(),t(null==e?null:e-1)):0===e&&n()},o.timeout)}((o=c[r++]).count)}}())}return n.container?u.live(n.container,["touchstart","mousedown"],n.handle||n.element,t):u.on(n.element,["touchstart","mousedown"],t),e}})}(window.PH),function(){"use strict";function n(s,a,r){return r=r||{},Object.keys(a).forEach(function(t){var e,n=a[t],o=t;PH.isArray(n)&&(o=n[0],e=n[2],n=n[1]);var i=PH.objectHasKey(r,o)?r[o]:PH.objectHasKey(r,t)?r[t]:n;if(e)switch(e.type){case"function":"string"==typeof i&&(i=(0,eval)(i))}s[t]=i}),s}PH.setDefaults=n,PH.defclass=function(t,e,n){var o="'use strict'; function "+t+"() { ";e&&(o+=t+".beforeBase.apply(this, arguments); ",o+="base.apply(this, arguments); "),o+=t+".init.apply(this, arguments); ",o+="} ",o+=t+".prototype = Object.create(base.prototype); ",o+=t+".prototype.constructor = "+t+"; ",o+="return "+t+"; ";var i=new Function("base",o)(e);i.base=e.prototype,i.objectName=t;var s=n(i,i.prototype)||i;return e&&!i.beforeBase&&(i.beforeBase=PH.noop),i.init||(i.init=PH.noop),i.prototype.finishDef&&i.prototype.finishDef(),s};var o=PH.variableArgsMethod;PH.Object=PH.defclass("PH_Object",Object,function(t,e){t.init=function(t){this.options&&(this.args&&(t=PH.merge({},this.args,t)),n(this,this.options,t))},e.finishDef=function(){var t=this.constructor;t.options&&(this.options=PH.merge({},t.base.options,t.options)),t.args&&(this.args=PH.merge({},t.base.args,t.args))}});var i=PH.defclass("EventProxy",PH.Object,function(t,e){t.options={_init_handlers:["eventHandlers",null]},t.init=function(){this._events={};var e=this._init_handlers;e&&Object.keys(e).forEach(function(t){this.on(t,e[t])},this)},e.on=o(function(t,e){(this._events[t]||(this._events[t]=[])).push(e)},[0,1]),e.off=o(function(t,e){var n=this._events[t];n&&((n=n.filter(function(t){return t!==e})).length?this._events[t]=n:delete this._events[t])},[0,1]),e.once=o(function(e,n){this.on(e,function t(){return this.off(e,t),n.apply(this,arguments)})},[0,1]),e.trigger=function(t){var e=this._events[t];if(e)for(var n=0;n<e.length;++n)e[n].apply(this,PH.slice(arguments,1))},e.withoutHooks=function(t,e){Array.isArray(t)||(t=[t]);var n={};t.forEach(function(t){n[t]=this._events[t],delete this._events[t]},this);try{return e()}finally{PH.merge(this._events,n)}}});i.global=new i;var t=PH.defclass("Widget",i,function(t,e){t.options={_tagName:["tagName","div"],_from:["from",null],_replace:["replace",!1],_className:["className",null],_focusable:["focusable",null],_disabled:["disabled",!1],_parent:["parent",null],_on_init:["onInit",null,{type:"function"}]},t.init=function(t){this._initElement(),this._disabled&&this.disable(!0);var e=this._on_init;e&&e.call(this,this),this._destroyed||i.global.trigger("NewWidget",this,this.constructor.objectName)},e._ph_className=[],e._createElement=function(){var t=document.createElement(this._tagName),e=this._ph_className.join(" ");return this._className&&(e+=" "+this._className),t.className=e,t},e._initElement=function(){var t,e;!0===this._focusable&&(this._focusable=0),this._from&&(this._from=PH.element(this._from),null==(this._from.PH_Widget=this)._focusable&&/^(?:select|input|textarea)$/i.test(this._from.tagName)&&(this._focusable=0),this._replace?(t=this._createElement(),this._from.className&&(t.className+=" "+this._from.className),this._from.parentNode.insertBefore(t,this._from),this._from.style.display="none"):(t=this._from,e=this._ph_className.join(" "),t.className&&(e+=" "+t.className),this._className&&(e+=" "+this._className),t.className=e)),t=t||this._createElement(),((this._element=t).PH_Widget=this)._from&&this._from.disabled&&this.disable(!0),0<=t.tabIndex&&null==this._focusable&&(this._focusable=t.tabIndex),null!=this._focusable&&(t.tabIndex=this._focusable,PH.on(t,{keydown:this._proxyDomEvent("keydown"),keypress:this._proxyDomEvent("keypress"),focus:this._proxyDomEvent("focus"),blur:this._proxyDomEvent("blur")})),PH.on(t,{mouseenter:this._proxyDomEvent("mouseenter"),mouseleave:this._proxyDomEvent("mouseleave"),mousemove:this._proxyDomEvent("mousemove")}),this._parent&&this._parent.addChild(this)},e._proxyDomEvent=function(e){return function(t){this.trigger(e,t)}.bind(this)},e.addChild=function(t){this.contentElement().appendChild(t.element())},e.contentElement=function(){return this.element()},e.finishDef=function(){t.base.finishDef.apply(this,arguments),(this._ph_className=this._ph_className.slice()).push("ph"+PH.camelToDashes(this.constructor.objectName))},e.element=function(){return this._element},e.focus=function(){this._element.focus()},e.blur=function(){this._element.blur()},e.addClass=function(t){PH.addClass(this._element,t)},e.delClass=function(t){PH.removeClass(this._element,t)},e.hasClass=function(t){return PH.hasClass(this._element,t)},e.toggleClass=function(t,e){PH.toggleClass(this._element,t,e)},e.disable=function(t){null==t&&(t=!0),this._element&&(this._element.disabled=t,this.toggleClass("ph-disabled",t)),this._disabled=t,this.trigger("disable",t)},e.enable=function(t){this.disable(null!=t&&t)},e.disabled=function(){return this._disabled},e.destroy=function(){var t;this._destroyed||(this.trigger("destroy"),this._destroyed=!0,(t=this._element)&&t!==this._from&&t.parentNode&&t.parentNode.removeChild(t),t&&(t.PH_Widget=null,this._element=null))},e.setPos=function(t){PH.setPos(this.element(),t)},e.getPos=function(){var t=this.element();return{x:t.offsetLeft,y:t.offsetTop}},e.getBox=function(){return PH.getBox(this.element())},e.setSize=function(t){var e=this.element();e.style.width=t.width+"px",e.style.height=t.height+"px"},e.relayout=function(){}});PH.Widget=t,PH.EventProxy=i;var l={true:!0,false:!1,null:null};t.autoInit=function(t){t=PH.element(t||document.body),PH.slice(t.querySelectorAll("[data-phino]")).forEach(function(t){if(!t.PH_Widget){for(var e=t.getAttribute("data-phino"),n={from:t},o=0;o<t.attributes.length;++o){var i=t.attributes[o],s=i.nodeName,a=i.nodeValue,r=/^data-ph-(.*)$/.exec(s);","==a.charAt(0)?a=JSON.parse(a.substr(1)):PH.objectHasKey(l,a)?a=l[a]:/^[0-9.]+$/.test(a)&&parseFloat(a)==a&&(a=parseFloat(a)),r&&(n[PH.dashesToCamel(r[1])]=a)}new PH[e](n)}})}}(),function(){"use strict";var n=[["Su","Mo","Tu","We","Th","Fr","Sa"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]],o=[["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],e={GoToday:"Go today"};PH.t=function(t){return e[t]},PH.t.calMon=function(t,e){return o[+e][t]},PH.t.calDay=function(t,e){return n[+e][t]},PH.t.messages=e}(),PH.scrollSpy=function(e,n,o){o=PH.setDefaults({},{throttle:0,offsets:{}},o);var i=window.pageYOffset,t=o.throttle,s={start:l,stop:function(){PH.off(window,["scroll","resize"],r)}};function a(){var t=window.pageYOffset;n(PH.visibility(e,o.offsets),t-i,s),i=t}var r=a;function l(){PH.on(window,["scroll","resize"],r)}return t&&(r=PH.throttle(a,t,{leading:!1})),a(),l(),s},function(n){"use strict";PH.ScrollMonitor=PH.defclass("ScrollMonitor",PH.Widget,function(t,e){t.options={_throttle:["throttle",0],_target:["target",null],_class:["class",null],_downClass:["downClass",null],_upClass:["upClass",null],_offset:["offset",0]},e._initElement=function(){var o,i,s=this,t=PH.element(s._from),a=PH.element(s._target||t);a&&(i=o=null,s.spy=PH.scrollSpy(s._from,function(t,e){var n=/^(?:above|passed)$/.test(t);PH.isHidden(a)?(s._class&&PH.removeClass(a,s._class),!1!==o&&s.trigger("toggle",o=!1)):n&&0<=e?(s._class&&PH.addClass(a,s._class),!0!==o&&s.trigger("toggle",o=!0)):!n&&e<0&&(s._class&&PH.removeClass(a,s._class),!1!==o&&s.trigger("toggle",o=!1)),t!==i&&s.trigger("status",i=t,e),n?(5<e&&(s._upClass&&PH.removeClass(a,s._upClass),s._downClass&&PH.addClass(a,s._downClass)),e<-5&&(s._downClass&&PH.removeClass(a,s._downClass),s._upClass&&PH.addClass(a,s._upClass))):(s._upClass&&PH.removeClass(a,s._upClass),s._downClass&&PH.removeClass(a,s._downClass))},{throttle:s._throttle,offsets:{page:s._offset}}))},e.stop=function(){this.spy.stop()},e.start=function(){this.spy.start()}}),PH.ScrollNavbar=PH.defclass("ScrollNavbar",PH.Widget,function(t,e){t.options={_animationSteps:["animationSteps",20]},e._initElement=function(){var i=this;(i._from.PH_Widget=i).refresh(),n.pushState&&PH.live(this._from,"click","a[href]",function(t,e){var n=e.href.replace(/^.*#/,"");PH.scrollToElement(document.getElementById(n),{steps:i._animationSteps}),PH.stopEvent(t)}),PH.on(window,["scroll","resize"],PH.throttle(function(){var t=i.links,e=function(t){for(var e=0;e<t.length;++e){var n=t[e],o=n.href.replace(/^.*#/,""),i=document.getElementById(o);if(i){var s=i.getBoundingClientRect();if(s.top>.2*window.innerHeight)return t[e-1];if(0<=s.top)return n}}return t[t.length-1]}(t);e&&(PH.addClass(PH.closest(e,"li"),"active"),i.trigger("scroll-navbar-active",e));for(var n=0;n<t.length;++n){var o=t[n];o!==e&&PH.removeClass(PH.closest(o,"li"),"active")}},100,{leading:!1}))},e.refresh=function(){this.links=PH.slice(this._from.querySelectorAll("a[href]"))}})}(window.history),PH.Carousel=PH.defclass("Carousel",PH.Widget,function(e,t){"use strict";var v=["touchstart","mousedown"];function b(t){return null!=t.screenX?t.screenX:t.touches[0].screenX}function y(t){return null!=t.screenY?t.screenY:t.touches[0].screenY}function o(t,e){for(var n=0;n<t.length;++n){if(t[n].left>=e)return n}}function i(t,e,n){var o=t.offsetLeft;return"center"==n?o+=t.offsetWidth/2:"right"==n&&(o+=t.offsetWidth),Math.abs(o-e)}function s(t){PH.slice(t.querySelectorAll("img[data-src]")).forEach(function(t){t.src=PH.getData(t,"src"),t.removeAttribute("data-src")})}e.options={_arrows:["arrows",!0],_dots:["dots",!0],_drag:["drag",!0],_snap:["snap",null],_circular:["circular",!1],_loop:["loop",!1],_handleResize:["handleResize",!1],_autoScroll:["autoScroll",null],_noMobile:["disableOnMobile",!1],_lazyLoadImgs:["lazyLoadImgs",null],_classNext:["classNext",""],_classPrev:["classPrev",""]},t._initElement=function(){var t=this;e.base._initElement.apply(t,arguments),t._circular&&(t._dots=!1),t.addClass("ph-at-begin ph-at-end");var n=document.createDocumentFragment(),o=t._cards=[];PH.slice(t._element.children).forEach(function(t,e){"SCRIPT"!=t.tagName&&(PH.addClass(t,"ph-card"),t.ph_index=e,o.push(t),n.appendChild(t))}),PH.empty(t._element),o.length?(t._scroller=PH.createDOM(["div",{className:"ph-scroller"},["div",{className:"ph-body"}]]),t._element.appendChild(t._scroller),t._body=t._scroller.firstChild,t._body.appendChild(n),t._lazyLoadImgs&&t.on("move",function(e,n){n=n||t._getBounds(),t._cards.filter(function(t){return t.offsetLeft+t.offsetWidth>=e&&t.offsetLeft<=e+n.width}).forEach(s)}),t._noMobile&&PH.isMobileDevice()?(t._mobileDisabled=!0,t._dots=!1,t.addClass("ph-native-scroll"),PH.on(t._scroller,"scroll",function(){t.trigger("move",t._scroller.scrollLeft)}),t.trigger("move",0)):(t._drag&&t._setupDrag(),t._arrows&&(t.addClass("ph-has-arrows"),t._setupArrows()),t._dots&&(t.addClass("ph-has-dots"),t._setupDots()),t.setPosition(t._getBounds().min),t._handleResize&&(t._onResize=t._onResize.bind(t),PH.on(window,"resize",t._onResize),t.on("destroy",function(){PH.off(window,"resize",t._onResize)})),t._setupAutoScroll(),t.on({mouseenter:function(){t._disableAutoScroll()},mouseleave:function(){t._dragging||t._setupAutoScroll()}}))):t.destroy()},t._onResize=function(){this.relayout();var t=this._getCurrentCard();this._gotoCard(t.card)},t._setupAutoScroll=function(){var o=this;o._autoScroll&&(clearTimeout(o._autoScrollTimer),function n(){o._autoScrollTimer=setTimeout(function(){var t=o._getBounds(),e=t.current==t.max?t.min:o._getNextPagePos();o._animate(e,"0.4s"),n()},o._autoScroll)}())},t._disableAutoScroll=function(t){this._autoScroll&&(clearTimeout(this._autoScrollTimer),t&&setTimeout(this._setupAutoScroll.bind(this),t))},t.reloadCards=function(){var n=this._cards=[];PH.slice(this._body.children).forEach(function(t,e){"SCRIPT"!=t.tagName&&(PH.addClass(t,"ph-card"),t.ph_index=e,n.push(t))}),this.relayout(),this.trigger("reload")},t.contentElement=function(){return this._body},t.getCards=function(){return this._cards},t._getCurrentCard=function(n){var o=this,t=o._getBounds();switch(n=null==n?t.current:n,o._snap){case"center":n+=t.width/2;break;case"right":n+=t.width}return{card:o._cards.slice().sort(function(t,e){return i(t,n,o._snap)-i(e,n,o._snap)})[0],pos:n}},t._getNextPagePos=function(){var t=this._computePages(),e=this._getBounds(),n=o(t,e.current);return n<t.length-1?Math.min(e.max,t[n+1].left):e.max},t._getPrevPagePos=function(){var t=this._computePages(),e=this._getBounds(),n=o(t,e.current);return 0<n?Math.max(e.min,t[n-1].left):e.min},t.next=function(){var t,e=this._getNextPagePos();(this._loop||this._circular)&&(t=this._getBounds(),this._loop?e==t.current&&(e=t.min):this._circular&&Math.abs(e-t.current)<t.width/2&&(this._rotateCards(this._computePages().pageSize),e=this._getNextPagePos())),this._doSnapAnimate(e,"0.4s"),this._disableAutoScroll(1e4)},t.prev=function(){var t,e=this._getPrevPagePos();this._circular&&(t=this._getBounds(),Math.abs(e-t.current)<t.width/2&&(this._rotateCards(-this._computePages().pageSize),e=this._getPrevPagePos())),this._doSnapAnimate(e,"0.4s"),this._disableAutoScroll(1e4)},t._setupArrows=function(){var e=this,t=PH.createDOM([["a",{className:("ph-left-margin "+e._classPrev).trim(),href:"#"}],["a",{className:("ph-right-margin "+e._classNext).trim(),href:"#"}]]);function n(t){PH.stopEvent(t),e.prev()}function o(t){PH.stopEvent(t),e.next()}e._leftArrow=t.firstChild,e._rightArrow=e._leftArrow.nextSibling,e._element.appendChild(t),PH.on(e._leftArrow,v,n),PH.on(e._rightArrow,v,o),PH.on(e._leftArrow,"click",PH.stopEvent),PH.on(e._rightArrow,"click",PH.stopEvent),e.on("keydown",function(t){37==t.keyCode?n(t):39==t.keyCode&&o(t)})},t._setupDots=function(){var t=this._dots=PH.createDOM("div",{className:"ph-dots"});this._element.appendChild(t),this.resetDots(0)},t.resetDots=function(t){var e,i=this;i._dots&&(PH.empty(i._dots),e=document.createDocumentFragment(),i._pages=i._computePages(),i._pages.forEach(function(o){var t=PH.createDOM(["a",{className:"ph-dot"}]);o.dot=t,e.appendChild(t),PH.on(t,v,function(t){var e=i._getBounds(),n=Math.min(o.left,e.max);n=Math.max(n,e.min),i._doSnapAnimate(n,"0.5s"),PH.stopEvent(t),i._disableAutoScroll(1e4)})}),i._dots.appendChild(e)),i._refresh(t)},t.relayout=function(){this.resetDots(),this.trigger("refresh")},t._refresh=function(t){var o,i,s,e=this._getBounds();if(null==t&&(t=e.current),this.toggleClass("ph-at-begin",t<=e.min),this.toggleClass("ph-at-end",t>=e.max),e.max>e.min&&((this._loop||this._circular)&&this.delClass("ph-at-end"),this._circular&&this.delClass("ph-at-begin")),this.trigger("move",t,e),this._dots){for(var n=this._pages,a=t,r=t+e.width,l=(o=function(t,e){var n=0;return t.left>=a&&t.right<=r?n=t.right-t.left:t.left>=a&&t.left<=r?n=r-t.left:t.right>=a&&t.right<=r&&(n=t.right-a),-(n/=t.right-t.left)},s=i=null,n.forEach(function(t,e){var n=o(t,e);(null==i||n<i)&&(s=e,i=n)}),s),c=0;c<n.length;++c){var h=n[c];PH.toggleClass(h.dot,"ph-active",c==l),c==l&&10<n.length&&this._scrollDots(h.dot)}this.trigger("dot-change",l,n[l])}return e},t._scrollDots=function(t){var i=this,s=i._dots.scrollLeft,a=t.offsetLeft-i._dots.offsetWidth/2;PH.animate(function(t){var e,n,o;i._dots.scrollLeft=(e=1-(o=1-(o=t))*o,(n=s)+e*(a-n))})},t._rotateCards=function(t){var e,n=this._getBounds().current,o=0;if(0<t)for(;0<t--;)o+=(e=this._cards.shift()).offsetWidth,this._body.appendChild(e),this._cards.push(e);else for(;t++<0;)o-=(e=this._cards.pop()).offsetWidth,this._body.insertBefore(e,this._body.firstChild),this._cards.unshift(e);return this.setPosition(n-o),o},t._computePages=function(){for(var t=this._getBounds(),e=this._cards,n=0,o=[],i=0,s=0;s<e.length;++s){var a=e[s];a.offsetLeft+a.offsetWidth>n&&(n=Math.min(t.contentWidth,a.offsetLeft+t.width),o.push({card:a,left:a.offsetLeft,right:n}),i=i||s)}return o.pageSize=i,o},t._setupDrag=function(){var i,s,a,r,l,c,h,u,d,p,f,_=this,m=PH.isMobileDevice()?{touchmove:t,touchend:g}:{mousemove:t,mouseup:g};function t(t){if(20<Math.abs(a-y(t))&&!p)return g();l=r-b(t),r=b(t);var e=i+s-b(t);10<Math.abs(e-i)&&(PH.overlay.on(),p=!0),p&&PH.stopEvent(t);var n=!1;d<=u?e=i+.1*(s-b(t)):e<u?(_._circular&&(i-=_._rotateCards(-1),n=!0),e=u-.1*(u-e)):d<e&&(_._circular&&(i-=_._rotateCards(1),n=!0),e=d+.1*(e-d)),n||(_.setPosition(e),_.trigger("dragging",e));var o=PH.perfnow();h=o-c,c=PH.perfnow()}function g(t){PH.off(document,m,{passive:!1});var e,n=_._position(),o=l/h*70;isNaN(o)||(e=n+o,e=Math.min(d,Math.max(e,u)),f?_._alignCard(e):_._doSnapAnimate(e,"0.4s"),l=0,PH.overlay.off(),_._dragging=!1,_._disableAutoScroll(1e4))}PH.on(_._element,"dragstart",PH.stopEvent,!0),PH.on(_._element,v,function(t){"mousedown"==t.type&&PH.stopEvent(t);var e=_._getBounds();f=e.contentWidth<e.width,i=e.current,r=s=b(t),a=y(t),u=e.min,d=e.max,PH.on(document,m,{passive:!1}),p=!1,_._dragging=!0,_._disableAutoScroll()})},t._getBounds=function(){var t=this._position(),e=0,n=this._cards[0],o=this._cards[this._cards.length-1],i=o.offsetLeft+o.offsetWidth-n.offsetLeft,s=this._scroller.offsetWidth,a=i-s;return"center"==this._snap&&(e-=(s-n.offsetWidth)/2,a+=(s-o.offsetWidth)/2),{min:e,max:a,current:t,width:s,contentWidth:i}},t._position=function(){return this._mobileDisabled?this._scroller.scrollLeft:this._offset||0},t.setPosition=function(t){PH.setTransition(this._body,"none"),PH.setTransform(this._body,"translate3d("+-t+"px, 0, 0)"),this._offset=t,this._refresh(t)},t._animate=function(t,e){PH.setTransition(this._body,"transform "+e),PH.setTransform(this._body,"translate3d("+-t+"px, 0, 0)"),this._offset=t,this._refresh(t)},t._gotoNextCard=function(){var t=(t=this._getCurrentCard().card).nextSibling||t;this._gotoCard(t)},t._gotoPrevCard=function(){var t=(t=this._getCurrentCard().card).previousSibling||t;this._gotoCard(t)},t._gotoCard=function(t,e,n){null==n&&(n="0.2s");var o=this._getBounds(),i=t.offsetLeft;switch(e||this._snap){case"center":i-=o.width/2-t.offsetWidth/2;break;case"right":i-=o.width-t.offsetWidth}i=Math.max(Math.min(i,o.max),o.min),this._animate(i,n)},t._doSnapAnimate=function(t,e){this._snap?this._alignCard(t):this._animate(t,e||"0.2s")},t.bringCardInView=function(t){var e=t.getBoundingClientRect(),n=this._scroller.getBoundingClientRect();e.left<n.left?this._gotoCard(t,"left"):e.right>n.right&&this._gotoCard(t,"right")},t._alignCard=function(t){var e=this._getCurrentCard(t);this._gotoCard(e.card)},PH.Widget.prototype.relayoutCarousels=function(t){PH.slice((t||this._element).querySelectorAll(".ph-carousel")).forEach(function(t){var e=t.PH_Widget;e&&e.relayout()})}}),PH.Popup=PH.defclass("Popup",PH.Widget,function(t,e){"use strict";t.options={_content:["content",null],_anchor:["anchor",null],_type:["type","menu"],_align:["align","SW NW"],_scrollClose:["scrollClose",200],_permanent:["permanent",!1],_rescale:["rescale",!1]},e._initElement=function(){t.base._initElement.apply(this,arguments),this._element.appendChild(this._content),this._on_docMouseDown=this._on_docMouseDown.bind(this),this._scrollClose&&(this._on_docScroll=PH.throttle(this._on_docScroll.bind(this),100,{leading:!1,trailing:!0}),this.on("destroy",this.hide.bind(this))),this._permanent&&this.addClass("ph-permanent")},e.show=function(t){if(this._timerHide&&this._timerHide.cancel(),!this._visible){var e={};if(this.trigger("beforeShow",e),e.cancel)return}if(this._anchor&&!/^(?:in-view|passed)$/.test(PH.visibility(this._anchor))){if(PH.isMobileDevice())return;return this.hide()}var n,o,i=this._fixedCont=this._anchor&&PH.closestWithStyle(this._anchor,{position:"fixed"}),s=i?PH.getBox(this._element):PH.getAbsBox(this._element);!this._rescale||(n=PH.getTransformMatrix(this._element))&&(s=PH.merge({},s,{width:s.width/n[0],height:s.height/n[3]}));var a=function(t){for(var e,n=t.wanted,o=t.box,i=t.fixed?PH.getFixedViewport():PH.getViewport(),s=0;s<n.length&&((e=n[s]).y<0||e.y+o.height>i.bottom||e.x<0||e.x+o.width>i.right);++s);e.y<0&&(e.y=0);e.x<0&&(e.x=0);return e}({wanted:this._anchor?(this.toggleClass("ph-fixed",!!i),o=i?PH.getBox(this._anchor):PH.getAbsBox(this._anchor),this._align.split(" ").map(function(t){switch(t.toUpperCase()){case"NW":return{x:o.left,y:o.top-s.height,c:"ph-popup-n ph-popup-w ph-popup-top"};case"N":return{x:o.left+(o.width-s.width)/2,y:o.top-s.height,c:"ph-popup-n ph-popup-top"};case"NE":return{x:o.right-s.width,y:o.top-s.height,c:"ph-popup-n ph-popup-e ph-popup-top"};case"=NW":return{x:o.left,y:o.top,c:"ph-popup-n ph-popup-w ph-popup-top"};case"=N":return{x:o.left+(o.width-s.width)/2,y:o.top,c:"ph-popup-n ph-popup-top"};case"=NE":return{x:o.right-s.width,y:o.top,c:"ph-popup-n ph-popup-e ph-popup-top"};case"SW":return{x:o.left,y:o.bottom,c:"ph-popup-s ph-popup-w ph-popup-bottom"};case"S":return{x:o.left+(o.width-s.width)/2,y:o.bottom,c:"ph-popup-s ph-popup-bottom"};case"SE":return{x:o.right-s.width,y:o.bottom,c:"ph-popup-s ph-popup-e ph-popup-bottom"};case"=SW":return{x:o.left,y:o.bottom-s.height,c:"ph-popup-s ph-popup-w ph-popup-bottom"};case"=S":return{x:o.left+(o.width-s.width)/2,y:o.bottom-s.height,c:"ph-popup-s ph-popup-bottom"};case"=SE":return{x:o.right-s.width,y:o.bottom-s.height,c:"ph-popup-s ph-popup-e ph-popup-bottom"};case"W":return{x:o.left-s.width,y:o.top-(s.height-o.height)/2,c:"ph-popup-w ph-popup-left"};case"WN":return{x:o.left-s.width,y:o.top,c:"ph-popup-w ph-popup-n ph-popup-left"};case"WS":return{x:o.left-s.width,y:o.top+o.height-s.height,c:"ph-popup-w ph-popup-s ph-popup-left"};case"E":return{x:o.right,y:o.top-(s.height-o.height)/2,c:"ph-popup-e ph-popup-right"};case"EN":return{x:o.right,y:o.top,c:"ph-popup-e ph-popup-n ph-popup-right"};case"ES":return{x:o.right,y:o.top+o.height-s.height,c:"ph-popup-e ph-popup-s ph-popup-right"}}})):[t],box:s,fixed:!!i});PH.setPos(this._element,{x:a.x,y:a.y}),this.delClass(/ph-popup-(?:[nesw]|left|right|top|bottom)/g),this.addClass("ph-visible"),a.c&&this.addClass(a.c),"menu"==this._type&&setTimeout(function(){PH.on(document,["mousedown","touchstart"],this._on_docMouseDown)}.bind(this)),this._visible||(this._focusable&&this._element.focus(),this._visible=!0,this._scrollClose&&(this._scrollStart=PH.getViewportTop(),PH.on(window,"scroll",this._on_docScroll)),this.trigger("show"))},e.hide=function(){this._visible&&(this._visible=!1,this.delClass("ph-visible"),PH.off(document,["mousedown","touchstart"],this._on_docMouseDown),this._scrollClose&&PH.off(window,"scroll",this._on_docScroll),this.trigger("hide"),this._timerHide&&this._timerHide.cancel(),this._timerHide=PH.cancellable(function(){this._element&&PH.setPos(this._element,{x:-1e4,y:-1e4})}.bind(this),100)())},e.visible=function(){return!!this._visible},e.reposition=e.show,e.toggle=function(t){this._visible?this.hide():this.show(t)},e.setContent=function(t){PH.empty(this._element),this._content=t,this._element.appendChild(t),this.visible()&&this.reposition()},e.setAlign=function(t){this._align=t,this.visible()&&this.reposition()},e._on_docMouseDown=function(t){if(!this._permanent){for(var e=t.target;e&&e!==this._element&&e!==this._anchor;)e=e.parentNode;e||(this.hide(),t.stopPropagation())}},e._on_docScroll=function(){var t,e;this._fixedCont&&this._permanent&&this._anchor&&"in-view"==PH.visibility(this._anchor)||(t=PH.getViewport(),Math.abs(t.top-this._scrollStart)>this._scrollClose?this.hide():!this._anchor||((e=this._anchor.getBoundingClientRect()).top<0||e.bottom>t.height)&&this.hide())}}),PH.Dropdown=PH.defclass("Dropdown",PH.Widget,function(e,t){"use strict";var c=null;e.options={_trigger:["trigger",null],_openOn:["openOn","hover"],_stopEvent:["stopEvent",!0],_position:["position",null],_align:["align","SE SW"],_content:["content",null],_target:["target",null],_scrollClose:["scrollClose",400],_permanent:["permanent",!1]},t._initElement=function(){var n=this,t=n._openOn,e=n._align,o=n._trigger||n._from;"string"==typeof o&&(o=document.querySelector(o)),n._trigger=o,n._trigger.PH_Widget||(n._trigger.PH_Widget=n),null!=n._position&&(e=function(t){switch(t=t.trim().toLowerCase().split(/\s+/).join(" ")){case"top left":return"NW NE SW SE";case"top center":return"N S";case"top right":return"NE NW SE SW";case"middle left":return"W E";case"middle right":return"E W";case"bottom left":return"SW SE NW NE";case"bottom center":return"S N";case"bottom right":return"SE SW NE NW";case"left":return"W";case"left top":return"WN";case"left bottom":return"WS";case"right":return"E";case"right top":return"EN";case"right bottom":return"ES"}}(n._position)||e);var i=n._makeContent(n._content),s=n._popup=new PH.Popup({className:n._className,content:i,type:"menu",anchor:o,align:e,scrollClose:n._scrollClose,permanent:n._permanent}),a=PH.cancellable(function(){s.hide()},500);s.addClass("ph-dropdown-popup");function r(t,e){PH.on(o,t,e),l.push([t,e])}var l=[];PH.isArray(t)||(t=t.split(/\s*,\s*/)),t.forEach(function t(e){"hover-or-click"==e?PH.isMobileDevice()?(n._stopEvent=!0,t("click")):t("hover"):"hover"==e?PH.isMobileDevice()||(r("mouseenter",function(t){n.disabled()||(PH.stopEvent(t),a.cancel(),s.show())}),n._permanent||(r("mouseleave",a),s.on({mouseleave:a}))):e&&r(e,function(t){n.disabled()||(n._stopEvent&&PH.stopEvent(t),n._permanent?s.show():s.toggle())})}),n.on("destroy",function(){s.destroy(),l.forEach(function(t){PH.off(o,t[0],t[1])})}),n._on_windowResize=n._on_windowResize.bind(n),s.on({beforeShow:function(t){this.element().parentNode||document.body.appendChild(this.element()),n.trigger("beforeShow",t)},show:function(){n._permanent||(c&&c!==n&&c.close(),c=n),PH.on(window,"resize",n._on_windowResize),a.cancel(),n.trigger("show")},hide:function(){PH.off(window,"resize",n._on_windowResize),a.cancel(),n.trigger("hide")},mouseenter:a.cancel})},t._on_windowResize=function(){this._popup.reposition()},t.disable=function(t){e.base.disable.apply(this,arguments),t&&this.close()},t.open=function(){this._popup.show()},t.close=function(){this._popup.hide()},t.toggle=function(){this._popup.toggle()},t.setContent=function(t){this._popup.setContent(this._makeContent(t))},t.setAlign=function(t){this._popup.setAlign(t)},t._makeContent=function(t){var e;return null==t&&"SCRIPT"==(t=this._target?document.querySelector(this._target):this._trigger.nextElementSibling).tagName&&(t=t.innerHTML),"string"==typeof t&&((e=document.createElement("div")).innerHTML=t,t=e),PH.addClass(t,"ph-dropdown-inner"),t}}),PH.Select=PH.defclass("Select",PH.Widget,function(a,t){"use strict";function c(t,e,n){for(var o=[],i=0;i<t.children.length;++i){var s,a,r,l=t.children[i];"OPTGROUP"==l.tagName?((s=c.call(this,l,l.label,n)).unshift({label:l.label,disabled:l.disabled}),o.push(s)):"OPTION"==l.tagName&&(a=l.hasAttribute("value")?l.value:l.textContent,r=null!=l.getAttribute("selected"),o.push({label:this._htmlLabels?l.innerHTML:l.textContent,value:a,disabled:l.disabled,group:e,selected:r,className:l.getAttribute("class"),optionEl:l}),r&&n.indexOf(a)<0&&n.push(a))}return o}function r(t){return null==t?[]:PH.isArray(t)?t.slice().sort():[t]}a.options={_search:["search",!1],_replace:["replace",!0],_searchFold:["searchFold","s,t,a,i,S,T,A,I"],_searchPrefix:["searchPrefix",!1],_searchEmptyValue:["searchEmptyValue",null],_searchInfoText:["searchInfoText",null],_optionTagName:["optionTagName","a"],_data:["data",null],_value:["value",null],_labelFunc:["labelFunc",null,{type:"function"}],_optionFunc:["optionFunc",null,{type:"function"}],_emptyLabel:["emptyLabel","Select..."],_multi:["multi",!1],_flat:["flat",!1],_htmlLabels:["htmlLabels",!1],_align:["align","SW NW SE NE"],_scrollClose:["scrollClose",PH.isMobileDevice()?0:200]},t._initElement=function(){var e=this;a.base._initElement.call(e),e._from&&e._from.multiple&&(this._multi=e._from.multiple,this.addClass("ph-select-multiple"));var t,n,o,i=e._optionsContainer=document.createElement("div");i.className="ph-select-options",e._multi&&PH.addClass(i,"ph-select-multiple"),e._search&&((t=document.createElement("div")).className="ph-search-container",i.appendChild(t),(n=e._input=document.createElement("input")).className="ph-search",o={input:e._on_searchInput.bind(e),keydown:e._on_searchKeyDown.bind(e),keypress:function(t){t.stopPropagation()}},/MSIE |Trident\//.test(navigator.userAgent)&&(delete o.input,o.keydown=e._on_searchKeyDown_IE.bind(e)),PH.on(n,o),t.appendChild(n),"string"==typeof e._search&&(n.placeholder=e._search),e._searchFold&&(e._searchFold=function(o){"string"==typeof o&&(o=o.split(/\s*,\s*/g));var t=o.map(function(t){return new RegExp("["+t.substr(1)+"]","g")});return function(n){return t.forEach(function(t,e){n=n.replace(t,o[e].charAt(0))}),n}}(e._searchFold)),e._searchInfoText&&(e._searchInfoText=PH.node("<div class='ph-info-text'>"+e._searchInfoText+"</div>")));var s=e._body=document.createElement("div");s.className="ph-body",i.appendChild(s),e._flat?(e.addClass("ph-flat"),e._element.appendChild(i),e._active=!0):(e._popup=new PH.Popup({className:e._className,content:i,type:"menu",anchor:e._element,focusable:!0,align:e._align,scrollClose:e._scrollClose}),PH.elementSize(e._popup.element()),document.body.appendChild(e._popup._element),e.on({destroy:function(){e._popup.destroy()}}),e._on_windowResize=e._on_windowResize.bind(e),e._popup.on({beforeShow:function(){e._search&&(e._input.value="",e._filterList()),e._resetPopupWidth()},show:function(){e._data.length&&(e._active=!0,e.addClass("ph-active"),e._updateSelected(),e._prevValue=r(e._value),PH.on(window,"resize",e._on_windowResize),e._input&&!PH.isMobileDevice()&&setTimeout(function(){e._input.focus()}),e._from&&PH.trigger(e._from,"ph-show"))},hide:function(){e._active=!1,e.delClass("ph-active"),e._triggerChange(),e.focus(),PH.off(window,"resize",e._on_windowResize),e._from&&PH.trigger(e._from,"ph-close")},keydown:e._handleKeyDown.bind(e),keypress:e._handleKeyPress.bind(e)}),e._label=document.createElement(this._optionTagName),e._label.className="ph-label",e._element.appendChild(e._label),PH.on(e._element,"mousedown",function(t){e.disabled()||e._popup.toggle()})),e.on({keydown:e._handleKeyDown.bind(e),keypress:e._handleKeyPress.bind(e),disable:function(){e._popup&&e._popup.hide()}}),e._multi&&(PH.on(i,"mouseenter",e._removeHighlight.bind(e)),e.on("blur",e._removeHighlight.bind(e))),e.reset(e._data)},t._removeHighlight=function(){this._highlighted=null,PH.slice(this._optionsContainer.querySelectorAll(".ph-selected")).forEach(function(t){PH.removeClass(t,"ph-selected")})},t._resetPopupWidth=function(){this._popup._element.style.width=this._element.offsetWidth+"px"},t._on_windowResize=function(t){this._popup.reposition(),this._resetPopupWidth()},t.reset=function(t){t?this._data=t:(t=this._data=c.call(this,this._from,null,this._value=[]),this.disable(!!this._from.disabled)),this._createOptions(),this._body.scrollTop=0},t._createOptions=function(){var t,a=this,r=(a._groupsByLabel={},a._options=[]);PH.empty(a._body),function o(t,i,s){t.forEach(function(t){var e,n;PH.isArray(t)?(e=t[0],(n=document.createElement("div")).className="ph-group",i.appendChild(n),a._addOption(e,n,"group-label"),(a._groupsByLabel[e.label]=e).container=n,e.length=t.length-1,o(t.slice(1),n,e.disabled)):(s&&(t.disabled=!0),t.index=r.length,r.push(t),t.element=a._addOption(t,i,"option"))})}(a._data,a._body,!1),a._highlighted=null,a._multi||(t=a.optionByValue(a.value()))&&(a._highlighted=t.index),a._data.length&&a._updateLabel()},t._handleKeyDown=function(t){if(!this.disabled())switch(t.keyCode){case 38:this.selectPrev(),PH.stopEvent(t);break;case 40:this.selectNext(),PH.stopEvent(t);break;case 13:var e,n;this._multi&&this._active?(e=this._options[this._highlighted])&&(e.checkbox.checked=!e.checkbox.checked,n=this.value().filter(function(t){return t!==e.value}),e.checkbox.checked&&n.push(e.value),this.select(n,!0)):this._popup&&this._popup.toggle(),PH.stopEvent(t);break;case 27:null!=this._prevValue&&this.select(this._prevValue,!0),this._active&&(this._popup&&this._popup.hide(),PH.stopEvent(t))}},t._handleKeyPress=function(t){var e,n,o,i,s,a=this;function r(t){var e=a.optionByValue(t);return i.test(e.label)}a.disabled()||a._multi||(e=String.fromCharCode(t.keyCode||t.which),o=(n=a._values()).indexOf(a.value()),i=new RegExp("^"+e.toLowerCase(),"i"),null==(s=PH.findNext(n,o,r))&&(s=PH.findNext(n,0,r)),null!=s&&a.select(n[s],!0))},t._values=function(){return this._options.map(function(t){return t.value})},t.selectNext=function(){return this._moveSelection(1)},t.selectPrev=function(){return this._moveSelection(-1)},t._moveSelection=function(t){var e=this,n=e._highlighted;null==n&&(n=t<0?e._options.length:-1);var o,i,s=e._options.filter(function(t){return!(t.disabled||t.filtered)});if(t<0){for(o=s.length;0<=--o&&!((i=s[o]).index<n););o<0&&(i=s[s.length-1])}else{for(o=0;o<s.length&&!((i=s[o]).index>n);++o);o==s.length&&(i=s[0])}i&&(this._highlighted=i.index,e._multi||e.select(i.value,!0),e._updateSelected())},t.forEachOption=function(e){this._options.forEach(function(t){e.call(this,t.value,t)},this)},t.forEachGroup=function(e){Object.keys(this._groupsByLabel).forEach(function(t){e.call(this,t,this._groupsByLabel[t])},this)},t._updateSelected=function(){var n,o,i=this;i._active&&(n=i.value(),i.forEachOption(function(t,e){(i._multi&&e.index==i._highlighted||e.value===n)&&(o=e),PH.toggleClass(e.element,"ph-selected",e===o),i._multi&&(e.checkbox.checked=0<=n.indexOf(t))}),o&&PH.scrollIntoView(o.element))},t._addOption=function(t,e,n){var o=this._makeOption(t,n);return t.className&&PH.addClass(o,t.className),e.appendChild(o),o},t._makeOption=function(t,e){var n,o,i,s,a,r=this;return"option"==e&&r._multi?(n="ph-option"+(t.disabled?" ph-disabled":""),o=this.value(),s=(i=PH.html("<label data-name='label' class='"+n+"'><input data-name='input' type='checkbox'"+(t.disabled?" disabled":"")+(o.indexOf(t.value)<0?"":" checked")+" /><i></i>"+(r._htmlLabels?r._makeOptionLabel(t):PH.htmlEscape(r._makeOptionLabel(t)))+"</label>")).label,t.checkbox=i.input,PH.on(i.input,"click",function(){t.optionEl&&PH.trigger(t.optionEl,"click",t),t.disabled||r.toggleCheckbox(t.value,i.input.checked)})):(s=document.createElement(r._optionTagName),a="ph-"+e,t.disabled&&(a+=" ph-disabled"),s.className=a,r._htmlLabels?s.innerHTML=r._makeOptionLabel(t):s.textContent=r._makeOptionLabel(t),"option"==e&&PH.on(s,"click",function(){t.optionEl&&PH.trigger(t.optionEl,"click",t),t.disabled||r.select(t.value)})),s},t._makeOptionLabel=function(t){return this._optionFunc?this._optionFunc(t):t.label},t._on_searchInput=function(t){this.trigger("search",this._input.value),this._filterList(this._input.value)},t._on_searchKeyDown=function(t){if(27==t.keyCode&&this._input.value)return this._input.value="",this._filterList(null),this._removeHighlight(),PH.stopEvent(t),!0},t._on_searchKeyDown_IE=function(t){this._on_searchKeyDown(t)||setTimeout(this._on_searchInput.bind(this),5)},t.toggleCheckbox=function(e,t){var n=!1,o=this.value().filter(function(t){return t!==e||!(n=!0)});null==t&&(t=!n),t&&o.push(e),this.select(o)},t._searchMatches=function(t,e){t=t.trim(),e=e.trim(),this._searchFold&&(t=this._searchFold(t),e=this._searchFold(e));var n=e.toLowerCase().indexOf(t);return this._searchPrefix?0===n:0<=n},t._filterList=function(o){null!=(o=o||null)&&(o=o.toLowerCase());var i={},s=null,a=!1;this.forEachOption(function(t,e){var n=null==o||this._searchMatches(o,e.label);n&&(a=!0),e.element.style.display=n?"":"none",e.filtered=!n,null!=this._searchEmptyValue&&e.value==this._searchEmptyValue&&(s=e),e.group&&(i[e.group]=i[e.group]||0,e.filtered&&++i[e.group])}),!a&&s&&(s.element.style.display="",s.filtered=!1),this._searchInfoText&&(a?PH.remove(this._searchInfoText):this._body.appendChild(this._searchInfoText)),this.forEachGroup(function(t,e){var n;null==o?e.container.style.display="":(n=i[t]==e.length,e.container.style.display=n?"none":"")}),this._active&&(this._popup&&this._popup.reposition(),this._body.scrollTop=0)},t._updateLabel=function(){var t,e;this._label&&(this._labelFunc?(t=this._labelFunc(this.value(),this),this._htmlLabels?this._label.innerHTML=t:this._label.textContent=t):this._multi?(t=this.value().map(function(t){return this.optionByValue(t).label},this).join(", ")||this._emptyLabel,this._label.textContent=t):(e=this.optionByValue(this.value()),this._label.textContent=e?e.label:this._emptyLabel))},t.optionByValue=function(t){for(var e=0;e<this._options.length;++e){var n=this._options[e];if(n.value==t)return n}},t.select=function(t,e,n){"number"==typeof this._multi&&PH.isArray(t)&&(t=t.slice(-this._multi)),this._prevValue=r(this._value),e||this._popup&&this._popup.hide(),this._value=r(t),this._updateLabel(),this._updateSelected(),this._from&&(this._multi||(this._from.value=t),PH.slice(this._from.options).forEach(function(t,e){(t.selected=0<=this._value.indexOf(t.value))&&!this._multi&&(this._highlighted=e)},this)),n||this._triggerChange()},t.selectByLabel=function(n,t,e){var o=[];n=n.toLowerCase(),this.forEachOption(function(t,e){this._searchMatches(n,e.label)&&o.push(t)}),this.select(o,t,e)},t._hasChanged=function(){var t=r(this._value),e=this._prevValue;if(!e||t.length!=e.length)return!0;for(var n=0;n<t.length;++n)if(t[n]!=e[n])return!0;return!1},t._triggerChange=function(){this._hasChanged()&&(this._active&&!this._flat||(this._from&&PH.trigger(this._from,"change"),this.trigger("change",this._value,this._prevValue))),this._prevValue=null},t.value=function(){var t=r(this._value);return this._multi?t:t[0]}}),PH.Calendar=PH.defclass("Calendar",PH.Widget,function(c,t){"use strict";c.options={_value:["value",null],_date:["date",null],_fdow:["fdow",1],_minDate:["min",null],_maxDate:["max",null],_showMenu:["showMenu",!0],_highlightDates:["highlightDates",null,{type:"function"}],__disableDates:["disableDates",null,{type:"function"}]};var h=["<div class='ph-head'>","<div class='ph-controls'>","<a class='ph-left' data-name='left'></a>","<a class='ph-title' data-name='title'></a>","<a class='ph-right' data-name='right'></a>","</div>","<div class='ph-daynames' data-name='daynames'></div>","</div>","<div class='ph-animcont' data-name='animcont'>","<div class='ph-body' data-name='body'></div>","</div>"].join("");function s(t){var e=t.date;return t.date=1,(t=d(t)).date=Math.min(e,o(t.year,t.month)),t}function r(t){return PH.t.calMon(t.month,1)+" "+t.year}function l(n,o){var i=new Date,t=o._fdow,s=o._value,a=d({year:n.year,month:n.month,date:1}),e=(a.day-t)%7;e<0&&(e+=7),a.date-=e,a=p(a);for(var r="",l=0;l<6;++l){r+="<div class='ph-calrow'>";for(var c=0;c<7;++c,++a)r+=function(t){var e="<a class='ph-day";t.day%6||(e+=" ph-weekend");t.month==i.getMonth()&&t.year==i.getFullYear()&&(e+=" ph-tomonth",t.date==i.getDate()&&(e+=" ph-today"));t.month==n.month&&(e+=" ph-curmonth",t.date==n.date&&(e+=" ph-selecting"));a==s&&(e+=" ph-selected");o._disableDates(t,a)&&(e+=" ph-disabled");o._highlightDates&&(e+=" "+o._highlightDates(t,a));return e+="' data-ph-date='"+a+"'>",e+="<span>"+t.date+"</span></a>"}(f(a));r+="</div>"}return r}function u(t){if("string"==typeof t){switch(t){case"today":t=new Date;break;case"yesterday":(t=new Date).setDate(t.getDate()-1);break;case"tomorrow":(t=new Date).setDate(t.getDate()+1);break;default:var e=/^\s*(today|yesterday|tomorrow)\s*([+-])\s*(\d+)\s*(?:d|days)?$/.exec(t);if(e)return u(e[1])+("+"==e[2]?+e[3]:-e[3])}var n=function(t){var e=/^(\d{4})-(\d{1,2})-(\d{1,2})$/.exec(t);if(e)return{year:parseInt(e[1],10),month:parseInt(e[2],10)-1,date:parseInt(e[3],10)}}(t);if(n)return p(n)}return null==t&&(t=new Date),t instanceof Date&&(t=p({year:t.getFullYear(),month:t.getMonth(),date:t.getDate()})),"number"!=typeof t&&(t=p(t)),t}function d(t){return f(p(t))}t._initElement=function(){var o=this;c.base._initElement.call(o),null!=o._minDate&&(o._minDate=u(o._minDate)),null!=o._maxDate&&(o._maxDate=u(o._maxDate));var n,i=o.element(),t=PH.html(h);function e(){o._move(0,1,0,!0)}function s(){o._move(0,-1,0,!0)}function a(){n&&(n.body.style.transform="scale(0)",n.body.style.opacity="0",setTimeout(function(){n.body.style.display="none"},200))}function r(){var t=parseInt(n.year.value,10);return isNaN(t)?o._getDate().year:t}function l(){return n||(n=PH.html(["<div class='ph-calendar-menu' data-name='body'>","<a class='ph-close-btn' data-name='close'></a>","<a class='ph-today' data-name='today'>",PH.t("GoToday"),"</a>","<div class='ph-calendar-menu-layout'>","<div class='ph-year'>","<a class='ph-prev' data-name='prevYear'></a>","<input type='text' data-name='year' />","<a class='ph-next' data-name='nextYear'></a>","</div>","<div class='ph-months' data-name='months'>","<a data-month='0'>"+PH.t.calMon(0,0)+"</a>","<a data-month='1'>"+PH.t.calMon(1,0)+"</a>","<a data-month='2'>"+PH.t.calMon(2,0)+"</a>","<a data-month='3'>"+PH.t.calMon(3,0)+"</a>","<a data-month='4'>"+PH.t.calMon(4,0)+"</a>","<a data-month='5'>"+PH.t.calMon(5,0)+"</a>","<a data-month='6'>"+PH.t.calMon(6,0)+"</a>","<a data-month='7'>"+PH.t.calMon(7,0)+"</a>","<a data-month='8'>"+PH.t.calMon(8,0)+"</a>","<a data-month='9'>"+PH.t.calMon(9,0)+"</a>","<a data-month='10'>"+PH.t.calMon(10,0)+"</a>","<a data-month='11'>"+PH.t.calMon(11,0)+"</a>","</div>","</div>","</div>"].join("")),i.appendChild(n.$all),PH.on(n.close,"click",function(){o._gotoYear(r(),!0),a()}),PH.on(n.today,"click",function(){o._gotoDate(new Date,!0),o.select(new Date),a()}),PH.live(n.months,"click","a[data-month]",function(t,e){var n=r()!=o._getDate().year;o._gotoYear(r(),n),o._gotoMonth(parseInt(PH.getData(e,"month"),10),!n),a()}),PH.on(n.year,{wheel:function(t){t.preventDefault();var e=r();0<t.deltaY?--e:t.deltaY<0&&++e,n.year.value=e}}),PH.dragging({focus:o,element:n.prevYear,start:t,timers:[{timeout:500,handler:t,count:0},{timeout:100,handler:t,count:10},{timeout:50,handler:t}]}),PH.dragging({focus:o,element:n.nextYear,start:e,timers:[{timeout:500,handler:e,count:0},{timeout:100,handler:e,count:10},{timeout:50,handler:e}]})),n;function t(){n.year.value=r()-1}function e(){n.year.value=r()+1}}i.appendChild(t.$all),o._titleElement=t.title,o._bodyElement=t.body,o._animContElement=t.animcont,o._daynamesElement=t.daynames,o._gotoDate(o._date),PH.dragging({focus:o,element:t.left,start:s,timers:[{timeout:500,handler:s,count:0},{timeout:100,handler:s,count:10},{timeout:30,handler:s}]}),PH.dragging({focus:o,element:t.right,start:e,timers:[{timeout:500,handler:e,count:0},{timeout:100,handler:e,count:10},{timeout:30,handler:e}]}),o.on({keydown:function(t){switch(t.keyCode){case 37:t.ctrlKey?o._move(0,-1,0,!0):o._move(0,0,-1,!0),PH.stopEvent(t);break;case 38:t.ctrlKey?o._move(-1,0,0,!0):o._move(0,0,-7,!0),PH.stopEvent(t);break;case 39:t.ctrlKey?o._move(0,1,0,!0):o._move(0,0,1,!0),PH.stopEvent(t);break;case 40:t.ctrlKey?o._move(1,0,0,!0):o._move(0,0,7,!0),PH.stopEvent(t);break;case 13:o.select(o._date),PH.stopEvent(t);break;case 36:o._gotoDate(new Date,!0),PH.stopEvent(t);break;case 35:null!=o._value&&o._gotoDate(o._value,!0),PH.stopEvent(t)}}}),PH.dragging({focus:o,container:o._bodyElement,element:".ph-day",start:function(t,e){o.select(+PH.getData(e,"phDate"))}}),this._showMenu&&(o.addClass("ph-has-menu"),o._closeMenu=a,PH.on(o._titleElement,{click:function(){var t=l();t.year.value=o._getDate().year,t.body.style.display="block",t.body.style.transform="scale(0)",t.body.style.opacity="0",setTimeout(function(){t.body.style.transform="scale(1)",t.body.style.opacity="1"},10)}}))},t._closeMenu=PH.noop,t._getDate=function(){return f(this._date)},t.setDisabledDatesHandler=function(t){this.__disableDates=t,this._render()},t.select=function(t){var e=u(t);t=f(e),this._disableDates(t,e)||(this._value=e,this._gotoDate(e),this.trigger("select",t,e))},t._render=function(){var t=f(this._date),e=function(t){for(var e="",n=0;n<7;++n){var o=(t+n)%7;e+="<div class='ph-day"+(o%6?"":" ph-weekend")+"'>"+PH.t.calDay(o,0)+"</div>"}return e}(this._fdow),n=l(t,this),o=r(t);this._daynamesElement.innerHTML=e,this._bodyElement.innerHTML=n,this._titleElement.innerHTML=o},t._gotoMonth=function(t,e){var n=f(this._date);n.month=t,this._gotoDate(s(n),e)},t._gotoYear=function(t,e){var n=f(this._date);n.year=t,this._gotoDate(s(n),e)},t._gotoDate=function(t,e){null!=t&&!this._withinLimits(t)||(e?this._animDate(t):(this._date=u(t),this._render()))},t._animDate=function(t){var e=this,n=e._date,o=f(n);if(e._date=u(t),t=f(e._date),o.month==t.month&&o.year==t.year)return e._render();var i=n<e._date?"ph-anim-rtl":"ph-anim-ltr",s=e._bodyElement,a=s.cloneNode(!1);PH.setTransition(s,"0.3s"),PH.setTransition(a,"0.3s"),a.innerHTML=l(t,e),PH.removeClass(a,"ph-body"),PH.addClass(a,"ph-anim "+i),e._titleElement.innerHTML=r(t),e._animContElement.appendChild(a),setTimeout(function(){PH.addClass(s,i),PH.removeClass(a,i),setTimeout(function(){PH.remove(a),PH.setTransition(s,"none"),PH.removeClass(s,i),e._render()},300)})},t._move=function(t,e,n,o){var i=f(this._date);i.year+=t,i.month+=e,n?i.date+=n:i=s(i),this._gotoDate(d(i),o)},t._disableDates=function(t,e){return null!=this._minDate&&e<this._minDate||(null!=this._maxDate&&e>this._maxDate||(this.__disableDates?this.__disableDates(t,e):void 0))},t._withinLimits=function(t){if(null!=this._minDate||null!=this._maxDate){if(t=f(u(t)),null!=this._minDate&&(t.date=o(t.year,t.month),p(t)<this._minDate))return!1;if(null!=this._maxDate&&(t.date=1,p(t)>this._maxDate))return!1}return!0};var n=[31,28,31,30,31,30,31,31,30,31,30,31];function o(t,e){return 1!=e?n[e]:28+(t%4||!(t%100)&&t%400?0:1)}function p(t){var e=t.year,n=t.month+1;return(1461*(e+4800+((n-14)/12|0))/4|0)+(367*(n-2-12*((n-14)/12|0))/12|0)-(3*((e+4900+((n-14)/12|0))/100|0)/4|0)+t.date-32075}function f(t){var e=t+68569,n=4*e/146097|0,o=4e3*(1+(e=e-((146097*n+3)/4|0)))/1461001|0,i=80*(e=e-(1461*o/4|0)+31)/2447|0,s=e-(2447*i/80|0);return{year:100*(n-49)+o+(e=i/11|0),month:2+i-12*e-1,date:s,day:(t+1)%7}}c.dateToJulian=p,c.julianToDate=f,c.makeJulian=u}),PH.DatePicker=PH.defclass("DatePicker",PH.Widget,function(i,t){function e(t,e){for(e+="";e.length<t;)e="0"+e;return e}i.options=PH.merge({},PH.Calendar.options,{_showMenu:["showMenu",!1],_emptyLabel:["emptyLabel","Select date..."],_labelFunc:["labelFunc",null,{type:"function"}]}),t._initElement=function(){var n=this;i.base._initElement.call(n);var t=new PH.Calendar({className:"ph-datepicker-calendar",focusable:0,value:n._value,date:n._date,fdow:n._fdow,min:n._minDate,max:n._maxDate,showMenu:n._showMenu,highlightDates:n._highlightDates,disableDates:n.__disableDates}),e=PH.node("<button type='button' class='ph-datepicker-trigger'></button>");n._button=e,n._from.parentNode.insertBefore(e,n._from),n._from.style.display="none",null==n._value&&/\S/.test(n._from.value)&&(n._value=n._from.value),null!=n._value&&(n._value=PH.Calendar.makeJulian(n._value));var o=new PH.Dropdown({className:"ph-datepicker-dropdown",trigger:n._button,openOn:["touchstart","mousedown"],align:"S N",content:t.element()});n._updateLabel(),n.on({destroy:function(){t.destroy(),o.destroy()}}),o.on({show:function(){t.focus(),null!=n._value&&t.withoutHooks("select",function(){t.select(n._value)})},hide:function(){n._button.focus(),t._closeMenu()}}),t.on({select:function(t,e){n.select(e),o.close()},keydown:function(t){27==t.keyCode&&(PH.stopEvent(t),o.close())}})},t._makeLabel=function(){var t,e;return this._labelFunc&&(null!=(e=this._value)&&(e=PH.Calendar.julianToDate(e)),t=this._labelFunc(e,this)),null==t&&(t=null==this._value?this._emptyLabel:this._textValue()),t},t._textValue=function(){if(null==this._value)return"";var t=PH.Calendar.julianToDate(this._value);return t.year+"-"+e(2,t.month+1)+"-"+e(2,t.date)},t._updateLabel=function(){this._button.innerText=this._makeLabel(),this._from&&(this._from.value=this._textValue())},t.select=function(t){this._value=t=PH.Calendar.makeJulian(t);var e=PH.Calendar.julianToDate(t);this._updateLabel(),this.trigger("select",e,t),this._from&&PH.trigger(this._from,"change")}}),PH.Slider=PH.defclass("Slider",PH.Widget,function(e,t){"use strict";e.args={focusable:!0},e.options={_min:["min",0],_max:["max",100],_low:["low",null],_high:["high",null],_minGap:["minGap",0],_allowRange:["allowRange",!0],_roundStep:["round",null]},t._initElement=function(){var t=this;e.base._initElement.call(t),t._min=t._round(t._min,"low"),t._max=t._round(t._max,"high"),t._allowRange&&(null==t._low&&(t._low=t._min),null==t._high&&(t._high=t._max)),t._low=t._round(Math.max(t._min,t._low),"low"),t._high=t._round(Math.min(t._max,t._high),"high"),t._leftKnob=document.createElement("a"),PH.addClass(t._leftKnob,"knob left"),t.element().appendChild(t._leftKnob),t._setupKnob(t._leftKnob,"low"),t._allowRange&&(t._rangeBar=document.createElement("div"),PH.addClass(t._rangeBar,"range-bar"),t.element().appendChild(t._rangeBar),t._rightKnob=document.createElement("a"),PH.addClass(t._rightKnob,"knob right"),t._setRightPos(),t.element().appendChild(t._rightKnob),t._setupKnob(t._rightKnob,"high")),t._setLeftPos()},t._setLeftPos=function(t){var e=this._low;null==t&&(t=this._low);var n=this._low=t;t=this._percent(t),this._leftKnob.style.left=t+"%",this._rangeBar&&(this._rangeBar.style.left=t+"%"),t!=e&&this.trigger("move","low",n,e)},t._setRightPos=function(t){var e=this._high;null==t&&(t=this._high);var n=this._high=t;t=this._percent(t),this._rightKnob.style.left=t+"%",this._rangeBar.style.right=100-t+"%",t!=e&&this.trigger("move","high",n,e)},t._setKnobPos=function(t,e){return"low"==t?this._setLeftPos(e):this._setRightPos(e)},t._setupKnob=function(e,o){var i,s,n,a=this,r=PH.dragging({block:!0,element:e,start:function(t){a.focus(),PH.removeClass([a._leftKnob,a._rightKnob],"upper"),PH.addClass(e,"upper"),i=e.offsetLeft,s=a.element().offsetWidth,n=a.getValue(),a.trigger("start",n)},stop:function(){a._maybeTriggerChange(n)},move:function(t){var e=(e=(i+t.dx)/s)<0?0:1<e?1:e,n=a._min+e*(a._max-a._min);a._allowRange&&("low"==o&&n>=a._high-a._minGap?n=a._high-a._minGap:"high"==o&&n<=a._low+a._minGap&&(n=a._low+a._minGap)),a._setKnobPos(o,a._round(n))},esc:function(t){PH.stopEvent(t),a.setValue(n),r()}})},t._maybeTriggerChange=function(t){var e=this.getValue(),n=!1;this._allowRange?e[0]==t[0]&&e[1]==t[1]||(n=!0):e!=t&&(n=!0),n&&this.trigger("change",e,t)},t.setValue=function(t,e){var n=this._allowRange&&PH.isArray(t);n&&(e=t[1],t=t[0]),this._setKnobPos("low",Math.max(this._min,t)),n&&this._setKnobPos("high",Math.min(this._max,Math.max(this._low,e)))},t.getValue=function(){return this._allowRange?[this._low,this._high]:this._low},t._percent=function(t){return 100*(t-this._min)/(this._max-this._min)},t._round=function(t,e){var n=this._roundStep;return n&&(t=n*("low"==e?Math.floor(t/n):"high"==e?Math.ceil(t/n):Math.round(t/n))),t}}),PH.DragSort=PH.defclass("DragSort",PH.Widget,function(w,t){"use strict";w.options={_selHandle:["handleSelector",".ph-handle"],_selCard:["cardSelector",".ph-card"],_horizontal:["horizontal",!1],_autoscroll:["autoscroll",!1],_selNotBefore:["notBeforeSelector",null],_selNotAfter:["notAfterSelector",null],_dragCursor:["dragCursor","move"]},t._initElement=function(){var o,i,s,a,l,c,r,n,h,u,d,p,f,_,m,g=this;w.base._initElement.call(g),g.element().style.overflowAnchor="none",PH.condClass(g.element(),g._horizontal,"ph-horizontal","ph-vertical");var t=PH.dragging({container:g.element(),element:g._selCard,handle:g._selHandle,overlay:!1,block:!0,start:function(t,e){PH.matches(e,g._selNotBefore)||PH.matches(e,g._selNotAfter)?v():(m=!1,a=e,l=[],PH.slice(g.element().querySelectorAll(g._selCard)).forEach(function(t,e){t===a?r=n=e:l.push({el:t,box:PH.getAbsBox(t),index:e})}),h=t.clientX,u=t.clientY,c=a.getBoundingClientRect(),i=c.left-h,s=c.top-u,p=PH.getAbsBox(g.element()),_=!1,PH.closest(t.target,"a, button")||b())},move:function(t){!_&&20<t.dx*t.dx+t.dy*t.dy&&b(),_&&(g._horizontal?((t.clientY>u||t.clientX>h)&&(d=!0),(t.clientY<u||t.clientX<h)&&(d=!1)):(t.clientY>u&&(d=!0),t.clientY<u&&(d=!1)),h=t.clientX,u=t.clientY,e(t.pageX,t.pageY))},stop:function(){_&&P(),y(),m||g.trigger("done",n)},esc:function(){var t;_&&(t=(t=l[n])&&t.el,g.element().insertBefore(a,t),P()),y(),v(),g.trigger("cancel",n)}});function v(){m=!0,t()}function b(){_=!0,PH.overlay.on().cursor(g._dragCursor),o=a.cloneNode(!0),PH.addClass(o,"ph-dragging-shadow"),PH.removeClass(o,"ph-dragging"),PH.on(o,"mousedown",PH.stopEvent,!0);var t=a.getBoundingClientRect();PH.merge(o.style,{position:"fixed",width:t.width+"px",height:t.height+"px",left:t.left+"px",top:t.top+"px",boxSizing:"border-box",transition:"none"}),document.body.appendChild(o),g._autoscroll&&!g._horizontal&&(f=PH.cancellable(function(){var t=PH.getViewport();d&&t.height-u<70&&p.bottom>t.bottom?window.scrollTo(t.left,t.top+10):!d&&u<70&&p.top<t.top?window.scrollTo(t.left,t.top-10):f.cancel(),e(h+window.pageXOffset,u+window.pageYOffset)},16,!0))}function e(t,e){g._horizontal&&(o.style.left=h+i+"px"),o.style.top=u+s+"px";var n=function(t,e){for(var n,o,i,s={left:t,top:e,right:t+c.width,bottom:e+c.height},a=0;a<l.length;++a){var r=l[a];0<function(t,e){var n=Math.max(0,Math.min(t.right,e.right)-Math.max(t.left,e.left)),o=Math.max(0,Math.min(t.bottom,e.bottom)-Math.max(t.top,e.top));return n*o}(s,r.box)&&(n=r,o=a)}if(n){if(t+=c.width/2,e+=c.height/2,i=d?g._horizontal?t>n.box.left:e>n.box.top:g._horizontal?t>n.box.right:e>n.box.bottom,g._selNotBefore)if(i){if(PH.matches(n.el.nextElementSibling,g._selNotBefore))return}else if(PH.matches(n.el,g._selNotBefore))return;if(g._selNotAfter)if(i){if(PH.matches(n.el,g._selNotAfter))return}else if(PH.matches(n.el.previousElementSibling,g._selNotAfter))return;return{el:n.el,after:i,index:o+i}}}(t+i,e+s);null!=n&&n.index!=r&&function(t){r=t.index,t.after?g.element().insertBefore(a,t.el.nextElementSibling):g.element().insertBefore(a,t.el);l.forEach(function(t){t.box=PH.getAbsBox(t.el)}),g.trigger("moving",a,t)}(n),f&&f()}function y(){f&&f.cancel(),c=p=f=o=a=l=null}function P(){var t,e;a&&(t=a.getBoundingClientRect(),PH.setTransition(o,"0.2s"),PH.merge(o.style,{transition:"0.2s",left:t.left+"px",top:t.top+"px",opacity:"0.2"}),setTimeout(PH.remove.bind(PH,o),200),!g._horizontal&&g._autoscroll&&(e=PH.getViewport(),t.bottom>e.height?PH.scrollTo(e.top+t.bottom-e.height):t.top<0&&PH.scrollTo(e.top+t.top)))}}});
TWEEG_RUNTIME=function(){"use strict";var t={},u=null,e={};function n(){}function i(r){this.value=r}i.prototype={toString:function(){return this.value+""}};var o=Object.prototype.hasOwnProperty;function a(r){return new i(r)}function c(r,n){if("string"!=typeof r)return r;switch(n){case"html":case void 0:case null:return a(r.replace(/&/g,"&amp;").replace(/\x22/g,"&quot;").replace(/\x27/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u00A0/g,"&#xa0;"));case"js":return a(r.replace(/[^a-zA-Z0-9,._]/g,function(r){r=r.charCodeAt(0);return r<=255?"\\x"+("0"+r.toString(16)).substr(-2):"\\U"+("00"+r.toString(16)).substr(-4)}));case!1:return r}throw new Error("Unknown escape strategy: "+n)}function f(r){return r instanceof String||"string"==typeof r?r+"":!0===r?"1":r instanceof i?r.value:null!=r&&!1!==r?"object"==typeof r?"Array":r+"":""}function r(r){return f(r).replace(/^\s+|\s+$/g,"").replace(/>\s+</g,"><")}function l(r,n,t){return null!=t&&0<=t&&(t+=n),r.slice(n,t)}function s(r){if(""===r||null==r||!1===r)return!0;if(Array.isArray(r))return!r.length;if("object"!=typeof r)return!1;for(var n in r)if(o.call(r,n))return!1;return!0}var p,h,y=Object.assign||function(r){for(var n=1;n<arguments.length;++n){var t=arguments[n];if(null!=t)for(var e in t)o.call(t,e)&&(r[e]=t[e])}return r},g=(p=/([\0-\u02FF\u0370-\u1AAF\u1B00-\u1DBF\u1E00-\u20CF\u2100-\uD7FF\uE000-\uFE1F\uFE30-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])([\u0300-\u036F\u1AB0-\u1AFF\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]+)/g,h=/([\uD800-\uDBFF])([\uDC00-\uDFFF])/g,function e(r){for(var n="",t=(r=r.replace(p,function(r,n,t){return e(t)+n}).replace(h,"$2$1")).length;t--;)n+=r.charAt(t);return n});function v(r,n,t){var e,u;if(t=null==t?1:t<0?-t:parseFloat(t),"string"!=typeof r||"string"!=typeof n){if(r=parseFloat(r),n=parseFloat(n),isNaN(r)||isNaN(n)||isNaN(t))throw new Error("Invalid range arguments");if(r<=n)for(e=r,u=[];e<=n;e+=t)u.push(e);else for(e=r,u=[];n<=e;e-=t)u.push(e)}else{if(1!=r.length||1!=n.length)throw new Error("Invalid range arguments");if((r=r.charCodeAt(0))<=(n=n.charCodeAt(0)))for(e=r,u=[];e<=n;e+=t)u.push(String.fromCharCode(e));else for(e=r,u=[];n<=e;e-=t)u.push(String.fromCharCode(e))}return u}function m(r){var u=[];return function r(n){for(var t=n.length;0<=--t;){var e=n[t];null!=e&&(Array.isArray(e)?r(e):"object"==typeof e?r(Object.keys(e).map(function(r){return e[r]})):u.push(e))}}(r),u}var F={},A={t:function(r){return A.merge(new n,r)},func:{cycle:function(r,n){return r[n%r.length]},range:v,slice:l,max:function(){return Math.max.apply(Math,m(arguments))},min:function(){return Math.min.apply(Math,m(arguments))},attribute:function(r,n,t){return n=r[n],n=null!=t?n.apply(r,t):n},random:function(r){return"number"==typeof r?Math.floor(Math.random()*(r+1)):"string"==typeof r||Array.isArray(r)?r[Math.floor(Math.random()*r.length)]:Math.floor(2147483648*Math.random())}},filter:{json_encode:function(r,n){return JSON.stringify(r,null,n)},e:function(r,n){return c(f(r),n)},escape:function(r,n){return c(f(r),n)},raw:function(r){return a(""+r)},default:function(r,n){return s(r)?n:r},join:function(r,n){return r.join(n)},split:function(r,n){return f(r).split(n)},upper:function(r){return f(r).toUpperCase()},lower:function(r){return f(r).toLowerCase()},merge:function(r,n){return Array.isArray(r)&&Array.isArray(n)?r.concat(n):y(r,n)},replace:function(e,u){return e=f(e),Object.keys(u).forEach(function(r){for(var n=u[r],t=e.length;n&&e&&!((t=e.lastIndexOf(r,t))<0);)e=e.substr(0,t)+n+e.substr(t+r.length)}),e},capitalize:function(r){return(r=f(r)).charAt(0).toUpperCase()+r.substr(1)},column:function(r,n){return r.map(function(r){return r[n]})},keys:function(r){return Object.keys(r)},batch:function(r,n,t){for(var e=[],u=0;u<r.length;u+=n){var i=r.slice(u,n);if(null!=t)for(;i.length<n;)i.push(t);e.push(i)}return e},first:function(r){if(null==r)return null;if(Array.isArray(r))return r[0];if("string"==typeof r)return r.charAt(0);for(var n in r)if(o.call(r,n))return r[n]},last:function(r){if(null==r)return null;if(Array.isArray(r))return r[r.length-1];if("string"==typeof r)return r.charAt(r.length-1);var n=Object.keys(r);return n.length?r[n.length-1]:void 0},trim:function(r){return f(r).trim()},abs:Math.abs,round:function(r,n,t){return null==n&&(n=0),null==t&&(t="common"),n=Math.pow(10,n),r*=n,r="common"==t?Math.round(r):"ceil"==t?Math.ceil(r):Math.floor(r),r/=n},slice:l,sort:function(n,t){if(null==t&&(t=function(r,n){return r<n?-1:n<r?1:0}),Array.isArray(n))return n.slice().sort(t);var e={};return Object.keys(n).map(function(r){return{key:r,val:n[r]}}).sort(function(r,n){return t(r.val,n.val)}).forEach(function(r){e[r.key]=r.val}),e},filter:function(n,t){if(Array.isArray(n))return n.filter(t);var e={};return Object.keys(n).map(function(r){return{key:r,val:n[r]}}).filter(function(r){return t(r.val,r.key)}).forEach(function(r){e[r.key]=r.val}),e},map:function(n,t){return Array.isArray(n)?n.map(t):Object.keys(n).map(function(r){return t(n[r],r)})},reduce:function(n,r,t){return null==t&&(t=0),(Array.isArray(n)?n:Object.keys(n).map(function(r){return n[r]})).reduce(r,t)},length:function(r){return null==r?0:(Array.isArray(r)?r:"object"==typeof r?Object.keys(r):f(r)).length},url_encode:function(n){var r="string"==typeof n?encodeURIComponent(n):Object.keys(n).map(function(r){return encodeURIComponent(r)+"="+encodeURIComponent(n[r])}).join("&");return new i(r)},striptags:function(r,n){if(r=f(r),n=n&&n.split(/[<>]+/).filter(function(r){return 0<r.length}).map(function(r){return"/?"+r}).join("|")){n=new RegExp("<(?!(?:"+n+")).*?>","ig");return a(r.replace(n,""))}return a(r.replace(/<.*?>/g,""))},reverse:function(n,t){if(Array.isArray(n))return n.slice().reverse();if(""===n||null==n||!1===n)return"";if("string"==typeof(n="number"==typeof n?String(n):n))return g(n);var e={},u=0;return Object.keys(n).reverse().forEach(function(r){!t&&r==parseFloat(r)?e[u++]=n[r]:e[r]=n[r]}),e},spaceless:r},operator:{matches:function(r,n){var t=/^\/(.*)\/([igmsy])?$/.exec(n);if(t)try{return new RegExp(t[1],t[2]).exec(r)}catch(r){}throw new Error("Invalid regular expression: "+n)},"starts with":function(r,n){return r=f(r),n=f(n),r.substr(0,n.length)==n},"ends with":function(r,n){return r=f(r),n=f(n),r.lastIndexOf(n)+n.length==r.length},"..":v,in:function(r,n){return null!=n&&(Array.isArray(n)||"string"==typeof n?0<=n.indexOf(r):o.call(n,r))}},bool:function(r){return Array.isArray(r)?!!r.length:"0"!==r&&(r instanceof i?!!r.value:!!r)},number:function(r){return"number"==typeof r?r:(r=parseFloat(r),isNaN(r)?0:r)},hash:function(r){for(var n=0,t={};n<r.length;)t[r[n++]]=r[n++];return t},out:function(r){for(var n="",t=0;t<r.length;++t)n+=f(r[t]);return a(n)},for:function(n,t){null==n&&(n=[]);var r=Array.isArray(n),e=r?null:Object.keys(n),u=(e||n).length,i={index:1,index0:0,revindex:u,revindex0:u-1,length:u,first:!0},o=[];function a(r,n){i.last=!i.revindex0;n=t(i,r,n);n!==A&&(o.push(n),i.first=!1,++i.index,++i.index0,--i.revindex,--i.revindex0)}return r?n.forEach(a):e.forEach(function(r){a(n[r],r)}),o.length||o.push(t()),A.out(o)},empty:s,iterable:function(r){return null!=r&&"object"==typeof r},slice:l,escape:c,escape_html:function(r){return c(r,"html")},escape_js:function(r){return c(r,"js")},string:f,spaceless:r,merge:y,include:function(r,n,t){if(!Array.isArray(r))return A.exec(r,n,t);for(var e=0;e<r.length;++e){var u=A.exec(r[e],!0,n);if(null!=u)return u}if(!t)throw new Error("Could not find any of the templates: "+JSON.stringify(r))},register:function(r,n){r=r.replace(/^\/*/,""),(n=t[r]=n()).$name=r},get:function(r){return r instanceof n?r:(r=(r=u?A.resolve(u.$name,r):r).replace(/^\/*/,""),t[r])},with:function(r,n,t){var e=A.get(r);if(!e){if(t)return null;throw new Error("Could not find template "+r)}r=u;try{return n(u=e)}finally{u=r}},exec:function(r,n,t){return A.with(r,function(r){return""+r.$main(n||{})},t)},add_path:function(r,n){e[r]=n},resolve:function(n,r){return r=r.replace(/@[a-z0-9_]+/gi,function(r){return e[r.substr(1)]}),/^\//.test(r)?r.substr(1):/^@/.test(r)?r:((n=n.split(/\/+/)).pop(),r.split(/\/+/).forEach(function(r){r&&"."!=r&&(".."==r?n.pop():n.push(r))}),n.join("/"))},index:function(r,n){return null==r?null:r[n]},add_global:function(r,n){F[r]=n},is_global:function(r){return o.call(F,r)},global:function(r){return F[r]}};return A};
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.lozad=e()}(this,function(){"use strict";var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r,o=arguments[e];for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t},n="undefined"!=typeof document&&document.documentMode,g={rootMargin:"0px",threshold:0,load:function(t){var e;if("picture"===t.nodeName.toLowerCase()&&(e=document.createElement("img"),n&&t.getAttribute("data-iesrc")&&(e.src=t.getAttribute("data-iesrc")),t.getAttribute("data-alt")&&(e.alt=t.getAttribute("data-alt")),t.appendChild(e)),"video"===t.nodeName.toLowerCase()&&!t.getAttribute("data-src")&&t.children){for(var r,o=t.children,a=0;a<=o.length-1;a++)(r=o[a].getAttribute("data-src"))&&(o[a].src=r);t.load()}t.getAttribute("data-src")&&(t.src=t.getAttribute("data-src")),t.getAttribute("data-srcset")&&t.setAttribute("srcset",t.getAttribute("data-srcset")),t.getAttribute("data-background-image")&&(t.style.backgroundImage="url('"+t.getAttribute("data-background-image")+"')"),t.getAttribute("data-toggle-class")&&t.classList.toggle(t.getAttribute("data-toggle-class"))},loaded:function(){}};function l(t){t.setAttribute("data-loaded",!0)}function f(t){return"true"===t.getAttribute("data-loaded")}return function(){var r,o,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".lozad",t=s({},g,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),n=t.root,e=t.rootMargin,i=t.threshold,d=t.load,c=t.loaded,u=void 0;return{observe:function(){for(var t=function(t,e){e=1<arguments.length&&void 0!==e?e:document;return t instanceof Element?[t]:t instanceof NodeList?t:e.querySelectorAll(t)}(a,n),e=0;e<t.length;e++)f(t[e])||(u?u.observe(t[e]):(d(t[e]),l(t[e]),c(t[e])))},triggerLoad:function(t){f(t)||(d(t),l(t),c(t))},observer:u=window.IntersectionObserver?new IntersectionObserver((r=d,o=c,function(t,e){t.forEach(function(t){(0<t.intersectionRatio||t.isIntersecting)&&(e.unobserve(t.target),f(t.target)||(r(t.target),l(t.target),o(t.target)))})}),{root:n,rootMargin:e,threshold:i}):u}}});
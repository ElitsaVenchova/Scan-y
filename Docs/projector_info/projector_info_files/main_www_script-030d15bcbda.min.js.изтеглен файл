function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){e=_superPropBase(e,t);if(e){t=Object.getOwnPropertyDescriptor(e,t);return t.get?t.get.call(n):t.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var i=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,i?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ownKeys(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _iterableToArrayLimit(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var i,o,a=[],s=!0,r=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);s=!0);}catch(e){r=!0,o=e}finally{try{s||null==n.return||n.return()}finally{if(r)throw o}}return a}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var PH=window.PH||{},EM=window.EM||{},sapi=window.sapi||{},oldSiteAjax=window.oldSiteAjax||{};PH.globals={viewportBreakpoints:{xs:480,sm:768,md:992,lg:1260},getViewportBreakpoint:function(){var e,t=window.innerWidth,n="xs";for(e in this.viewportBreakpoints)t>=this.viewportBreakpoints[e]&&(n=e);return n},searchBox:{searchHistoryLimit:10,minQueryLength:3,minSubmitQueryLength:2,suggestionsCacheLength:10,getSearchUrl:function(e,t){t=t||{};e="/search/"+encodeURIComponent(e.replace(/(\/|%)/gi," "));return e=t.ref?EM.urlInsertParam(e,"ref",t.ref):e}},favoritesBox:{getFavoriteProductsUrl:function(){return"/ajax/favorites.php"},postFavoriteProductsUrl:function(e){return"/ajax/post_favorites.php"}},cartBox:{getCartProductsUrl:function(){return"/ajax/cart.php"}},feedback:{getUrl:function(){return"/ajax-product-feedback"},voteUrl:function(){return"/product-feedback/vote"},unvoteUrl:function(){return"/product-feedback/remove-vote"},addCommentUrl:function(){return"/ajax/feedback-add-comment.php"}},user:{loginUrl:"/user/login",reviewsUrl:"/user/reviews"},megamenu:{departmentCacheLifetime:864e5},mapCenters:{ro:{lat:45.9432,lng:24.9668},bg:{lat:42.7339,lng:25.4858},hu:{lat:47.1625,lng:19.5033},pl:{lat:51.9194,lng:19.1451}}},function(){if(EM.is_tracking_enabled!==undefined?EM.is_tracking_enabled:true)for(var e=document.getElementsByClassName("asp-link"),t=0;t<e.length;t++)e[t].style.display="none"}(),function(){"use strict";PH.extend=function e(t,n){for(var i in n)n[i]&&n[i].constructor&&n[i].constructor===Object?(t[i]=t[i]||{},e(t[i],n[i])):t[i]=n[i];return t},PH.number_format=function(e,t,n,i){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var o,a,s,r=isFinite(+e)?+e:0,e=isFinite(+t)?Math.abs(t):0,t=void 0===i?",":i,i=void 0===n?".":n,n="";return 3<(n=(e?(o=r,a=e,s=Math.pow(10,a),""+(Math.round(o*s)/s).toFixed(a)):""+Math.round(r)).split("."))[0].length&&(n[0]=n[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,t)),(n[1]||"").length<e&&(n[1]=n[1]||"",n[1]+=new Array(e-n[1].length+1).join("0")),n.join(i)},PH.serializeFormElements=function(e){for(var t,n=(e=PH.element(e)).querySelectorAll("input[name], textarea[name], select[name]"),i={},o=0;o<n.length;o++)void 0!==i[(t=n[o]).name]?(i[t.name].push||(i[t.name]=[i[t.name]]),-1!==["radio","checkbox"].indexOf(t.type)&&!t.checked||i[t.name].push(t.value||"")):-1!==["radio","checkbox"].indexOf(t.type)&&!t.checked||(i[t.name]=t.value||"");return i},PH.clone=function e(t){if(null===t||"object"!=_typeof(t))return t;if(t instanceof Date)return(n=new Date).setTime(t.getTime()),n;if(t instanceof Array){for(var n=[],i=0,o=t.length;i<o;i++)n[i]=e(t[i]);return n}if(t instanceof Object){for(var a in n={},t)PH.objectHasKey(t,a)&&(n[a]=e(t[a]));return n}throw new Error("Unable to copy obj! Its type isn't supported.")},PH.cumulativeOffset=function(e){for(var t=0,n=0;t+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.offsetParent;);return{top:t,left:n}},PH.inViewport=function(e,t,n){n=n||0;for(var i=e.offsetTop,o=e.offsetLeft,a=e.offsetWidth,s=e.offsetHeight;e.offsetParent;)i+=(e=e.offsetParent).offsetTop,o+=e.offsetLeft;return!0===t?i>=window.pageYOffset&&o>=window.pageXOffset&&i+s<=window.pageYOffset+window.innerHeight&&o+a<=window.pageXOffset+window.innerWidth:i<window.pageYOffset+window.innerHeight+n&&o<window.pageXOffset+window.innerWidth+n&&i+s>window.pageYOffset-n&&o+a>window.pageXOffset-n},PH.addLoaderTo=function t(e,n){var i=n||"preloader";if(e)return PH.isArray(e)?e.forEach(function(e){t(e,i)}):void(e.querySelector("."+i)||(n=PH.node('<div class="'+i+'"></div>'),e.appendChild(n),PH.show(n)))},PH.removeLoaderFrom=function(e,t){var n=t||"preloader";if(PH.isArray(e))return e.forEach(function(e){PH.removeLoaderFrom(e,n)});for(var i=e.querySelectorAll("."+n),o=0;o<i.length;o++)PH.remove(i[o])},PH.smoothScroll=function(e){function t(e){this.hasAttribute("data-showanchor")||e.preventDefault();var t=document.querySelector(this.getAttribute("href"));PH.scrollToElement(t,{steps:PH.getData(e.currentTarget,"phAnimationSteps")})}PH.slice(e.querySelectorAll("[data-smoothscroll]")).forEach(function(e){e.addEventListener("click",t)})},PH.smoothScroll(document),PH.initEvents=function(e,t,n){for(var i in t){var o,a;t[i]&&"function"==typeof t[i]&&(o=i.substr(0,i.indexOf(" ")),a=i.substr(i.indexOf(" ")+1),i=t[i],PH.live(e,o,a,i,n||this))}},PH.swap=function(e,t){var n=e.parentNode,i=e.nextSibling;t.parentNode.insertBefore(e,t),n.insertBefore(t,i)},PH.merge(PH,{q:function(e,t){return(t||document).querySelector(e)},qq:function(e,t){return(t||document).querySelectorAll(e)},qs:function(e,t){return PH.slice(PH.qq(e,t))},show:function e(t){if(PH.isElement(t))t.style.display="block";else if("object"===_typeof(t)&&null!==t&&void 0!==t.length)for(var n=t.length;n--;)e(t[n]);else"string"==typeof t&&e(PH.qq(t))},hide:function e(t){if(PH.isElement(t))t.style.display="none";else if("object"===_typeof(t)&&null!==t&&void 0!==t.length)for(var n=t.length;n--;)e(t[n]);else"string"==typeof t&&e(PH.qq(t))},toggle:function e(t){if(PH.isElement(t))PH.isHidden(t)?PH.show(t):PH.hide(t);else if("object"===_typeof(t)&&null!==t&&void 0!==t.length)for(var n=t.length;n--;)e(t[n]);else"string"==typeof t&&e(PH.qq(t))},enable:function(e){e&&(e.disabled=!1,e.PH_Widget&&e.PH_Widget.enable())},disable:function(e){e&&(e.disabled=!0,e.PH_Widget&&e.PH_Widget.disable())},toggleDisable:function(e){e&&(e.disabled?PH.enable(e):PH.disable(e))},scrollLeftToMax:function(e){return e.scrollLeft=e.scrollWidth-e.clientWidth,e.scrollLeft},scrollTopToMax:function(e){return e.scrollTop=e.scrollHeight-e.clientHeight,e.scrollTop},whichChild:function(e){for(var t=0;null!==(e=e.previousElementSibling);)++t;return t},prependChild:function(e,t){e.insertBefore(t,e.firstChild)},insertAfter:function(e,t){return t.parentNode.insertBefore(e,t.nextSibling)},copyToClipboard:function(e){var t=document.createElement("textarea"),n=!1;t.value=e,t.className="sr-only",document.body.appendChild(t),t.select();try{n=document.execCommand("copy")}catch(e){}return document.body.removeChild(t),n},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}}),PH.toggleLoader=function(e,t){var n="is-loading";if(null===e.getAttribute("is-loading"))return e.setAttribute(n,""),void PH.addLoaderTo(e,t);e.removeAttribute(n,""),PH.removeLoaderFrom(e,t)},PH.queryStringToJson=function(e){var t={},e="?"==e.charAt(0)?e.substring(1):e;if(""!==e)return e.split("&").forEach(function(e){e=e.split("=");t[decodeURIComponent(e[0])]=e[1]?decodeURIComponent(e[1]):""}),t},PH.jsonToQueryString=function(t){if("object"===_typeof(t))return Object.keys(t).map(function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))}).join("&")},PH.preventPageScroll=function(n){n&&PH.on(n,["wheel","DOMMouseScroll"],function(e){var t=e.wheelDelta||-e.deltaY||-e.detail;n.scrollTop+=30*(t<0?1:-1),e.preventDefault()})},PH.getJsonFromLocalStorage=function(e){if(!e)return null;var t=localStorage.getItem(e),e={};try{e=JSON.parse(t)}catch(e){}return e},PH.onceInViewport=function(e,t,n){PH.whenInViewport(e,t,n,!0)},PH.whenInViewport=function(e,i,t,o){e&&new IntersectionObserver(function(e,t){for(var n=0;n<e.length;n++)e[n].isIntersecting&&(o&&t.disconnect(),i())},t||{}).observe(e)},PH.time=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"time";console.time(t),e(),console.timeEnd(t)},PH.pageLoad=function(e){var t=window.performance,t=t&&t.getEntriesByType("navigation");t&&0<t.length&&0<t[0].loadEventEnd?setTimeout(function(){e()},1):window.addEventListener("load",e)},PH.domReady=function(e){-1!==["complete","interactive"].indexOf(document.readyState)?setTimeout(function(){e()},1):window.addEventListener("DOMContentLoaded",e)},PH.formToJSON=function(e){var i={};return Array.from(e.elements,function(e){var t=e.name,n=e.type;e.disabled||"radio"===n&&!e.checked||("select-multiple"!==n?(t in i&&!Array.isArray(i[t])&&(i[t]=[i[t]]),n="checkbox"===n?Number(e.checked):e.value,Array.isArray(i[t])?i[t].push(n):i[t]=n):(e=e.selectedOptions||Array.prototype.filter.call(e.options,function(e){return e.selected}),i[t]=Array.from(e,function(e){return e.value})))}),i},PH.EventProxy.global.on("NewWidget",function(e,t){"Carousel"==t&&e.element()&&PH.removeClass(e.element(),"carousel-loading")})}(),function(){var n=["bg","hu","pl","ro"];PH.Date=function(e,t){"object"===_typeof(e)&&e instanceof Date?this.date=e:this.date=new Date,this.locale=t||n[0]},PH.Date.weekDayNames={bg:["неделя","понеделник","вторник","сряда","четвъртък","петък","събота"],hu:["vasárnap","hétfő","kedd","szerda","csütörtök","péntek","szombat"],pl:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"],ro:["duminica","luni","marti","miercuri","joi","vineri","sambata"]},PH.Date.monthNames={en:["January","February","March","April","May","June","July","August","September","October","November","December"],bg:["януари","февруари","март","април","май","юни","юли","август","септември","октомври","ноември","декември"],hu:["január","február","március","április","május","június","július","augusztus","szeptember","október","november","december"],pl:["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","września","października","listopada","grudnia"],ro:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"]},PH.Date.shortMonthNames={en:["Jan.","Feb.","Mar.","Apr.","May.","Jun.","Jul.","Aug.","Sept.","Oct.","Nov.","Dec."],bg:["Яну","Фев","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],hu:["jan.","feb.","márc.","ápr.","máj.","jún.","júl.","aug.","szept.","okt.","nov.","dec."],pl:["sty.","lut.","mar.","kwi.","maj.","cze.","lip.","sie.","wrz.","paź.","lis.","gru."],ro:["Ian.","Feb.","Mar.","Apr.","Mai","Iun.","Iul.","Aug.","Sept.","Oct.","Noi.","Dec."]},PH.Date.prototype.getDayMonth=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.date.getDate(),n=this.date.getMonth(),n=(e.useShortMonthNames?PH.Date.shortMonthNames:PH.Date.monthNames)[this.locale][n];return"".concat(t," ").concat(n)},PH.Date.prototype.getDayWeekDayMonth=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.date.getDate(),n=this.date.getDay(),i=this.date.getMonth(),o=(e.useShortMonthNames?PH.Date.shortMonthNames:PH.Date.monthNames)[this.locale][i];switch(this.locale){case"bg":case"pl":case"ro":return(e.relativeDayName||PH.capitalize(PH.Date.weekDayNames[this.locale][n]))+", "+t+" "+o;case"hu":return e.relativeDayName||o+" "+t+"."}},PH.Date.prototype.getWeekDay=function(){var e=this.date.getDay();return PH.Date.weekDayNames[this.locale][e]},PH.Date.prototype.getHourMinutes=function(){return this.date.toTimeString().split(":")},PH.getDateFromString=function(e){if(!e)return new Date;var t=Date.parse(e);return new Date(!1===isNaN(t)?t:EM.parseDateFormat(e))}}(),PH.cookie=function(a){"use strict";function t(){EM.cookie_policy&&EM.cookie_policy.cookies&&EM.cookie_policy.cookies.forEach(function(e){e.is_accepted||e.is_mandatory||(/[?*]/.test(e.name)?PH.cookie.eraseByWildcard(e.name):PH.cookie.erase(e.name))})}return PH.on(a,"DOMContentLoaded",function(){var e=PH.cookie.get("EMAGUUID");e&&localStorage.setItem("EMAGUUID",e),t(),PH.on(EM.dispatcher,"AjaxFinished",t)}),{set:function(e,t,n,i,o){t=e+"="+t+";";n&&(n instanceof Date?isNaN(n.getTime())&&(n=new Date):n=new Date((new Date).getTime()+1e3*parseFloat(n)*60*60*24),t+="expires="+n.toGMTString()+";"),i&&(t+="path="+i+";"),o&&(t+="domain="+o+";"),a.cookie=t},get:function(e){for(var t=e+"=",n=a.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null},erase:function(e){this.set(e,"",-1),this.set(e,"",-1,"/"),this.set(e,"",-1,"/",EM.cookie_domain||location.hostname.replace(/^.*\.((?:emag|agito)\..*$)/,"$1"))},eraseByWildcard:function(e){e=e.replace(/[?*]/g,function(e){return"*"==e?".*?":".?"});var t=new RegExp("^("+e+")=");a.cookie.trim().split(/\s*;\s*/).forEach(function(e){e=t.exec(e);e&&PH.cookie.erase(e[1])})}}}(document),PH.Modal=PH.defclass("Modal",PH.Widget,function(e,t){"use strict";var n=window.history;e.options={_title:["title",null],_content:["content",null],_size:["size",""],_showHeader:["showHeader",!0],_hash:["hash",null],_closeButton:["closeButton",!0],_fullscreen:["fullscreen",!1],_titleClose:["titleClose",!1],_force:["force",!1]};var i=null,o=null,a=null;function s(e){return i=i||PH.createDOM("div",{className:"modal-backdrop fade"}),e&&document.body.appendChild(i),i}t._initElement=function(){var e=this._content,t=!1;"string"==typeof(e=/^#/.test(e)&&"SCRIPT"==(e=document.querySelector(e)).tagName?e.innerHTML:e)&&(t=!0,e=["*html",e]);var n=this;n._on_mouseDown=n._on_mouseDown.bind(n),n._on_keyDown=n._on_keyDown.bind(n),n._on_popState=n._on_popState.bind(n);e=PH.createDOM(["div",{className:"ph-modal modal fade"+(n._fullscreen?" ph-modal-fullscreen":""),tabIndex:"-1"},["div",{className:"modal-dialog "+n._size},["div",{className:"modal-content"},n._showHeader?["div",{className:"modal-header"},n._closeButton?["button",{className:"close"},["i",{className:"em em-close"}]]:null,n._title?["h4",{className:"modal-title"+(n._titleClose?" close":"")},["*text",n._title]]:null]:null,e]]]);((n._element=e).PH_Widget=n)._className&&n.addClass(n._className),document.body.appendChild(n._element);var i=n._closeBack.bind(n);PH.slice(e.querySelectorAll(".close, [data-dismiss]")).forEach(function(e){e.addEventListener("click",i)}),t&&PH.Widget.autoInit(e)},t.open=function(){if(this._closed=!1,a&&a._element)return a.once("close",this.open.bind(this)),void a.close();var t=this;(a=t)._element.style.display="block",t._element.focus(),o=(window.pageYOffset||document.body.scrollTop)-(document.body.clientTop||0),document.body.style.top=-1*o+"px",s(!0),setTimeout(function(){PH.addClass(s(),"in"),PH.addClass(document.body,"modal-open"),t.addClass("in");var e=PH.getScrollbarSize().width;document.body.style.paddingRight=e+"px",PH.on(t._element,"click",t._on_mouseDown),PH.on(document,"keydown",t._on_keyDown),t.trigger("open")},10),t.relayoutCarousels(),t._hash&&n.pushState&&(n.pushState(null,"","#"+t._hash),PH.on(window,"popstate",t._on_popState))},t.close=function(){this._closed=!0,a=null;var e=this;PH.removeClass(document.body,"modal-open"),e.delClass("in"),PH.removeClass(s(),"in"),document.body.style.paddingRight="0px",window.scrollTo(0,o),document.body.style.top="",this._eventsOff(),setTimeout(function(){PH.remove(s()),e._element&&(e._element.style.display="none"),e._hash&&n.replaceState&&n.replaceState(null,"",window.location.pathname+window.location.search),e.trigger("close")},300),e._hash&&n.pushState&&PH.off(window,"popstate",e._on_popState)},t.setVscroll=function(e){null!=e&&(o=e,document.body.style.top=-1*e+"px")},t._closeBack=function(){var e=this;this._closed||(this._hash?(n.back(),setTimeout(function(){e._closed||e.close()},100)):this.close())},t._eventsOff=function(){PH.off(this._element,"click",this._on_mouseDown),PH.off(document,"keydown",this._on_keyDown)},t._quickClose=function(){a=null;var e=this;e._eventsOff(),e.delClass("in"),setTimeout(function(){e._element.style.display="none"},300)},t._on_popState=function(e){this.close()},t._on_mouseDown=function(e){this._force||PH.closest(e.target,".modal-dialog")||e.target.parentNode.querySelector(".gm-style-iw")||e.target.parentNode.parentNode.querySelector(".gm-style-iw")||!this._closeButton||this._closeBack()},t._on_keyDown=function(e){!this._force&&this._closeButton&&27==e.keyCode&&this._closeBack()},PH.on(window,"load",function(){setTimeout(function(){var e=document.createElement("style"),t=PH.getScrollbarSize();e.type="text/css";t=[".modal-open .adjust-on-modal { padding-right: "+t.width+"px; }",".ph-modal { padding-left: "+t.width+"px; }",".modal-open .ph-modal { padding-left: 0 } "].join("\n");e.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(e)},500)})}),PH.ModalTrigger=PH.defclass("ModalTrigger",PH.Modal,function(e,t){"use strict";t._initElement=function(){var t=this;t._from.addEventListener("click",function(e){t.open(),PH.stopEvent(e)})},t.open=function(){(this._modal||(this._modal=new PH.Modal(this))).open()}}),PH.Confirm=function(){"use strict";function t(e){_classCallCheck(this,t),this.options=PH.extend({title:e.title||EM.trans("Confirm"),message:e.message||EM.trans("Are you sure?"),size:e.size||"modal-sm",modalClassName:e.modalClassName||"confirm-modal",confirmLabel:e.confirmLabel||EM.trans("Confirm"),cancelLabel:e.cancelLabel||EM.trans("Cancel"),cancelClassName:e.cancelClassName||"btn btn-default",confirmClassName:e.confirmClassName||"btn btn-primary",onDeny:e.onDeny||PH.noop,onConfirm:e.onConfirm||PH.noop},e);e='\n        <div class="modal-header">\n            <h4 class="modal-title">'.concat(this.options.title,'</h4>\n        </div>\n        <div class="modal-body">\n            ').concat(this.options.message,'\n        </div>\n        <div class="modal-footer">\n            <button class="').concat(this.options.cancelClassName,' btn-cancel js-btn-cancel">').concat(this.options.cancelLabel,'</button>\n            <button class="').concat(this.options.confirmClassName,' btn-confirm js-btn-confirm">').concat(this.options.confirmLabel,"</button>\n        </div>");this.modal=new PH.Modal({content:e,size:this.options.size,showHeader:!1,closeButton:!1,className:this.options.modalClassName}),this.modal.open(),this.modalContent=this.modal.element(),this.cancelBtn=PH.q(".js-btn-cancel",this.modalContent),this.confirmBtn=PH.q(".js-btn-confirm",this.modalContent),this.initEvents()}return _createClass(t,[{key:"confirm",value:function(e){return this.options.onConfirm=e||PH.noop,this}},{key:"deny",value:function(e){return this.options.onDeny=e||PH.noop,this}},{key:"initEvents",value:function(){var t=this;PH.on(this.cancelBtn,"click",function(e){e.preventDefault(),t.modal.close(),t.options.onDeny&&t.options.onDeny.call(t)}),PH.on(this.confirmBtn,"click",function(e){e.preventDefault(),t.modal.close(),t.options.onConfirm&&t.options.onConfirm.call(t)}),this.modal.on("close",function(){t.modal.destroy()})}}]),t}(),PH.Alert=function(){"use strict";function t(e){_classCallCheck(this,t),this.options=PH.extend({title:e.title||EM.trans("Alert"),message:e.message||EM.trans("Alert"),size:e.size||"modal-sm",modalClassName:e.modalClassName||"alert-modal",dismissLabel:e.dismissLabel||EM.trans("OK"),dismissClassName:e.dismissClassName||"btn btn-primary",onDismiss:e.onDismiss||PH.noop},e);e='\n        <div class="modal-header">\n            <h4 class="modal-title">'.concat(this.options.title,'</h4>\n        </div>\n        <div class="modal-body">\n            ').concat(this.options.message,'\n        </div>\n        <div class="modal-footer text-center">\n            <button class="').concat(this.options.dismissClassName,' js-btn-dismiss">').concat(this.options.dismissLabel,"</button>\n        </div>");this.modal=new PH.Modal({content:e,size:this.options.size,showHeader:!1,closeButton:!1,className:this.options.modalClassName}),this.modal.open(),this.dismissBtn=PH.q(".js-btn-dismiss",this.modal.element()),this.initEvents()}return _createClass(t,[{key:"dismiss",value:function(e){return this.options.onDismiss=e||PH.noop,this}},{key:"initEvents",value:function(){var t=this;PH.on(this.dismissBtn,"click",function(e){e.preventDefault(),t.modal.close(),t.options.onDismiss&&t.options.onDismiss.call(t,e)}),this.modal.on("close",function(){t.modal.destroy()})}}]),t}(),PH.Tabs=PH.defclass("Tabs",PH.Widget,function(e,t){"use strict";function s(e){return e.replace(/^.*#/,"#")}e.options={_duration:["duration",150]},t._initElement=function(){e.base._initElement.apply(this,arguments),this.addLinkTriggers()},t.addLinkTriggers=function(){var n=this,e=PH.slice(n._from.querySelectorAll("[data-toggle]")),i=window.location.hash;e.forEach(function(t){var e;t.addEventListener("click",function(e){PH.stopEvent(e),n.setActive(t)}),s(t.href)==i&&(n.setActive(t),e=function(){"complete"===document.readyState&&PH.scrollToElement(n.element(),{steps:1,offsetTop:-80})},"complete"===document.readyState?e():PH.on(document,"readystatechange",e))})},t.getActive=function(){var e=this._from.querySelector(".active");return e?e.firstElementChild:null},t.setActive=function(e,t){var n,i,o=this,a=o.getActive();if(a!==e||t){if(o.trigger("beforeChange",e),a&&PH.removeClass(a.parentNode,"active"),PH.addClass(e.parentNode,"active"),n=a&&document.querySelector(s(a.href||PH.getData(a,"href"))),i=document.querySelector(s(e.href||PH.getData(e,"href"))),n&&PH.removeClass(n,"in"),t)return n&&PH.removeClass(n,"active"),PH.addClass(i,"active"),o.relayoutCarousels(i),PH.addClass(i,"in"),void o.trigger("change",e);setTimeout(function(){n&&PH.removeClass(n,"active"),PH.addClass(i,"active"),o.relayoutCarousels(i),setTimeout(function(){PH.addClass(i,"in"),o.trigger("change",e)},10)},o._duration)}}}),function(m,h){"use strict";m.Validator={rules:{},errors:{},helperNode:"span",helperClassName:"help-block",elementParent:".form-group",errorClass:"has-error",successClass:"has-success",blurEventMap:{focusout:['input[type="text"]','input[type="email"]','input[type="number"]','input[type="tel"]',"textarea"],change:['input[type="checkbox"]','input[type="radio"]',"select"],"ph-close":["select"]},changeEventMap:{keyup:['input[type="text"]','input[type="email"]','input[type="number"]','input[type="tel"]',"textarea"],change:['input[type="checkbox"]','input[type="radio"]',"select",'input[type="file"]'],"ph-close":["select"]},addRule:function(e,t,n){var i={};m.isArray(e)&&(1<e.length&&(i.alias=e[1]),e=e[0]),this.rules[e]=m.extend(i,{callback:t,message:n})},isFormValid:function(){return this.addValidatorToForm(arguments[0],arguments[1],arguments[2]).isValid()},getErrors:function(){return this.getErrors()},validateForm:function(){return this.addValidatorToForm(arguments[0],arguments[1],arguments[2]).validate()},addValidatorToForm:function(){var e=arguments[0],t=e["ph.validator"];return t?(arguments[1]||arguments[2])&&t.updateArgs(arguments[1],arguments[2]):e["ph.validator"]=t=new n(arguments[0],arguments[1],arguments[2]),t},addErrorsToForm:function(e,t){this.addValidatorToForm(e).addErrorsToForm(t)},removeHelpers:function(e){e.classList.remove(this.errorClass),e.classList.remove(this.successClass);for(var t=e.querySelectorAll("."+this.helperClassName),n=0;n<t.length;n++)m.remove(t[n])},_createHelperNode:function(e){var t=h.createElement(this.helperNode);return t.className=this.helperClassName,t.innerHTML=e,t}};var n=function(){this.form=arguments[0],this.initEvents={},this.validator=m.Validator,this.updateArgs(arguments[1],arguments[2]),"form"==this.form.tagName.toLowerCase()&&this.form.setAttribute("novalidate",!0)};n.prototype.addEventListeners=function(){if(this.options.validateOnBlur||this.options.validateOnChange){var e=this.options.validateOnBlur?"onBlur":"onChange",n=this.options.validateOnBlur?this.validator.blurEventMap:this.validator.changeEventMap;if("onBlur"==e&&this.initEvents.onBlur||"onChange"==e&&this.initEvents.onChange)return;Object.keys(n).forEach(function(e){var t=n[e];if(!Array.isArray(t))return!1;m.live(this.form,e,t.join(", "),function(e){e=m.target(e);this.validateField(e,this.rules[e.name])}.bind(this))},this),this.initEvents[e]=!0}this.options.validateOnSubmit&&!this.initEvents.onSubmit&&(this.form.addEventListener("submit",function(e){this.validate()||e.preventDefault()}.bind(this)),this.initEvents.onSubmit=!0)},n.prototype.updateArgs=function(){this.rules=m.merge({},arguments[0]?arguments[1]||arguments[0]:this.rules),this.options=m.merge({showHelpers:!0,addErrorClass:!0,addSuccessClass:!1,validateOnBlur:!1,validateOnChange:!1,validateOnSubmit:!0,scrollOnError:!1,scrollOnErrorOffset:-40,validateOnlyVisible:!1},this.options,arguments[1]?arguments[0]:null),this.addEventListeners()},n.prototype.isValid=function(){return this.validate(!0)},n.prototype.validate=function(e){var t=!0,n=this.form.querySelectorAll("input, select, textarea");this.errors={};for(var i=0;i<n.length;i++)if(!n[i].disabled&&!this.validateField(n[i],this.rules[n[i].name],!!e)){if(e)return!1;this.errors[n[i].name]="",this.options.scrollOnError&&t&&m.scrollToElement(n[i],{offsetTop:this.options.scrollOnErrorOffset}),t=!1}return t},n.prototype.getErrors=function(){var e=this.errors;return this.errors={},e},n.prototype.validateField=function(n,e,t){var i,o,a,s,r,c,l,d=!0,u={};if(this.options.validateOnlyVisible&&!m.isVisible(n))return!0;if(m.isArray(e))for(var p=0;p<e.length;p++)i=e[p],u[i[0]]=i;for(l in Object.keys(this.validator.rules).forEach(function(e){var t;e in u||null!==(a=null===(a=n.getAttribute("data-v-"+e))&&this.validator.rules[e].alias?n.getAttribute(this.validator.rules[e].alias):a)&&(t=n.getAttribute("data-vm-"+e),u[e]=[e,a,t?function(){return t}:null])},this),u)if(s=(i=u[l])[0],r=i[1],c=i[2],s in this.validator.rules&&!(d=this.validator.rules[s].callback.call(this,n,r))){o=(c||this.validator.rules[s].message).call(this,r);break}return!0!==t&&(t=m.closest(n,this.validator.elementParent)||h.createElement("div"),this.validator.removeHelpers(t),this.addClassToField(t,d),this.addHelperToField(t,o)),d},n.prototype.addClassToField=function(e,t){this.options.addErrorClass&&!t?e.classList.add(this.validator.errorClass):this.options.addSuccessClass&&t&&e.classList.add(this.validator.successClass)},n.prototype.addHelperToField=function(e,t){t&&this.options.showHelpers&&e.appendChild(this._createHelperNode(t))},n.prototype.addErrorsToForm=function(e){for(var t in e){var n,i=this.form.querySelectorAll('input[name="'+t+'"], select[name="'+t+'"], textarea[name="'+t+'"]');if("string"==typeof e[t])n=e[t];else{if(!Array.isArray(e[t]))continue;n=e[t][0]}for(var o=0;o<i.length;o++){var a=m.closest(i[o],this.validator.elementParent)||h.createElement("div");this.validator.removeHelpers(a),this.addClassToField(a,!1),this.addHelperToField(a,n)}}},n.prototype._createHelperNode=function(e){var t=h.createElement(this.validator.helperNode);return t.className=this.validator.helperClassName,t.innerHTML=e,t},m.Validator.addRule(["required","required"],function(e,t){if("radio"!==e.type)return"checkbox"===e.type?e.checked:/\S/.test(e.value);var n=(t||h).querySelectorAll('[name="'+e.name+'"]');if(n[n.length-1]!==e)return!0;for(var i=0;i<n.length;i++)if(n[i].checked)return!0;return!1},function(){return EM.trans("This field is required")}),m.Validator.addRule("email",function(e){return""===e.value||/^([\w-+]+(?:\.[\w-+]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(e.value)},function(){return EM.trans("Invalid email")}),m.Validator.addRule("number",function(e){return""===e.value||!isNaN(parseFloat(e.value))&&isFinite(e.value)},function(){return EM.trans("Incorrect number")}),m.Validator.addRule("digits",function(e){return""===e.value||/^([0-9]+)$/.test(e.value)},function(){return EM.trans("Only digits allowed")}),m.Validator.addRule("letters",function(e){return""===e.value||/^([a-zA-Z\s\-\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]+)$/.test(e.value)},function(){return EM.trans("Only letters allowed")}),m.Validator.addRule(["min","minlength"],function(e,t){return"number"==e.type?parseFloat(e.value)>=parseFloat(t):e.value.length>=parseInt(t)},function(){return EM.trans("Too short")}),m.Validator.addRule(["max","maxlength"],function(e,t){return"number"==e.type?parseFloat(e.value)<=parseFloat(t):e.value.length<=parseInt(t)},function(){return EM.trans("Too long")}),m.Validator.addRule(["length","size"],function(e,t){return e.value.length===parseInt(t)},function(){return EM.trans("Length mismatch")}),m.Validator.addRule("multiple",function(e,t){return""===e.value||parseInt(e.value)%t==0},function(){return EM.trans("Incorrect multiple")}),m.Validator.addRule(["extension"],function(e,t){if(!t)return!0;if(!e.value)return!1;e=e.value,e=e.substring(e.lastIndexOf(".")+1);return-1!==t.indexOf(e.toLowerCase())},function(){return EM.trans("Invalid file type selected")}),m.Validator.addRule("phone",function(e,t){var n;switch(t){case"ro":n=/^07[0-9]{8}$/;break;case"bg":n=/^08[0-9]{8}$/;break;case"hu":n=/^(36|06)[0-9]{2}[0-9]{7}$/;break;case"pl":n=/^[4-8][0-9]{8}$/;break;default:n=/^[0-9\-\+ ]+$/}return""===e.value||n.test(e.value)},function(){return EM.trans("Incorrect phone number")}),m.Validator.addRule("minRatingValue",function(e,t){return e.value>t},function(){return EM.trans("Please enter a greater value")}),m.Validator.addRule("egn",function(e,t){if(0===e.value.length)return!0;var n=e.value,i=new Array(2,4,8,5,10,9,7,3,6,0),o=new Array(31,29,31,30,31,30,31,31,30,31,30,31),a=0;if(10!=n.length)return!1;for(var s=0;s<9;s++){var r=n.charCodeAt(s)-48;if(!(0<=r&&r<=9))return!1;a+=r*i[s]}var c=parseInt(n.substr(4,2),10),e=parseInt(n.substr(2,2),10);if(41<=e&&e<=52&&(e-=40),e<1||12<e)return!1;if(c<1||c>o[e-1])return!1;e=a%11%10;return n.charCodeAt(9)-48==e},function(){return EM.trans("This CNP is not valid")}),m.Validator.addRule("cnp",function(e,t){if(0===e.value.length)return!0;if(13!==e.value.length||isNaN(e.value))return!1;for(var n,i=[],o=new Date,a=0,s=[2,7,9,1,4,6,3,5,8,2,7,9],r=0;r<13;r++)i[r]=parseInt(e.value.charAt(r),10),r<12&&(a+=i[r]*s[r]);if((a%=11)<10&&a!=i[12]||10==a&&1!=i[12])return!1;switch(n=10*i[1]+i[2],i[0]){case 1:case 2:n+=1900;break;case 3:case 4:n+=1800;break;case 5:case 6:n+=2e3;break;case 7:case 8:case 9:(n+=2e3)>parseInt((new Date).getYear(),10)-14&&(n-=100);break;default:return!1}return!(n<1800||2099<n)&&(!(n+""+i[3]+i[4]>=o.getFullYear()+""+("0"+(o.getMonth()+1)).slice(-2))&&!((o=parseInt(i[7]+""+i[8]))<1||52<o&&80!=o))},function(){return EM.trans("This CNP is not valid")}),m.Validator.addRule("match-selector",function(e,t){t=m.q(t);return t&&e.value===t.value},function(){return EM.trans("Value mismatch")}),m.Validator.addRule("iban",function(e,t){var n=e.value.trim().toUpperCase(),i={AD:/^AD[0-9]{2}[0-9]{8}[A-Z0-9]{12}$/,AT:/^AT[0-9]{2}[0-9]{5}[0-9]{11}$/,BA:/^BA[0-9]{2}[0-9]{6}[0-9]{10}$/,BE:/^BE[0-9]{2}[0-9]{3}[0-9]{9}$/,BG:/^BG[0-9]{2}[A-Z]{4}[0-9]{4}[0-9]{2}[A-Z0-9]{8}$/,CH:/^CH[0-9]{2}[0-9]{5}[A-Z0-9]{12}$/,CS:/^CS[0-9]{2}[0-9]{3}[0-9]{15}$/,CY:/^CY[0-9]{2}[0-9]{8}[A-Z0-9]{16}$/,CZ:/^CZ[0-9]{2}[0-9]{4}[0-9]{16}$/,DE:/^DE[0-9]{2}[0-9]{8}[0-9]{10}$/,DK:/^DK[0-9]{2}[0-9]{4}[0-9]{10}$/,EE:/^EE[0-9]{2}[0-9]{4}[0-9]{12}$/,ES:/^ES[0-9]{2}[0-9]{8}[0-9]{12}$/,FR:/^FR[0-9]{2}[0-9]{10}[A-Z0-9]{13}$/,FI:/^FI[0-9]{2}[0-9]{6}[0-9]{8}$/,GB:/^GB[0-9]{2}[A-Z]{4}[0-9]{14}$/,GI:/^GI[0-9]{2}[A-Z]{4}[A-Z0-9]{15}$/,GR:/^GR[0-9]{2}[0-9]{7}[A-Z0-9]{16}$/,HR:/^HR[0-9]{2}[0-9]{7}[0-9]{10}$/,HU:/^HU[0-9]{2}[0-9]{7}[0-9]{1}[0-9]{15}[0-9]{1}$/,IE:/^IE[0-9]{2}[A-Z0-9]{4}[0-9]{6}[0-9]{8}$/,IS:/^IS[0-9]{2}[0-9]{4}[0-9]{18}$/,IT:/^IT[0-9]{2}[A-Z]{1}[0-9]{10}[A-Z0-9]{12}$/,LI:/^LI[0-9]{2}[0-9]{5}[A-Z0-9]{12}$/,LU:/^LU[0-9]{2}[0-9]{3}[A-Z0-9]{13}$/,LT:/^LT[0-9]{2}[0-9]{5}[0-9]{11}$/,LV:/^LV[0-9]{2}[A-Z]{4}[A-Z0-9]{13}$/,MK:/^MK[0-9]{2}[A-Z]{3}[A-Z0-9]{10}[0-9]{2}$/,MT:/^MT[0-9]{2}[A-Z]{4}[0-9]{5}[A-Z0-9]{18}$/,NL:/^NL[0-9]{2}[A-Z]{4}[0-9]{10}$/,NO:/^NO[0-9]{2}[0-9]{4}[0-9]{7}$/,PL:/^PL[0-9]{2}[0-9]{8}[0-9]{16}$/,PT:/^PT[0-9]{2}[0-9]{8}[0-9]{13}$/,RO:/^RO[0-9]{2}[A-Z]{4}[A-Z0-9]{16}$/,SE:/^SE[0-9]{2}[0-9]{3}[0-9]{17}$/,SI:/^SI[0-9]{2}[0-9]{5}[0-9]{8}[0-9]{2}$/,SK:/^SK[0-9]{2}[0-9]{4}[0-9]{16}$/,TN:/^TN[0-9]{2}[0-9]{5}[0-9]{15}$/,TR:/^TR[0-9]{2}[0-9]{5}[A-Z0-9]{17}$/},o={A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:18,J:19,K:20,L:21,M:22,N:23,O:24,P:25,Q:26,R:27,S:28,T:29,U:30,V:31,W:32,X:33,Y:34,Z:35},a=function(e){for(var t=[],n=0;n<e.length;n++){var i=parseInt(e[n],10);0<=i&&i<=9?t.push(i):t.push(o[e[n]])}return t.join("")},s=function(e){for(var t=parseInt(e.slice(0,1),10),n=1;n<e.length;n++)t*=10,t+=parseInt(e.slice(n,n+1),10),t%=97;return t},e=n.substring(0,2);return!!(i[e]&&i[e].test(n)&&function(e){e=e.slice(4,e.length)+e.slice(0,4),e=a(e);return 1===s(e)}(n))},function(){return EM.trans("Invalid IBAN")});for(var e=h.body.querySelectorAll("form"),t=0;t<e.length;t++)null==e[t].getAttribute("data-no-validator")?m.Validator.addValidatorToForm(e[t]):e[t].setAttribute("novalidate",!0)}(PH,document),function(o,a,s){var r;o.ajax=function(e){e.uid=o.ajax.uid++,e.form&&s.addLoaderTo(e.form,e.preloaderClass),(e.cache||o.ajax.globalCache)&&(e.data?e.data._cache=(new Date).getTime():e.data={_cache:(new Date).getTime()}),e.headers=e.headers||{},-1!==e.url.indexOf("sapi.")&&(e.withCredentials=!0,(r=r||s.cookie.get("EMAGVISITOR"))&&(e.headers["X-Emag-Visitor"]=encodeURIComponent(r)),e.headers["X-Referer-Site-Version"]="mobile"===s.cookie.get("site_version_11")?"mobile":"www",(t=s.cookie.get("_pdr_view_id"))&&(e.headers["X-Pdr-View-Id"]=t)),e.crossOrigin&&(e.headers["X-Requested-With"]="XMLHttpRequest");var t=localStorage.getItem("EMAGUUID");t&&!s.cookie.get("EMAGUUID")&&(e.headers["X-UUID"]=t),o.ajax.ajaxStart();o.ajax._started++;var n=e.complete;e.complete=function(){e.form&&s.removeLoaderFrom(e.form),o.ajax._finished++,o.ajax._started&&o.ajax._started===o.ajax._finished&&o.ajax.ajaxStop(i),delete o.ajax.ajaxes[e.uid],"function"==typeof n&&n.call(this,arguments),s.trigger(EM.dispatcher,"AjaxFinished")};var i=a(e);return o.ajax.ajaxes[e.uid]=i},o.ajax.ajaxStart=function(){},o.ajax.ajaxStop=function(){},o.ajax._started=0,o.ajax._finished=0,o.ajax.globalCache=!1,o.ajax.ajaxes={},o.ajax.uid=0,s.when=function(){function e(){r[arguments[0]]=arguments[1],0}function t(){r[arguments[0]]=arguments[1],a++}function n(){s++,c.checkFinished.call(c)}for(var i=Array.prototype.slice.call(arguments||[]).reduce(function(e,t){return e.concat(t)},[]),o=i.length,a=0,s=0,r=[],c={thenCallback:function(){},failCallback:function(){},alwaysCallback:function(){},checkFinished:function(){o&&o===s&&((0===a?c.thenCallback:c.failCallback).apply(c,r),c.alwaysCallback.apply(c,r))},then:function(e){return c.thenCallback=e,c},fail:function(e){return c.failCallback=e,c},always:function(e){return c.alwaysCallback=e,c}},l=0;l<i.length;l++)i[l].then(e.bind(c,l)),i[l].fail(t.bind(c,l)),i[l].always(n.bind(c,l));return c}}(window,window.reqwest,window.PH),function(){"use strict";EM.scrollMomentum=function(){var e=this,t=e.scrollTop,n=e.scrollHeight,i=t+e.offsetHeight;0===t?e.scrollTop=1:i===n&&(e.scrollTop=t-1)}}(),PH.CollapsiblePanels=PH.defclass("CollapsiblePanels",PH.Widget,function(t,e){"use strict";function l(e,t){return e.replace(/\$N/g,t)}t.options={_initCount:["initCount",1],_pageSize:["pageSize",4],_initLabel:["initLabel","View more ($N)"],_midLabel:["midLabel","View more ($N)"],_endLabel:["endLabel","View less"],_target:["target",null],_collapsibles:["collapsibles",null]},e._initElement=function(){var n=this;t.base._initElement.call(n);var i=0,e=document.getElementById(n._target);n._cards=PH.slice(e.querySelectorAll(n._collapsibles)).map(function(e,t){e=PH.wrap(e,document.createElement("div"));return t>=n._initCount?(PH.addClass(e,"collapse"),++i):PH.addClass(e,"collapse in"),e}),PH.on(n._from,"click",function(e){PH.stopEvent(e),n.more()}),0<i?n._from.innerHTML=l(n._initLabel,i):PH.remove(n._from)},e.more=function(e){var t,n=0,i=this._cards;for(a=0;a<i.length&&(t=i[a],!PH.hasClass(t,"collapse")||PH.hasClass(t,"in"));++a)n++;if(n!=i.length){for(var o=[],a=0,s=n;a<this._pageSize&&s<i.length;++a,++s)t=i[s],PH.addClass(t,"in"),o.push({card:t,height:t.offsetHeight}),PH.addClass(t,"collapsing");setTimeout(function(){o.forEach(function(e){e.card.style.height=e.height+"px",e.card.style.overflowY="hidden"})},10),setTimeout(function(){o.forEach(function(e){e.card.style.height=e.card.style.overflowY="",PH.removeClass(e.card,"collapsing")}),PH.trigger(window,"scroll")},300);var r=i.length-s,c=0<r?this._midLabel:this._endLabel;c?(this._from.innerHTML=l(c,r),PH.addClass(this._from,"active")):PH.remove(this._from)}else e||this.less()},e.less=function(){for(var e,t=this._cards,n=[],i=0;i<t.length;++i)i>=this._initCount&&((e=t[i]).style.height=e.offsetHeight+"px",n.push(e));setTimeout(function(){n.forEach(function(e){PH.addClass(e,"collapsing"),e.style.height="0px",e.style.overflowY="hidden"})},10),setTimeout(function(){n.forEach(function(e){PH.removeClass(e,"collapsing in"),e.style.height=e.style.overflowY=""})},300),this._from.innerHTML=l(this._initLabel,n.length),PH.removeClass(this._from,"active")}}),PH.CollapseOne=PH.defclass("CollapseOne",PH.Widget,function(n,e){"use strict";function i(e,t){return"number"==typeof(e=null==e?t||"":e)&&(e+="px"),e}n.options={_target:["target",null],_initSize:["initSize",null],_initLabel:["initLabel",null],_endLabel:["endLabel",null],_labelAlways:["labelAlways",null],_stopEvent:["stopEvent",PH.stopEvent,{type:"function"}],_animation:["animation",!0],_keepArrow:["keepArrow",!1],_noInitialAction:["noInitialAction",!1]},e._initElement=function(){var t=this;n.base._initElement.apply(t,arguments);var e=t._target=PH.element(t._target);if(e.style.overflowY="hidden",e.PH_CollapseOne_triggers=e.PH_CollapseOne_triggers||[],e.PH_CollapseOne_triggers.push(this._from),null==this._initLabel&&(this._initLabel=this._from.innerHTML),null==t._initSize&&e.style.height&&(t._initSize=e.style.height),t._initSize){if(!t._labelAlways&&e.offsetHeight<t._initSize)return PH.remove(t._from),PH.addClass(t._target,"collapse in"),void PH.trigger(e,"PHCollapseOneUnderHeight");this._noInitialAction||(e.style.height=i(t._initSize),e.style.removeProperty("max-height"),PH.removeClass(t._from,"hidden"))}PH.on(t._from,"click",function(e){PH.hasClass(t._from,"collapse-disabled")||(t._stopEvent(e),t.toggle())}),this._collapseGroup=PH.closest(e,".collapse-group"),this._collapseGroup&&(this._collapseGroup.collapseObjects=this._collapseGroup.collapseObjects||[],this._collapseGroup.collapseObjects.push(this))},e.toggle=function(){PH.hasClass(this._target,"in")?this.less():this.more()},e._updateTriggers=function(t){this._target.PH_CollapseOne_triggers.forEach(function(e){PH.toggleClass(e,"active",t)})},e.more=function(){var e,t,n=this._target;PH.hasClass(n,"in")||(this._closeOthers(),PH.addClass(n,"in"),this._animation?((e=n.style.height)&&(n.style.height=""),t=n.offsetHeight,e&&(n.style.height=e),PH.addClass(n,"collapsing"),setTimeout(function(){n.style.height=t+"px"},10),setTimeout(function(){n.style.height="",PH.removeClass(n,"collapsing"),PH.trigger(window,"scroll")},500)):(n.style.height="",PH.trigger(window,"scroll")),PH.addClass(this._from,"active"),this._endLabel?this._from.innerHTML=this._endLabel:this._initSize&&!this._keepArrow&&PH.remove(this._from),this.trigger("more"),PH.trigger(this._from,"PHCollapseOneMore"))},e.less=function(){var e=this,t=this._target;e._animation?(t.style.height=t.offsetHeight+"px",setTimeout(function(){PH.addClass(t,"collapsing"),t.style.height=i(e._initSize,"0px")},10),setTimeout(function(){PH.removeClass(t,"collapsing in"),e._initSize||(t.style.height="")},300)):(PH.removeClass(t,"in"),e._initSize||(t.style.height="")),e._initLabel&&(e._from.innerHTML=e._initLabel),this._updateTriggers(!1),this.trigger("less"),PH.trigger(this._from,"PHCollapseOneLess")},e._closeOthers=function(){if(this._collapseGroup)for(var e=this._collapseGroup.collapseObjects,t=0,n=e.length;t<n;t++)e[t]!==this&&e[t].less()}}),function(n){"use strict";n.FormHandler=function(e,t){return t=t||{},this.form=n.element(e),this.method=t.method||this.form.getAttribute("method")||"post",this.action=t.action||this.form.getAttribute("action")||"",this.data=t.data||{},this.thenCallback=t.success||function(){},this.failCallback=t.error||function(){},this.alwaysCallback=t.complete||function(){},this.beforeCallback=t.before||function(){},this.form.addEventListener("submit",this._onSubmit.bind(this)),this},n.FormHandler.prototype.submit=function(){var e;n.Validator.isFormValid(this.form)&&(this.beforeCallback.call(this,this.form),e=n.merge(n.formToJSON(this.form),this.data),ajax({method:this.method,type:"json",url:this.action,data:e,form:this.form}).then(this.thenCallback).fail(this.failCallback).always(this.alwaysCallback))},n.FormHandler.prototype._onSubmit=function(e){e.preventDefault(),this.submit()},n.FormHandler.prototype.then=function(e){return this.thenCallback=e,this},n.FormHandler.prototype.fail=function(e){return this.failCallback=e,this},n.FormHandler.prototype.always=function(e){return this.alwaysCallback=e,this},n.FormHandler.prototype.before=function(e){return this.beforeCallback=e,this}}(window.PH),PH.LazyImg=lozad("img[data-src],[data-background-image]",{rootMargin:"800px 0px 800px 0px"}).observe,function(){var n="PHStorageCleanup";PH.storage=function(){"use strict";function o(){_classCallCheck(this,o)}return _createClass(o,null,[{key:"get",value:function(e){e=o.getFull(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{});return e?e.value:null}},{key:"getNewer",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=o.getFull(e,n);return i?(i.timestamp<t&&(o.remove(e,n),i=null),i?i.value:null):null}},{key:"getFull",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=e.isSession?sessionStorage:localStorage,i=n.getItem(t);if(!i)return null;try{i=o._unpack(i)}catch(e){console.log(e),n.removeItem(t),i=null}return e.skipExpire||e.isSession||!o._isExpired(i)||(o.remove(t,e),i=null),i}},{key:"set",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;((3<arguments.length&&void 0!==arguments[3]?arguments[3]:{}).isSession?sessionStorage:localStorage).setItem(e,o._pack(t,n))}},{key:"remove",value:function(e){((1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).isSession?sessionStorage:localStorage).removeItem(e)}},{key:"clean",value:function(){var e=parseInt(localStorage.getItem(n),0);if(!(Date.now()-e<86400)){for(var t in localStorage)if(localStorage.hasOwnProperty(t)&&t!==n)try{o._isExpired(t)&&o.remove(t)}catch(e){console.log(e)}localStorage.setItem(n,""+Date.now())}}},{key:"clearExcept",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Array.isArray(t)||(t=[]);e=e.isSession?sessionStorage:localStorage;Object.keys(e).forEach(function(e){0<=t.indexOf(e)||o.remove(e)})}},{key:"_isExpired",value:function(e){var t;if("string"==typeof e){t=window.localStorage.getItem(e);try{t=o._unpack(t)}catch(e){}}else t=e;if(t&&t.timestamp)return t.timestamp+o._getComputedExpires(t.expires||"30d")<Date.now()}},{key:"_pack",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n={};return n.v=e,n.t=Date.now(),t&&(n.e=t),JSON.stringify(n)}},{key:"_unpack",value:function(e){var t=JSON.parse(e),e={value:t.v,timestamp:t.t};return t.e&&(e.expires=t.e),e}},{key:"_getComputedExpires",value:function(e){var t=/(\d+)(s|m|h|d)/.exec(e);if(t){e=_slicedToArray(t,3),t=(e[0],e[1]),e=e[2];return parseInt(t,0)*{s:1e3,m:6e4,h:36e5,d:864e5}[e]}}}]),o}()}(),function(n,i){"use strict";n.qs("input.em-vars").forEach(function(e){var t=e.name,e=e.value;if(t)i[t]=e;else try{n.extend(i,JSON.parse(e))}catch(e){}})}(PH,EM,document),function(i){var o=0;i.loadRecaptcha=function(e){var t,n;window.grecaptcha?e():(t="EM__recaptcha".concat(++o),window[t]=function(){delete window[t],e()},(n=document.createElement("script")).src="https://www.google.com/recaptcha/api.js?render=explicit&onload=".concat(t,"&hl=").concat(i.locale),document.body.appendChild(n))}}(EM),function(e){"use strict";var t,n=document.documentElement,a=navigator.userAgent||navigator.vendor||window.opera,i=[],o=[["edge",/Edge\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["safari",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/]],s={AndroidOS:{test:"Android",version:"Android [VER]"},iOS:{test:"\\biPhone.*Mobile|\\biPod|\\biPad",version:" \\bi?OS\\b [VER][ ;]{1}",type:{iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]"}},windows:{test:"\\bWin32|\\bWin64|\\bWindows|\\bWinCE"},osx:{test:"\\bMacintosh|\\bMacIntel|\\bMacPPC|\\bMac68K"},linux:{test:"\\bLinux"}},r={};function c(e){var t=e.indexOf("[VER]");return 0<=t&&(e=e.substring(0,t)+"([\\w._\\+]+)"+e.substring(t+5)),new RegExp(e,"i")}function l(e){var t=e.split(/[a-z._ \/\-]/i);return 1===t.length?e=t[0]:1<t.length&&(e=t[0]+".",t.shift(),e+=t.join("")),Number(e)}function d(e,t,n){n=n||{};t="function"==typeof t?t():t;n.class&&(n.addClassOnTrue&&t||n.addClassOnFalse&&!t)&&i.push((t?"":"no-")+n.class),r[e]=t}!function(){for(var e in s)for(var t in s[e])if("object"===_typeof(s[e][t]))for(var n in s[e][t])s[e][t][n]=c(s[e][t][n]);else s[e][t]=c(s[e][t])}(),function(){for(var e in s)if(s[e].test&&s[e].test.test(a)){r.os=e;break}var t=r.os;if(t)for(var n in s[t])if("test"!=n)if(s[t][n]instanceof RegExp){var i=s[t][n].exec(a);null!==i&&(r[n]="version"==n?l(i[1]):i[1])}else for(var o in s[t][n])if(s[t][n][o].test(a)){r[n]=o;break}}(),r.browser=o.map(function(e){if(e[1].test(a)){var t=e[1].exec(a);return{name:e[0],version:t[1]?l(t[1]):null}}}).filter(Boolean).shift()||{},d("cssFlexbox",function(){return"flexWrap"in n.style||"WebkitFlexWrap"in n.style||"msFlexWrap"in n.style},{addClassOnFalse:!0,class:"flexbox"}),d("isTouch",function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}),d("isMobile",function(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))}),d("isOutdated",function(){return"ie"==r.browser.name&&r.browser.version<=11||("chrome"==r.browser.name&&r.browser.version<40||("opera"==r.browser.name&&r.browser.version<30||("firefox"==r.browser.name&&r.browser.version<40||("safari"==r.browser.name&&r.browser.version<9||("iOS"==r.os&&r.version<9||"AndroidOS"==r.os&&r.version<5)))))},{addClassOnTrue:!0,class:"outdated"}),d("hasLocalStorage",function(){if(!window.localStorage)return!1;try{window.localStorage.setItem("_localStorageTest","LSTest"),window.localStorage.removeItem("_localStorageTest")}catch(e){return!1}return!0}),t=i,n.className=n.className+(n.className?" ":"")+(t.length?"emd-"+t.join(" emd-"):""),e.device=r}(EM=EM||{}),function(n,i){"use strict";var o,a;n&&i&&(o=n.device&&!n.device.isMobile,a=n.device.browser&&-1<["chrome","firefox"].indexOf(n.device.browser.name),n.BrowserPromptOverlay=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"create",value:function(){this.prompt||(this.prompt=i.node("<div class='browser-prompt-overlay'></div>"),document.body.appendChild(this.prompt),i.on(this.prompt,"click",this.hide.bind(this)),parseInt(n.device.browser.version)<53&&"firefox"==n.device.browser.name&&(i.on(this.prompt,"click",this.hide.bind(this)),i.on(window,"blur",this.hide.bind(this))))}},{key:"message",value:function(e){this.prompt||this.create();var t="";o&&a&&(i.addClass(this.prompt,"browser-prompt-overlay__browser-".concat(n.device.browser.name)),t='<em class="prompt-message">'.concat(e,"</em>")),n.device.os&&i.addClass(this.prompt,"browser-prompt-overlay__platform-".concat(n.device.os)),this.prompt.innerHTML=t}},{key:"show",value:function(e){clearTimeout(this.wait),e&&(this.wait=setTimeout(this.hide.bind(this),1e3*e)),this.prompt||this.create(),i.addClass(this.prompt,"browser-prompt-overlay__visible")}},{key:"hide",value:function(){this.prompt&&i.removeClass(this.prompt,"browser-prompt-overlay__visible")}}]),e}()))}(EM,PH),(EM=EM||{}).moneyFormat=function(s,r){"use strict";return function(e,t,n,i,o,a){if(t=void 0===t||!!t,n=void 0===n?2:n,i=i||",",o=o||".",!(a=a||""))switch(s){case"ro":a="Lei";break;case"bg":a="лв.";break;case"hu":a="Ft",n=0;break;case"pl":a="zł"}o=r(e,n,i,o),i=(o=o.replace(i,i+"<sup>")+"</sup> ").split(i);return o=i[0]+(i[1]||""),t&&(o+="<span>"+a+"</span>"),o}}(EM.locale,PH.number_format),(EM=EM||{}).getSize=function(i){"use strict";return function(t,n){var e;return t&&n?("object"!==_typeof(t)||i.isArray(t)||(t=Object.keys(t).map(function(e){return t[e]})),i.isArray(t)?(e=t.find(function(e){return e.size===n}))||(e=t.reduce(function(e,t){return Math.abs(parseInt(t.size)-parseInt(n))<Math.abs(parseInt(e.size)-parseInt(n))?t:e}))?e.url:t[0]&&t[0].url?t[0].url:"":""):""}}(PH),(EM=EM||{}).translations=EM.translations||{},function(){var n,i,o,a;function s(){n||(n=[EM.trans("January"),EM.trans("February"),EM.trans("March"),EM.trans("April"),EM.trans("May"),EM.trans("June"),EM.trans("July"),EM.trans("August"),EM.trans("September"),EM.trans("October"),EM.trans("November"),EM.trans("December")],i=[EM.trans("Sunday"),EM.trans("Monday"),EM.trans("Tuesday"),EM.trans("Wednesday"),EM.trans("Thursday"),EM.trans("Friday"),EM.trans("Saturday")],o=[EM.trans("Jan"),EM.trans("Feb"),EM.trans("Mar"),EM.trans("Apr"),EM.trans("May"),EM.trans("Jun"),EM.trans("Jul"),EM.trans("Aug"),EM.trans("Sep"),EM.trans("Oct"),EM.trans("Nov"),EM.trans("Dec")],a=[EM.trans("Su"),EM.trans("Mo"),EM.trans("Tu"),EM.trans("We"),EM.trans("Th"),EM.trans("Fr"),EM.trans("Sa")],PH.t.messages.GoToday=EM.trans("today"))}PH.t.calMon=function(e,t){return s(),(t?n:o)[e]},PH.t.calDay=function(e,t){return s(),(t?i:a)[e]},EM.trans=function(e,t){var n=EM.translations[e]||e;return t&&null!=t["%count%"]&&-1!==n.indexOf("|")?r(e,t["%count%"],t):t?d(n,t):n};var r=function(e,t,n){var i=EM.translations[e]||e;return null==(i=i.split("|")[EM.getPlural(t,EM.locale)])&&(console.error("Missing translation for <<<"+e+">>> using locale <<<"+EM.locale+">>>"),i=""),n?d(i,n):i};function c(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}EM.transchoice=function(e,t,n){return console.error('transchoice method/filter is deprecated. Use trans instead with a "%count% parameter.'),r.apply(this,arguments)};var l={};function d(e,t){var n=Object.keys(t),i=n.join(","),o=l[i];return o||(o=new RegExp("(?:".concat(n.map(c).join("|"),")"),"g"),l[i]=o),e.replace(o,function(e){return null!=t[e]?t[e]:""})}EM.getPlural=function(e,t){switch(t){case"bg":case"en":case"hu":return 1==e?0:1;case"pl":return 1==e?0:2<=e%10&&e%10<=4&&(e%100<12||14<e%100)?1:2;case"ro":return 1==e?0:0==e||0<e%100&&e%100<20?1:2;default:return 0}}}(),function(){EM.imageSize="150x150",EM.dispatcher=document.createElement("div"),EM.APP={request:{locale:EM.locale,cookies:PH.cookie},static_url:EM.static_url,current_url:EM.current_url,old_site_endpoint:EM.old_site_endpoint,sapi_endpoint:EM.sapi_endpoint,images_path:EM.images_path,site_url:EM.site_url,google_store_id:EM.google_store_id,apple_store_id:EM.apple_store_id},EM.token=PH.cookie.get("sapi-token")&&decodeURIComponent(PH.cookie.get("sapi-token")),EM.getDomain=function(e){return e.replace(/^.*\.((?:emag|agito)\..*$)/,"$1")};function l(e){return[EM.trans("Monday"),EM.trans("Tuesday"),EM.trans("Wednesday"),EM.trans("Thursday"),EM.trans("Friday"),EM.trans("Saturday"),EM.trans("Sunday")][e]}function d(e){return[EM.trans("January"),EM.trans("February"),EM.trans("March"),EM.trans("April"),EM.trans("May"),EM.trans("June"),EM.trans("July"),EM.trans("August"),EM.trans("September"),EM.trans("October"),EM.trans("November"),EM.trans("December")][e]}var u=["th","st","nd","rd"],p=[31,28,31,30,31,30,31,31,30,31,30,31];EM.parseDateFormat=function(e){return e.replace(/-/g,"/").replace("T"," ")},EM.showFailNotification=function(){new EM.Notification({position:"top right",message:EM.trans("Something went wrong. Please try again later."),type:"danger"})},EM.focusAtEnd=function(e){e.focus();var t=e.value.length+2;e.setSelectionRange(t,t)},EM.parseDate=function(e){var t=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(t)return{y:t[1],m:t[2],d:t[3],h:0,i:0,s:0,date:new Date(e+"T00:00:00")};var n=(e=""+e).split("T"),t=n[1].split("+")[0],n=n[0].split("-"),t=t.split(":");return{y:n[0],m:n[1],d:n[2],h:t[0],i:t[1],s:t[2],date:new Date(e)}},EM.dateFormat=function(e,t){if(!e)return"";t=t||EM.locale||"ro";e=EM.parseDate(e);return"hu"===t?e.y+". "+d(+e.m-1).substr(0,3).toLowerCase()+" "+e.d+".":e.d+" "+d(+e.m-1).substr(0,3)+" "+e.y},EM.formatDate=function(e,t){t=t||"j M Y";for(var n,i,o=EM.parseDate(e),a={d:o.d,D:function(e){e=l(e);return e?e.substr(0,3):""}(o.date.getDay()-1),j:+o.d,l:l(o.date.getDay()-1),N:o.date.getDay(),S:(i=+o.d,4<=(e=(i=+i)%10)||11<=i&&i<=13?u[0]:u[e]),w:o.date.getDay()-1,F:d(+o.m-1),m:o.m,M:d(+o.m-1).substr(0,3),n:+o.m,t:p[+o.m-1],Y:o.y,y:o.y.substring(2,4),a:+o.h<12?"am":"pm",A:+o.h<12?"AM":"PM",g:(+o.h+11)%12+1,G:+o.h,h:(i=+o.h-12,n=n||"0",(i+="").length>=(e=2)?i:new Array(e-i.length+1).join(n)+i),H:o.h,i:o.i,s:o.s},s="",r=0;r<t.length;r++){var c=t[r];s+=c in a?a[c]:c}return s},EM.failCallback=function(e){if(401==e.status)window.location=PH.globals.user.loginUrl;else{var t;try{t=JSON.parse(e.responseText)}catch(e){t={}}var n,i=[];if(t.notifications){for(var o in t.notifications)t.notifications.hasOwnProperty(o)&&(i=i.concat(t.notifications[o]));n=i.map(function(e){return e.message}).join("<br>")}else n=EM.trans("Uh oh! An error occurred. The request could not be completed!");new EM.Notification({position:"top right",message:n,type:"danger"})}},EM.urlInsertParam=function(e,t,n){t=encodeURIComponent(t),n=encodeURIComponent(n);var i=[],e=(e="?"==e.substr(-1)?e.substring(0,e.length-1):e).split("?");if(null==e[1])i[0]=t+"="+n;else{for(var o,a=(i=e[1].split("&")).length;a--;)if((o=i[a].split("="))[0]==t){o[1]=n,i[a]=o.join("=");break}a<0&&(i[i.length]=[t,n].join("="))}return e[0]+"?"+i.join("&")},EM.urlRemoveParam=function(e,t){t=encodeURIComponent(t);var n=[],e=(e="?"==e.substr(-1)?e.substring(0,e.length-1):e).split("?");if(null!=e[1])for(var i=(n=e[1].split("&")).length;i--;)if(n[i].split("=")[0]==t){n.splice(i,1);break}return e[0]+(n.length?"?"+n.join("&"):"")},EM.parseQueryString=function(){return((0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.location.search)+"").replace(/^\?/,"").split("&").reduce(function(e,t){return t=t.split("="),e[decodeURIComponent(t[0])]=decodeURIComponent(t[1]),e},{})},EM.urlGetParam=function(e,t){return EM.parseQueryString(e)[t]},EM.APP.request.query={all:EM.parseQueryString()},EM.favorite_products=EM.favorite_products||[];var i=null,o=null;EM.adsLoaded=function(){return new Promise(function(e,t){if(!1===i)return t();if(!0===i)return e();var n=EM.cookie_policy&&EM.cookie_policy.cookies||[];if(n.length){n=n.find(function(e){return 48==e.id});if(n&&!n.is_accepted)return i=!1,t()}return 0===(o=null===o?document.querySelector("#wrapfabtest").offsetHeight:o)?(i=!1,t()):EM.loadScript(EM.CDNPath+"/js/ads_script.js",1).then(function(){i=!0,e()}).catch(function(){i=!1,t()})})},EM.loadVideos=function(e){e&&PH.qs("div[data-sources]",e).forEach(function(e){try{var t=atob(e.getAttribute("data-sources")),t=JSON.parse(t),n=PH.node('<video poster="'.concat(t.preview.medium,'" preload="none" controls><source src="').concat(t.mp4.high.url,'" type="video/mp4"></video>'));PH.hide(e),e.parentNode.insertBefore(n,e),EM.loadComponent("Plyr",window.plyr).then(function(){var e=plyr.setup(n)[0].plyr;EM.trackVideoProgress(e,"product-description")})}catch(e){}})},EM.removeVideos=function(e){PH.qs("div[data-sources]",e).forEach(PH.remove)},EM.trackVideoProgress=function(o){var t,a,s,e,r,n,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";o&&o.media&&(s=function(){var e=PH.merge({"X-Product-Id":(EM.offer||{}).id,"X-Category-Id":EM.category_id,"X-Brand-Id":(EM.brand||{}).id,"X-User-Id":(EM.user_data||{}).id,"X-Customer-Id":EM.customer_id},0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});return fetch("/logger.json?".concat(new URLSearchParams(e).toString()),{keepalive:!0,headers:{"X-Requested-With":"XMLHttpRequest"}})},e=function e(){a=Date.now(),PH.off(o.media,"play",e),s({"X-PHP-Self":"/video_stats/play_video/".concat(c,"/").concat(a)}),window.addEventListener("beforeunload",function(){n(o.media.currentTime||o.media.duration,o.media.duration,2)})},r=function(){t=setTimeout(n.bind(null,o.media.currentTime,o.media.duration),5e3)},n=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",i=100*+(e/t).toFixed(2),i=100==i?"100%":75<=i?"75%":50<=i?"50%":25<=i?"25%":e<10?"< 10s":"< 25%";s({"X-PHP-Self":"/video_stats/stop_video".concat(n,"/").concat(c,"/").concat(i,"/").concat(a)}),PH.off(o.media,"pause",r)},PH.on(o.media,"pause",r),PH.on(o.media,"play",e),PH.on(o.media,"play",function(e){clearTimeout(t)}))},EM.YouTubeGetID=function(e){e=e.replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/);return void 0===e[2]?e:e[2].split(/[^0-9a-z_\-]/i)[0]}}(),eCookie={get:function(e){return PH.cookie.get(e)},set:function(e){"expiresIn"in e&&(e.expires=e.expiresIn/864e5),e.path=e.path||!1,PH.cookie.set(e.name,e.value,e.expires,e.path)},delete:function(e){PH.cookie.erase(e)}},function(o){var i=TWEEG_RUNTIME();i.add_global("CDN",o.CDN),i.add_global("IS_MOBILE",!!o.mobile),i.add_global("EMPTY_IMG","data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),i.add_global("abTestsAuto",o.abTestsAuto),i.merge(i.filter,{moneyFormat:o.moneyFormat,getSize:o.getSize,trans:o.trans,transchoice:o.transchoice,number_format:function(e,t,n,i){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var o=isFinite(+e)?+e:0,e=isFinite(+t)?Math.abs(t):0,t=void 0===i?",":i,i=void 0===n?".":n,n="";3<(n=(e?function(e,t){var n=Math.pow(10,t);return""+(Math.round(e*n)/n).toFixed(t)}(o,e):""+Math.round(o)).split("."))[0].length&&(n[0]=n[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,t));(n[1]||"").length<e&&(n[1]=n[1]||"",n[1]+=new Array(e-n[1].length+1).join("0"));return n.join(i)},dateFormat:o.dateFormat,date:o.formatDate,cleanUrl:function(e){var t=null;return e=e.replace(/#[a-z0-9_:.-]*/i,function(e){return"#"!=e&&(t=e),""}),t?e+t:e},addQueryParam:function(e,t,n){return(e=function(e){if(e=/^([^?#]*)(?:\?([^#]*))?(\#.*)?/.exec(e))return{main:e[1],query:e[2]?o.parseQueryString(e[2]):null,hash:e[3]}}(e)).query||(e.query={}),"string"==typeof t?e.query[t]=n:PH.merge(e.query,t),t=e.main,i=e.query,e=(e=e.hash)?e.replace(/^#*/,"#"):"",t+(i=i?(i="object"==_typeof(i)?Object.keys(i).reduce(function(e,t){var n=i[t];return void 0!==n&&e.push(encodeURIComponent(t)+"="+encodeURIComponent(n)),e},[]).join("&"):i).replace(/^\?*/,"?"):"")+e;var i},nl2br:PH.nl2br,prependCDNPath:function(e){return o.CDNPath+e}}),i.merge(i.func,{dump:function(e){console.log(e)},random:function(e){return"number"==typeof e?Math.floor(Math.random()*(e+1)):"string"==typeof e||Array.isArray(e)?e[Math.floor(Math.random()*e.length)]:Math.floor(2147483648*Math.random())}}),i.trans=o.trans,i.transchoice=o.transchoice,i.add_path("PhotonBundle","@PhotonBundle"),i.add_path("Components","@Components"),i.add_path("Pages","@Pages");var a=(o.TMPL=i).exec;o.TMPL.exec=function(e,t,n){return t&&!t.app&&(t=PH.merge({},t,{app:o.APP})),a.call(i,e,t,n)}}(EM),(EM=EM||{}).Social=EM.Social||{},EM.Social.facebookScope="public_profile,email",EM.Social.googleScope="profile",EM.Social.facebookDataToFetch="id,about,picture,birthday,email,first_name,gender,hometown,location,middle_name,name,timezone,website,work",EM.Social.facebookApiLoaded=!1,EM.Social.googleApiLoaded=!1,EM.Social.timeout=15e3,EM.Social.timeoutIndex=0,EM.Social.Events={GET_FACEBOOK_DATA:"em-get-facebook-data",FACEBOOK_LOGIN:"em-facebook-login",AFTER_FACEBOOK_LOGIN:"em-after-facebook-login",GET_GOOGLE_DATA:"em-get-google-data",FACEBOOK_DATA_REQUEST_ERROR:"em-facebook-data-request-error",FACEBOOK_DATA_FETCHED:"em-facebook-data-fetched",GOOGLE_DATA_FETCHED:"em-google-data-fetched",GOOGLE_DATA_REQUEST_ERROR:"em-google-data-request-error",FACEBOOK_API_LOADED:"em-facebook-api-loaded",GOOGLE_API_LOADED:"em-google-api-loaded"},EM.Social.loadFacebookApi=function(e){if(window.FB||!e)return!1;window.fbAsyncInit=function(){FB.init({appId:e,autoLogAppEvents:!0,xfbml:!0,status:!0,version:"v2.10"}),EM.Social.facebookApiLoaded||PH.trigger(document,EM.Social.Events.FACEBOOK_API_LOADED),EM.Social.facebookApiLoaded=!0};var t=document,n="facebook-jssdk",i=t.getElementsByTagName("script")[0];t.getElementById(n)||((t=t.createElement("script")).id=n,t.src="//connect.facebook.net/en_US/sdk.js",i.parentNode.insertBefore(t,i))},EM.Social.loadGoogleApi=function(e){if(!e||!EM.is_tracking_enabled)return!1;var t=function(){PH.trigger(document,EM.Social.Events.GOOGLE_DATA_REQUEST_ERROR)},n={callback:function(){window.gapi.auth2&&(window.gapi.auth2.init({client_id:e,scope:EM.Social.googleScope}),EM.Social.googleApiLoaded||PH.trigger(document,EM.Social.Events.GOOGLE_API_LOADED),EM.Social.googleApiLoaded=!0)},onerror:t,ontimeout:t,timeout:3e4};if(window.gapi)return window.gapi.load("auth2",n),!1;window.onGoogleApiLoaded=function(){window.gapi.load("auth2",n)};var i=document,t=i.getElementsByTagName("script")[0],i=i.createElement("script");i.id="script-google-plus",i.src="https://apis.google.com/js/platform.js?onload=onGoogleApiLoaded",i.async=!0,i.defer=!0,t.parentNode.insertBefore(i,t)},EM.Social.getGoogleUserInfo=function(e){if(!e.getBasicProfile)return!1;e=e.getBasicProfile();return{email:e.getEmail(),fullName:e.getName(),givenName:e.getGivenName(),familyName:e.getFamilyName(),imageUrl:e.getImageUrl(),id:e.getId()}},PH.on(document,EM.Social.Events.GET_FACEBOOK_DATA,function(e){window.FB&&(EM.Social.timeoutIndex=setTimeout(function(){PH.trigger(document,EM.Social.Events.FACEBOOK_DATA_REQUEST_ERROR)},EM.Social.timeout),window.FB.getLoginStatus(function(e){return"connected"===e.status?(PH.trigger(document,EM.Social.Events.AFTER_FACEBOOK_LOGIN),!1):void PH.trigger(document,EM.Social.Events.FACEBOOK_LOGIN)}))}),PH.on(document,EM.Social.Events.FACEBOOK_LOGIN,function(e){window.FB&&window.FB.login(function(e){return clearTimeout(EM.Social.timeoutIndex),e.authResponse&&"connected"===e.status?(PH.trigger(document,EM.Social.Events.AFTER_FACEBOOK_LOGIN),!1):void PH.trigger(document,EM.Social.Events.FACEBOOK_DATA_REQUEST_ERROR)},{scope:EM.Social.facebookScope})}),PH.on(document,EM.Social.Events.AFTER_FACEBOOK_LOGIN,function(e){var n;window.FB&&(n=function(e){PH.trigger(document,EM.Social.Events.FACEBOOK_DATA_FETCHED,e)},window.FB.api("/me/permissions",function(e){if(e.error)return PH.trigger(document,EM.Social.Events.FACEBOOK_DATA_REQUEST_ERROR,{facebook_error:EM.trans("Something went wrong. Please try again later.")}),!1;if(e.data){function t(e){PH.trigger(document,EM.Social.Events.FACEBOOK_DATA_REQUEST_ERROR,{facebook_error:EM.trans("To sign up, an email address is required")})}for(i=0;i<e.data.length;i++)if("declined"==e.data[i].status&&"email"==e.data[i].permission)return FB.api("/me/permissions","delete",t),!1}window.FB.api("/me",{fields:EM.Social.facebookDataToFetch},n)}))}),PH.on(document,EM.Social.Events.GET_GOOGLE_DATA,function(e){function t(e){var t=window.gapi.auth2.getAuthInstance().currentUser.get();if(googleData=EM.Social.getGoogleUserInfo(t),clearTimeout(EM.Social.timeoutIndex),!googleData.email)return PH.trigger(document,EM.Social.Events.FACEBOOK_DATA_REQUEST_ERROR,{google_error:EM.trans("To sign up, an email address is required")}),!1;PH.trigger(document,EM.Social.Events.GOOGLE_DATA_FETCHED,googleData)}var n=window.gapi.auth2.getAuthInstance();EM.Social.timeoutIndex=setTimeout(function(){PH.trigger(document,EM.Social.Events.GOOGLE_DATA_REQUEST_ERROR)},EM.Social.timeout),n.isSignedIn.get()?t():n.signIn().then(t,function(e){PH.trigger(document,EM.Social.Events.GOOGLE_DATA_REQUEST_ERROR)})}),function(e,t){"use strict";var n=e.device.isMobile?"lock-scroll-mobile":"lock-scroll";e.lockScroll={vscroll:0},e.lockScroll.lock=function(e){this.vscroll=(window.pageYOffset||document.body.scrollTop)-(document.body.clientTop||0),setTimeout(function(){var e=t.getScrollbarSize().width;t.addClass(document.body,n),t.addClass(document.documentElement,n),document.body.style.paddingRight=e+"px"},void 0!==e?e:1)},e.lockScroll.unlock=function(){t.removeClass(document.body,n),t.removeClass(document.documentElement,n),document.body.style.paddingRight="",window.scrollTo(0,this.vscroll)}}(EM=EM||{},PH),function(m){"use strict";window.hj=window.hj||function(){(hj.q=hj.q||[]).push(arguments)};var h={fetchRequest:null,notifications:{},KEY:"campaign_notifications",DATA:{},EXCEPTIONS:[{selector:"#trigger-newsletter-modal",event:"em-trigger-newsletter-modal"},{type:"voucher",event:"em-trigger-voucher-notification"},{selector:"#trigger-gdpr-notification",event:"em-trigger-gdpr-notification"}],addToDataLayer:function(e){dataLayer.push({event:"gaEvent",ec:"tooltip",ea:"".concat(e.type,"_").concat(e.id,"_").concat(e.name),el:"".concat(e.action," ").concat(e.type,"_").concat(e.id,"_").concat(e.name)})},onShowNotificationTracking:function(e){hj("tagRecording",["BO notification open"]),e.action="Display",h.addToDataLayer(e)},onCloseNotificationTracking:function(e,t){t?(hj("tagRecording",["BO notification btn close"]),e.action="Close",h.addToDataLayer(e)):hj("tagRecording",["BO notification nonbtn close"])},disableNotificationForShown:function(e){new Date;h.DATA[e]=1,PH.cookie.set(h.KEY,JSON.stringify(h.DATA),!1,"/",m.cookie_domain)},removeNotificationFromStorage:function(e){Object.keys.length(h.DATA)||h.getStorageData(),delete h.DATA[e],PH.cookie.set(h.KEY,JSON.stringify(h.DATA),!1,"/",m.cookie_domain)},getStorageData:function(){try{h.DATA=JSON.parse(PH.cookie.get(h.KEY))||{}}catch(e){}},displayNotifications:function(e){if(200==e.matching_notifications.code&&e.matching_notifications.data){h.getStorageData();var t,n=e.matching_notifications.data.items.reduce(function(e,t){return e.push(t.id),e},[]);for(t in h.notifications)h.notifications.hasOwnProperty(t)&&-1===n.indexOf(parseInt(t,10))&&h.clearNotification(t);if(PH.hasClass(document.body,"EOSMKP-77682-active")&&("homepage"==m.page_type||m.listingGlobals)){var i=e.matching_notifications.data.items;if(!(i.length<2)){var o=PH.q(".widget-benefits-container");if(o=o?PH.closest(o,".page-section"):PH.q(".js-listing-notification-section")){i='\n                  <section class="page-section">\n                    <div class="container">\n                      <div class="vouchers-carousel" data-phino="Carousel" data-ph-dots="false" data-ph-disable-on-mobile="true" data-ph-handle-resize="true">'.concat(i.map(function(e){return m.TMPL.exec("@Components/Notification/template.html.twig",{class_outer:"ns-box",image:e.image?m.getSize(e.image.resized_images,"78x78"):null,no_close_button:!0,title:e.name,link:{uri:e.link.uri,target:e.link.target,class_name:"",link_name:e.link.name},content:e.content.html})}).join(""),"</div>\n                    </div>\n                  </section>"),i=PH.node(i);return"homepage"==m.page_type?o.parentNode.insertBefore(i,o.nextSibling):o.appendChild(i),void PH.Widget.autoInit(i)}}}e.matching_notifications.data.items.forEach(function(t){if(!h.DATA[t.id]&&!h.notifications[t.id]){var e,n,i=t.notification_type&&t.notification_type.type,o=t.link&&"none"!==t.link.type?t.link:null,a=t.campaign||t.name;if(o&&(e=o.uri,c="",-1!==o.uri.indexOf("#")&&(e=(n=o.uri.split("#"))[0],c="#"+n[1]),n=-1===e.indexOf("?")?"?":"&",e+="".concat(n,"ref=tooltip_").concat(i,"_").concat(encodeURIComponent("".concat(t.id,"_").concat(a))),o.uri=e+c),"viewproduct"==m.page_type&&"voucher"==i){var s=PH.q(".js-product-page-actions");if(s){var r=s.firstElementChild;if(!m.mobile)for(;r&&/^button$/i.test(r.tagName);)r=r.nextElementSibling;var c='<div class="in-page-voucher">\n  <div class="in-page-voucher-title">'.concat(PH.htmlEscape(t.name||""),"</div>\n  <p>").concat(PH.htmlEscape(t.content.text||""),"</p>\n  ").concat(o?'<a class="in-page-voucher-link" href="'.concat(o.uri,'" target="').concat(o.target,'">').concat(o.name,"</a>"):"","\n</div>"),l=PH.node(c);s.insertBefore(l,r);var d=function(e){return h.addToDataLayer({id:t.id,name:a,type:i,action:e})};return d("Display"),PH.onceInViewport(l,function(){return d("Viewport")}),void(o&&/voucher\/add/.test(o.uri)&&PH.on(PH.q(".in-page-voucher-link",l),"click",function(e){PH.stopEvent(e),PH.trigger(m.dispatcher,"em-save-voucher-ajax",{code:o.uri,name:a,id:t.id,type:i,loaderElement:l,removeLoader:!0})}))}}s=PH.q(".js-genius-notifications");if(s){var u=PH.node(m.TMPL.exec("@Components/Genius/Notification/template.html.twig",{title:t.name,link:o,content:t.content.html}));s.appendChild(u)}else{for(var p in h.EXCEPTIONS){p=h.EXCEPTIONS[p];if(p.selector&&t.link&&t.link.uri&&-1!==t.link.uri.indexOf(p.selector)||p.type&&t.link&&"voucher"===t.link.type)return void PH.trigger(m.dispatcher,p.event,t)}s={id:t.id,name:a,type:i},u=1===t.display_type,s={id:t.id,message:u?t.content.text:t.content.html,title:u?t.name:t.name_html,link:o,image:t.image?m.getSize(t.image.resized_images,"78x78"):null,position:"bottom right",ttl:!1,effect:m.notifications_effect||"slide",container:PH.q(m.notifications_container),notification_type:i,trackingName:a,onOpen:h.onShowNotificationTracking.bind(this,s),onClose:h.onCloseNotificationTracking.bind(this,s)};m.ABTest.mobileListingNotificationsInpage&&m.mobile&&(s.title="".concat(t.name),s.message="<p>".concat(PH.nl2br(t.content.text.replace(/\n\s*\n/g,"\n")),"</p>"));u=u?m.NotificationRibbon:m.Notification;h.notifications[t.id]=new u(s)}}})}else h.clearNotifications()},fetchNotifications:function(){if(m.hideNotifications||m.siteModules&&!m.siteModules.matching_notifications||"homepage"==m.page_type&&m.mobile)return!1;h.fetchRequest&&h.fetchRequest.abort(),h.fetchRequest=window.sapi.getAdminNotifications().then(h.displayNotifications).always(function(){h.fetchRequest=null,PH.trigger(m.dispatcher,"em-admin-notifications-displayed")})},clearNotifications:function(){for(var e in h.notifications)h.notifications.hasOwnProperty(e)&&h.clearNotification(e)},clearNotification:function(e){h.notifications[e]&&(h.notifications[e]&&h.notifications[e].remove(),delete h.notifications[e])}};m.AdminNotificationsManager=h,m.headerRibbon&&PH.domReady(function(){h.displayNotifications({matching_notifications:{code:200,data:{items:[m.headerRibbon]}}})})}(EM),function(e){"use strict";var t="clear_local_storage";parseInt(e.cookie.get(t))&&(e.storage.clearExcept([]),e.cookie.set(t,0,-1,"/",EM.cookie_domain||EM.getDomain(window.location.hostname)));t=window.localStorage.getItem("rcaFormTimestamp");t&&+t+2592e5<Date.now()&&(window.localStorage.removeItem("rcaFormTimestamp"),window.localStorage.removeItem("rcaForm"),window.localStorage.removeItem("rcaToken"))}(PH),function(o,a){var s={};o.loadStyle=function(n,i){return new Promise(function(e){if(!i&&a.q('link[href="'.concat(n,'"]')))return e();var t=document.createElement("link");t.href=n,t.rel="stylesheet",document.head.appendChild(t),e()})},o.loadScript=function(i,o){return new Promise(function(e,t){if(!o&&a.q('script[src="'.concat(i,'"]')))return e();var n=document.createElement("script");n.src=i,n.onload=function(){return e()},n.onerror=function(){return t()},document.head.appendChild(n)})},o.loadComponent=function(e,t){var i=Promise.resolve(),n=o.Components[e];return n&&!s[e]&&(s[e]=!0,(n.components||[]).forEach(function(e){var t,n;a.isArray(e)&&(t=e[0],n=e[1]),i=i.then(function(){return o.loadComponent(t||e,n)})})),i=i.then(function(){return function(t,e){if(void 0!==e||o[t])return new Promise(function(e){return e()});if(o.Components[t]){e=[];return o.Components[t].js&&e.push(o.loadScript(o.Components[t].js,!0)),o.Components[t].css&&e.push(o.loadStyle(o.Components[t].css,!0)),Promise.all(e).then(function(e){return o[t]=o[t]||"loaded",e})}return console.log("You must define the component dependencies in EM.Components['".concat(t,'\'] as { js: "..." , css: "..." }')),new Promise(function(e){})}(e,t)}),i=n&&n.wait?i.then(function(){return t=n.wait,new Promise(function(e){return setTimeout(e,t)});var t}):i}}(EM,PH);EM=EM||{};!function(){var e,t,n=EM.locale,i="//".concat(EM.CDN,"/layout"),o=28,a=28,s={},r={showroom:{default:{url:"".concat(i,"/ro/static-upload/icon_showroom_x2.png"),w:42,h:42,zIndex:2},selected:{url:"".concat(i,"/ro/static-upload/icon_showroom_selected_x2.png"),w:38,h:55,anchor:"bottom",offset:[0,-55]},disabled:{url:"".concat(i,"/ro/static-upload/icon_disabled_showroom.png"),w:42,h:42,zIndex:2},preview:{url:"".concat(i,"/ro/static-upload/icon_showroom.svg")}},showroomBg:{default:{url:"".concat(i,"/ro/static-upload/icon_showroom_bg_x2.png"),w:42,h:42,zIndex:2},selected:{url:"".concat(i,"/ro/static-upload/icon_showroom_selected_bg_x2.png"),w:38,h:55,anchor:"bottom",offset:[0,-55]},disabled:{url:"".concat(i,"/ro/static-upload/icon_disabled_showroom.png"),w:42,h:42,zIndex:2},preview:{url:"".concat(i,"/ro/static-upload/icon_showroom.svg")}},post:{default:{url:"".concat(i,"/ro/static-upload/icon_posta_x2.png")},selected:{url:"".concat(i,"/ro/static-upload/icon_posta_selected_x2.png"),w:38,h:55,anchor:"bottom",offset:[0,-55]},disabled:{url:"".concat(i,"/ro/static-upload/icon_disabled_mail.png")},preview:{url:"".concat(i,"/ro/static-upload/icon_posta.svg")}},inpost:{default:{url:"".concat(i,"/ro/static-upload/icon_posta_x2.png")},selected:{url:"".concat(i,"/ro/static-upload/icon_posta_selected_x2.png"),w:38,h:55,anchor:"bottom",offset:[0,-55]},disabled:{url:"".concat(i,"/ro/static-upload/icon_disabled_mail.png")},preview:{url:"".concat(i,"/ro/static-upload/icon_posta.svg")}},inpostPl:{default:{url:"".concat(i,"/ro/static-upload/icon_default_inpost.png")},selected:{url:"".concat(i,"/ro/static-upload/icon_selected_inpost.png"),w:38,h:55,anchor:"bottom",offset:[0,-55]},disabled:{url:"".concat(i,"/ro/static-upload/icon_disabled_inpost.png")},preview:{url:"".concat(i,"/ro/static-upload/icon_easybox_PL.svg")}},pickup:{default:{url:"".concat(i,"/ro/static-upload/icon_pickup_default.png")},selected:{url:"".concat(i,"/ro/static-upload/icon_pickup_selected.png"),w:38,h:55,anchor:"bottom",offset:[0,-55]},disabled:{url:"".concat(i,"/ro/static-upload/icon_pickup_disabled.png")},preview:{url:"".concat(i,"/ro/static-upload/icon_posta_BG.svg")}},locker:{default:{url:"".concat(i,"/ro/static-upload/easybox-green-locker-default.svg"),zIndex:1,w:32,h:32},selected:{url:"".concat(i,"/ro/static-upload/easybox-pin-green.svg"),w:38,h:55,anchor:"bottom",offset:[0,-55]},disabled:{url:"".concat(i,"/ro/static-upload/icon_disabled_easybox.png"),zIndex:1,w:32,h:32},preview:{url:"".concat(i,"/ro/static-upload/easybox-locker-green.svg")}},postpl:{default:{url:"".concat(i,"/ro/static-upload/pl_post_icon_default.png")},selected:{url:"".concat(i,"/ro/static-upload/pl_post_icon_selected.png"),w:38,h:55,anchor:"bottom",offset:[0,-55]},disabled:{url:"".concat(i,"/ro/static-upload/pl_post_icon_disabled.png")}},region:{default:{url:"".concat(i,"/ro/static-upload/marker_locations_x2.png"),w:40,h:40}},geolocation:{default:{url:"".concat(i,"/ro/static-upload/user_location.png"),w:24,h:24}},locker_high_demand:{default:{url:"".concat(i,"/ro/static-upload/easybox-high-demand-locker-default.svg"),zIndex:1,w:32,h:32},selected:{url:"".concat(i,"/ro/static-upload/easybox-pin-high-demand.svg"),w:38,h:55,anchor:"bottom",offset:[0,-55]}}},c={personal:{ro:r.showroom,hu:r.showroom,bg:r.showroomBg,all:r.pickup},"priori-post-office":{ro:r.post,all:r.inpost},"sameday-office-courier":{all:r.locker},"sameday-office-courier-retur":{all:r.locker},"sameday-office-hu-courier":{all:r.locker},"sameday-office-hu-courier-retur":{all:r.locker},inpost:{pl:r.inpostPl,all:r.inpost},"posta-pl-office":{all:r.postpl},"bulgarian-post-office":{all:r.inpost},"rapido-office":{all:r.pickup},"econt-office":{all:r.pickup},"speedy-office":{all:r.pickup},"priori-post-office-retur":{all:r.post},region:{all:r.region},geolocation:{all:r.geolocation},"sameday-office-courier-high-demand":{all:r.locker_high_demand}};for(e in r)for(var l in r[e])r[e][l].w&&r[e][l].h||(r[e][l].w=o,r[e][l].h=a);for(t in c)s[t]=c[t][n]||c[t].all;EM.poiIcons=s}(),(EM=EM||{}).GDPRCookies={STATUS_REFUSED:0,STATUS_ACCEPTED:1,STATUS_LATER:2,STATUS_DISREGARD:3,DISPATCHER_EVENT_ATTACHED:0},PH.live(document,"click",".trigger-accessories-modal",function(e,t){e.preventDefault(),EM.loadComponent("CompatibleAccessoriesModal").then(function(){new EM.CompatibleAccessoriesModal({offerId:PH.getData(t,"offerId"),identifier:PH.getData(t,"docId"),zone:PH.getData(t,"zone"),zoneGrouped:PH.getData(t,"zoneGrouped"),pageSection:PH.closest(t,".page-section")})})}),PH.live(document,"click",".purchased-product-trigger-accessories-modal",function(e,t){e.preventDefault(),EM.loadComponent("CompatibleAccessoriesModal").then(function(){new EM.CompatibleAccessoriesModal({offerId:PH.getData(t,"offerId"),identifier:PH.getData(t,"offerId"),zone:PH.getData(t,"zone"),zoneGrouped:PH.getData(t,"zoneGrouped"),pageSection:PH.closest(t,".modal-content"),source:"modal",productTitle:PH.getData(t,"productTitle"),isFashion:EM.is_fashion||!1})})}),function(){var e=function(){"use strict";function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"applyBrackets",value:function(e,t){e=e.split("=");return"".concat(t,"[").concat(e[0],"]=").concat(e[1])}},{key:"formatParams",value:function(e){var t,n,i,o=1<arguments.length&&void 0!==arguments[1]&&arguments[1],a=[];for(t in e)e.hasOwnProperty(t)&&("object"!=_typeof(e[t])?(n=encodeURIComponent(t),i=encodeURIComponent(e[t]),a.push("".concat(n,"=").concat(i))):a.push(EM.LoggerJsonTracking.formatParams(e[t],t)));return o&&a.forEach(function(e,t){var n=a[t].split("&");1<n.length?a[t]=n.map(function(e){return EM.LoggerJsonTracking.applyBrackets(e,o)}).join("&"):a[t]=EM.LoggerJsonTracking.applyBrackets(a[t],o)}),a.join("&")}},{key:"getLoggerUrlForRequestData",value:function(e){e=(e=EM.LoggerJsonTracking.formatParams(e))?"?".concat(e):"";return"/logger.json".concat(e)}},{key:"send",value:function(){var t,e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];e&&Object.keys(e).length&&((t=new XMLHttpRequest).open("GET",EM.LoggerJsonTracking.getLoggerUrlForRequestData(e),!0),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),"function"==typeof n&&(t.onreadystatechange=function(e){t.readyState===XMLHttpRequest.DONE&&200===t.status&&n()}),t.send())}}]),e}();EM.LoggerJsonTracking=e}(),oldSiteAjax.getSearchTrending=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:EM.old_site_endpoint+"/search-tools/trending",type:"json",method:"get",data:PH.extend({source:"front"},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},oldSiteAjax.tracking={getProductInfo:function(e){return ajax({url:EM.old_site_endpoint+"/datalayer-product-info",method:"POST",data:e})}},oldSiteAjax.getUserBoxFavs=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:"/favourite-products/",type:"json",method:"get",data:PH.extend({source:"front"},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},oldSiteAjax.getUserBoxCart=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:EM.old_site_endpoint+"/shopping/header-cart",type:"json",method:"get",data:PH.extend({act:"load",source:"front"},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},oldSiteAjax.postLoginActions=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:EM.old_site_endpoint+"/user/post-login-action-ajax",type:"json",method:"get",data:PH.extend(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},oldSiteAjax.addToCart=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:e.url,type:"json",method:"post",data:1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},form:e.form})},oldSiteAjax.removeFromCart=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=EM.old_site_endpoint+"/shopping/header-cart?lineId="+(e.line_service||e.line_id)+"&itemId="+(e.line_service?e.line_id:0)+"&uId=0&act=remove&q=0&ref=del-cart&source=front";return ajax({url:t,type:"json",method:"post",data:PH.extend(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},oldSiteAjax.addService=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:EM.old_site_endpoint+"/cart/add-extra-modal?ref="+e.ref,type:"json",method:"post",data:PH.extend({line_id:e.line_id,extra_id:e.extra_id,item_id:e.item_id,type:"service"},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},oldSiteAjax.removeService=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:EM.old_site_endpoint+"/cart/remove-extra-modal?ref="+e.ref,type:"json",method:"post",data:PH.extend({line_id:e.line_id,item_id:e.extra_id},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},sapi.getSiblings=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.offer_id||EM.offer_id;return ajax({url:EM.sapi_endpoint+"/products/"+t+"/siblings",type:"json",method:"get",headers:{"X-Request-Source":"www"},crossOrigin:!0,data:PH.extend({source_id:7},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},sapi.getMegamenuDepartment=function(e){return ajax({url:EM.sapi_endpoint+"/layout/menu/"+e,data:{source_id:7},method:"GET",type:"json",crossOrigin:!0,headers:{"X-Request-Source":"www"}})},sapi.getSearchSuggestions=function(){var e=(e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})||{};return ajax({url:EM.old_site_endpoint+"/search-suggester",type:"json",method:"get",data:PH.extend({source_id:7},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},sapi.getAdminNotifications=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:"/matching-notifications",type:"json",method:"get",headers:{"X-Request-Source":"www"},data:PH.extend({},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},sapi.gdprUpdateStatus=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:"/gdpr/customer-status",type:"json",method:"post",headers:{"X-Request-Source":"www"},data:PH.extend({source_id:7},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},sapi.gdprSaveBirthdate=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:"/user/ajax/saveBirthdate",type:"json",method:"post",headers:{"X-Request-Source":"www"},data:PH.extend({source_id:7},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},sapi.getLocalityByGeoLocation=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ajax({url:EM.sapi_endpoint+"/get-locality-geolocation",method:"GET",type:"json",headers:{"X-Request-Source":"www"},data:PH.extend({source_id:7},e),form:t.form})},sapi.newsletterSubscribeUser=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:"/newsletter-subscribe",type:"json",method:"post",headers:{"X-Request-Source":"www"},crossOrigin:!0,data:PH.extend({source_id:7},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},sapi.newsletterSavePreferences=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:"/newsletter-subscribe-preferences",type:"json",method:"post",headers:{"X-Request-Source":"www"},crossOrigin:!0,data:PH.extend({source_id:7},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},sapi.newsletterSubscribeFromDashboard=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ajax({url:"".concat(EM.sapi_endpoint,"/newsletter/subscription/collection"),type:"json",method:"post",data:PH.merge({},t,{source_id:7,token:EM.user_token}),form:e.form})},sapi.newsletterGetSubscriptionContactTypes=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ajax({url:"".concat(EM.sapi_endpoint,"/newsletter/subscription/collection"),type:"json",method:"get",data:PH.merge({},t,{source_id:7,token:EM.user_token}),form:e.form})},sapi.saveVoucher=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return!!t.id&&ajax({url:t.id,type:"json",method:"post",headers:{"X-Request-Source":"www"},crossOrigin:!0,data:PH.extend({source_id:EM.source_id,token:EM.token},t),form:e.form})},sapi.getCookiePreferencesRenderEsi=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ajax({url:"/gdpr/render-esi-consent"+("number"==typeof EM.gdpr_consent?"/".concat(EM.gdpr_consent):""),method:"get",type:"html",headers:{"X-Request-Source":"www"},data:t,form:e.form})},sapi.postCookiePreferences=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:"/gdpr/cookie-policy",method:"post",type:"json",headers:{"X-Request-Source":"www"},data:PH.extend({source_id:7},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},sapi.addProductToFavorites=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n="/favorites/type/emag/products";return e.ref&&(n=EM.TMPL.filter.addQueryParam(n,"ref",e.ref)),e.searchlog&&EM.listingGlobals&&EM.listingGlobals.searchId&&(n=EM.TMPL.filter.addQueryParam(n,{"X-Search-Position":e.searchlog.position,"X-Search-Page":e.searchlog.page,"X-Type":e.searchlog.type,"X-Section":e.searchlog.section,"X-MB":e.searchlog.is_mb,"X-Product-Id":e.searchlog.selected_product_id,"X-Search-Id":EM.listingGlobals.searchId})),ajax({url:n,method:"POST",type:"json",data:PH.extend({product_ids:[e.product_id]},t),form:e.form})},sapi.removeProductFromFavorites=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n="/favorites/type/emag/products";return e.ref&&(n=EM.TMPL.filter.addQueryParam(n,"ref",e.ref)),ajax({url:n,method:"DELETE",type:"json",data:PH.extend({product_ids:[e.product_id]},t),form:e.form})},sapi.addFavoritesList=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:"/favorites/",method:"POST",type:"json",data:1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},form:e.form})},sapi.editFavoritesList=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ajax({url:"/favorites/".concat(e.list_id),method:"PATCH",type:"json",data:t,form:e.form})},sapi.deleteFavoritesList=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:"/favorites/".concat(e.list_id),method:"DELETE",form:e.form})},sapi.updateFavoriteListPosition=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ajax({url:"/favorites/".concat(e.list_id),method:"PATCH",type:"json",data:t,form:e.form})},sapi.updateFavoriteProductPosition=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ajax({url:"/favorites/".concat(e.list_id,"/products/").concat(e.product_id),method:"PATCH",type:"json",data:t,form:e.form})},sapi.getFavoritesListByUrl=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:e.url,method:"GET",type:"json",data:1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},form:e.form})},sapi.moveProductToAnotherList=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ajax({url:"/favorites/".concat(e.list_id,"/products/move"),method:"PUT",type:"json",data:t,form:e.form})},sapi.viewMoreProducts=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:e.url,method:"GET",data:1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},form:e.form})},sapi.getUserBoxFavs=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:"/favorites/type/emag/products",type:"json",method:"get",data:PH.extend({source:"front"},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},sapi.getFavoritesProductsIds=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:"/favorites/lists/type/emag/product_ids",type:"json",method:"GET",data:PH.extend({source:"front"},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},sapi.getGeniusSavings=function(){return ajax({url:EM.sapi_endpoint+"/genius/savings",method:"get",headers:{"Content-Type":"application/json"},data:{token:EM.token}})},sapi.getGeniusPrice=function(){return ajax({url:EM.sapi_endpoint+"/genius/get-standard-price",type:"json",method:"get",headers:{"X-Request-Source":"www"},data:{source_id:EM.source_id}})},sapi.getLocalitiesWithGenius=function(){return ajax({url:EM.sapi_endpoint+"/genius/get-localities-with-genius",type:"json",method:"get",headers:{"X-Request-Source":"www"},data:{source_id:EM.source_id}})},function(){"use strict";PH.cookie.get("postlogin")&&oldSiteAjax.postLoginActions().then(function(e){if(!e.error)try{window[e.func](e.request)}catch(e){console.log(e)}})}(),function(){var e=function(){"use strict";function n(e,t){_classCallCheck(this,n),EM.siteModules.google_tag_manager&&EM.is_tracking_enabled&&(e?(this.el=e,this.phpSelfData=t||"/recommendationWidgetInViewport",this.scenarioIndex=Number(PH.getData(e,"scenarioIndex")||"0"),this.recid=PH.getData(e,"recommendationId")||"",this.provider=PH.getData(e,"trackingEngine")||"",this.spid=PH.getData(e,"sourceProductId")||"",this.trackingAlias=PH.getData(e,"trackingAlias")||"",this.scenarioId=PH.getData(e,"scenarioId")||"",this.ecommerce={impressions:[]},this.trackWhenInViewport(),this.attachEvents()):console.log("WidgetTracking require a NodeElement as parameter."))}return _createClass(n,[{key:"attachEvents",value:function(){PH.live(this.el,"mousedown",".js-card-item a",this.trackProductClick,this,!0)}},{key:"trackWhenInViewport",value:function(){var e=this;PH.onceInViewport(this.el,function(){e.saveImpressionsData(),e.pushToDataLayer(),e.sendXHRTracking(),e.trackIndividualProducts(),PH.trigger(EM.dispatcher,"PHLoggerDone",e.el)},{rootMargin:"-".concat(200,"px 0px -").concat(200,"px 0px")})}},{key:"trackIndividualProducts",value:function(){if(EM.siteModules.toggle_rec_product_impression_logging){var e=this.trackingAlias;switch(e=PH.hasClass(this.el,"ph-carousel")?"carousel":e){case"carousel":this.el.getAttribute("data-ads")||EM.trackCarousel(this.el);break;case"pac_bundles":EM.WidgetTracking.storeProductImpressions(this.getOfferIdsFromSelectorAndAttributeRequestData());break;case"automated-compare":EM.WidgetTracking.storeProductImpressions(this.getOfferIdsFromSelectorAndAttributeRequestData(".js-card-item[data-offer-id]","data-offer-id"));break;case"test_ads_listing":EM.WidgetTracking.storeProductImpressions(this.getOfferIdsFromSelectorAndAttributeRequestData(".js-card-ads-listing","data-offer-id"))}}}},{key:"getOfferIdsFromSelectorAndAttributeRequestData",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'input[name="product[]"]',t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"value",n="".concat(this.provider,",").concat(this.spid,",").concat(this.getScenarioNameAndPosition(),",").concat(this.recid),e=PH.qs(e,this.el),i=[];return e.forEach(function(e){e=e.getAttribute(t);EM.WidgetTracking.productImpressionsAlreadyLogged[n]||(EM.WidgetTracking.productImpressionsAlreadyLogged[n]=[]),-1===EM.WidgetTracking.productImpressionsAlreadyLogged[n].indexOf(e)&&(EM.WidgetTracking.productImpressionsAlreadyLogged[n].push(e),i.push(e))}),_defineProperty({},n,i.join(","))}},{key:"getScenarioNameAndPosition",value:function(){return"pw_".concat(this.trackingAlias,"_pos_").concat(this.scenarioIndex)}},{key:"trackProductClick",value:function(e,t){var n=this.el,i=PH.closest(t,".js-card-item"),t=PH.getData(i,"offerId"),n=PH.qs(".js-card-item",n).indexOf(i),n=(this.scenarioIndex,{event:"widget_productClick",pageToken:PH.cookie.get("_pdr_view_id")||"not_found",ecommerce:{click:{actionField:{list:this.getScenarioNameAndPosition()},products:[{list:this.getScenarioNameAndPosition(),id:t,name:PH.getData(i,"name")||"",position:n+1}]}}});try{var o=dataLayer.find(function(e){return"viewproduct"===e.pageType});n.previous_category=o.ecommerce.detail.products[0].category}catch(e){}PH.storage.set("TRKListingProductClick-".concat(t),n,"5m")}},{key:"saveImpressionsData",value:function(){for(var e=PH.qs(".js-card-item",this.el),t=0,n=e.length;t<n;t++){var i,o=PH.getData(e[t],"name");o&&(i=PH.getData(e[t],"offerId"),this.ecommerce.impressions.push({name:o,id:i,list:this.getScenarioNameAndPosition(),position:t+1}))}}},{key:"pushToDataLayer",value:function(){dataLayer.push({ecommerce:{impressions:void 0}}),dataLayer.push({event:"widget_impression_tracking",el:this.getScenarioNameAndPosition(),ecommerce:this.ecommerce})}},{key:"sendXHRTracking",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];e||(e={"X-PHP-Self":this.phpSelfData,"X-Scenario-Name-Pos":this.getScenarioNameAndPosition(),recid:this.recid,provider:this.provider,scenario_ID:this.scenarioId},this.spid&&(e.spid=this.spid)),!EM.siteModules.toggle_rec_widget_impression_logging&&-1!==["/recommendationWidgetInViewport","/recommendationWidgetInModalWindow"].indexOf(e["X-PHP-Self"])||EM.LoggerJsonTracking.send(e)}}],[{key:"storeProductImpressions",value:function(){function e(){Object.keys(t).forEach(function(e){EM.WidgetTracking.productImpressionsRequestData.offer_ids[e]?EM.WidgetTracking.productImpressionsRequestData.offer_ids[e]+=","+t[e]:EM.WidgetTracking.productImpressionsRequestData.offer_ids[e]=t[e]})}var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=EM.LoggerJsonTracking.formatParams(t);EM.LoggerJsonTracking.getLoggerUrlForRequestData(EM.WidgetTracking.productImpressionsRequestData).length+n.length>EM.WidgetTracking.PRODUCT_IMPRESSIONS_MAX_REQUEST_LENGTH?EM.LoggerJsonTracking.send(EM.WidgetTracking.productImpressionsRequestData,function(){EM.WidgetTracking.productImpressionsRequestData.offer_ids={},e()}):e()}},{key:"sendProductImpressions",value:function(){Object.keys(EM.WidgetTracking.productImpressionsRequestData.offer_ids).length&&EM.LoggerJsonTracking.send(EM.WidgetTracking.productImpressionsRequestData,function(){return EM.WidgetTracking.productImpressionsRequestData.offer_ids={}})}}]),n}();EM.WidgetTracking=e,EM.WidgetTracking.productImpressionsAlreadyLogged={},EM.WidgetTracking.productImpressionsRequestData={"X-PHP-Self":"/recommendationWidgetProductImpressionsAll","X-Action-UA":"ignore_recommendations_impressions",offer_ids:{}},EM.WidgetTracking.PRODUCT_IMPRESSIONS_MAX_REQUEST_LENGTH=5e3,document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&EM.WidgetTracking.sendProductImpressions()}),window.addEventListener("pagehide",function(e){EM.WidgetTracking.sendProductImpressions()},!1),setInterval(function(){EM.WidgetTracking.sendProductImpressions()},1e4)}(),function(e,t){var n="trk-back-click",i=!0,o=e.storage.get(n,{isSession:!0})||{},a=window.location.pathname;function s(){i=!1,e.storage.set(n,o,null,{isSession:!0})}t.page_type&&t.is_tracking_enabled&&e.storage&&(void 0!==t.listingGlobals?(o.listing&&o.product&&o.listing==a&&dataLayer.push({event:"gaEvent",ec:"Website element click",ea:"Click on back button",el:t.page_type}),e.on(t.dispatcher,"listing_render",function(){a=window.location.pathname,o={listing:a},s()}),o={listing:a},s()):"viewproduct"==t.page_type&&(o.product==a&&(i=!1),o.product||(o.product=a,s())),i&&e.storage.remove(n,{isSession:!0}))}(PH,EM),(EM=EM||{}).pacUtilities={_computeRef:function(e,t,n){e=e||"";return e&&(void 0!==t&&(e="".concat(e,"_").concat(t),void 0!==n&&(e="".concat(e,"_").concat(n+1))),e)}},(EM=EM||{}).AddToCart=function(o,H,D){"use strict";var e={openProduct:function(s,e,t,r){var c,l,d,u,m,g,v,_,y,b,E,w,k,P,C,M,n=D.q(".product-highlights-wrapper"),i=!1,h=!1;(i="main"==t?!0:i)&&n&&(g=D.q(".ew-services",n),v=D.q('input[name="extra_warranty"]',n),_=D.q("form",n),y=D.q("#warranty-service",n),b=D.q("#ew-inpage-text",n),E=D.q("#ew-inpage-price",n),w=D.q("#ew-inpage-oldprice",n),k=D.q("#ew-inpage-discount",n),i=D.q("#ew-inpage",n),P=D.qq(".ew-inpage-no",n),C=P.length,i&&(M=D.q("#ew-inpage-yes",i),y.value.length&&(h=!0,c=D.q("#ew-inpage-text",n).innerHTML,l=D.q("#ew-inpage-price",n).innerHTML,d=D.q("#ew-inpage-oldprice",n).innerHTML,u=D.q("#ew-inpage-discount",n).innerHTML,m=y.value))),s.products_count&&EM.AddToCart.updateCartProducts(s.products_count),r=r||(EM.category_id||(EM.listingGlobals&&EM.listingGlobals.category?EM.listingGlobals.category.id:null));var A=D.hasClass(o.body,"EOSMKP-77675-active")?2:"";EM.loadComponent("AddToCartModalPurchased".concat(A)).then(function(){var p,o,f,n,e,a=this,t=!(EM.user_data&&EM.user_data.genius_membership&&EM.user_data.genius_membership.is_active)&&s.is_genius_eligible&&EM.UserLocation&&EM.UserLocation.getLocation().locality.id;function i(e,n,i){var o,a,s,r,c,l;i.em_cart_initialized||(i.em_cart_initialized=!0,o=D.q(".size-btn span",e),a=D.q("form",e),s=D.q(".card-bought-placeholder",e),r=D.q("input",a),c=D.q("button",a),D.live(n,"click",l=".js-product-characteristics-item",function(e){e.preventDefault();var t=D.q(l+".active",n),e=D.getData(this,"offerId");o.innerHTML=this.innerHTML,D.setData(a,"id",e),r.value=e,D.setData(c,"product",e),t&&D.removeClass(t,"active"),D.toggleClass(this,"active"),D.hasClass(c,"hidden")&&(D.removeClass(c,"hidden"),D.addClass(s,"hidden")),D.hasClass(c,"card-buy-button")||(D.removeClass(c,"js-btn-size-tooltip"),D.addClass(c,"card-buy-button")),i.close()}))}2!=A||t||s.main&&s.main.services||s.main&&s.main.pac&&s.main.pac.pac_all_products||s.donate_offers?(e=EM.TMPL.exec("@Components/AddToCart/ModalPurchased".concat(A,"/modal.html.twig"),{productData:s,categoryId:r,isBlackFriday:EM.is_bf,appData:EM.APP,siteModules:EM.siteModules,showGeniusBanner:t,ewService:{serviceInCart:h,ewInpageText:c,ewInpagePrice:l,ewInpageOldPrice:d,ewInpagePriceDiscount:u,ewWarrantyId:m},associatedServices:EM.associated_services||[]}),(p=new D.Modal({content:e,showHeader:!1,size:"modal-lg",className:"product-purchased-modal"})).on({close:p.destroy.bind(p),destroy:function(){D.qs("[data-phino]",this.element()).forEach(function(e){e=e.PH_Widget;e&&e.destroy()})}}),p.open(),(e=D.q(".product-carousel",p.element()))&&new EM.WidgetTracking(e,"/recommendationWidgetInModalWindow"),D.trigger(EM.dispatcher,"AddToCartModalPurchasedLoaded",{modal:p}),s.main&&s.main.services&&(o=function(e){return{line_id:D.getData(e,"lineId"),extra_id:D.getData(e,"extraId"),item_id:D.getData(e,"mainId")}},f=function(e,t){var n=D.closest(e,".extra-service-line");D.condClass(n,t,"active"),e.checked=t},n=function(u){var p=D.closest(u,".service-modal-container"),m=D.q(".service-modal",p);D.addLoaderTo(p);var t,h=o(u);function n(){var t=D.q(".delete-service-modal",p),n=D.q(".service-name-modal",t),i=D.q(".service-price-modal",t),e=D.q(".remove-service-button",t),o=D.q(".js-service-price-old",t),a=D.q(".js-service-price-discount",t),s=D.getData(u,"serviceName"),r=D.getData(u,"price"),c=D.getData(u,"oldPrice"),l=D.getData(u,"oldPriceDiscount");if(D.setData(e,"lineId",h.line_id),D.setData(e,"extraId",h.extra_id),D.setData(e,"mainId",h.item_id),g&&("929116"==h.extra_id||"929118"==h.extra_id)){b.innerHTML="<strong>"+s+":</strong>",E.innerHTML=EM.moneyFormat(r),void 0!==c&&(w.innerHTML="<s>"+EM.moneyFormat(c)+"</s>",k.innerHTML="(-"+l+"%)"),v.value=1,y.value=h.extra_id,_.action=EM.AddToCart.getActionWithParam(_.action,"extra_warranty",1),D.show(M);for(var d=0;d<C;d++)D.addClass(P[d],"hide")}oldSiteAjax.addService(h).then(function(e){2!=A&&D.addClass(m,"hidden"),r<c&&(o.innerHTML="<s>"+EM.moneyFormat(c)+"</s>",a.innerHTML="(-"+l+"%)"),n.innerHTML="<strong>"+s+":</strong>",i.innerHTML=EM.moneyFormat(r),D.removeClass(t,"hidden"),D.removeLoaderFrom(p),"datalayer"in e&&EM.DatalayerManager.handleGeneralEvent(e.datalayer)}).fail(function(){D.removeLoaderFrom(p),EM.showFailNotification(),2==A&&f(u,!1)})}h.ref="add-to-cart-module_add-warranty_p-"+h.line_id+"_s-"+h.extra_id,2==A?(f(u,u.checked),u.checked?(t=0,D.qs('input[name="product-service-radio"]:checked',m).forEach(function(e){e!==u&&(f(e,!1),t++,oldSiteAjax.removeService(_objectSpread(_objectSpread({},o(e)),{},{ref:h.ref})).always(function(){--t||n()}))}),t||n()):oldSiteAjax.removeService(h).always(function(){return D.removeLoaderFrom(p)})):n()},2==A?D.live(p.element(),"click",".extra-service-line",function(e){D.stopEvent(e);e=D.q(".js-add-service-radio",this);e.checked=!e.checked,n(e)}):D.live(p.element(),"click",".js-add-service-radio",function(i){var e,t;null!=i&&i.target&&D.getData(i.target,"isCasco")&&null!=s&&null!==(e=s.main)&&void 0!==e&&null!==(t=e.services[2])&&void 0!==t&&t.services?(i.preventDefault(),EM.loadComponent("EasyCare").then(function(){var e=new EM.EasyCare(x(s.main.services[2].services),i.target,"atc_modal");e.setOfferId(D.getData(i.target,"mainId")),e.open(i),D.on(EM.dispatcher,"EasyCareSelected",function(e){var t,n;"atc_modal"==e.data.pageType&&e.data.hasRedirect&&(t=D.getData(i.target,"lineId"),n=D.getData(e.data.data,"service")||D.getData(e.data.data,"extraId"),e=D.getData(i.target,"mainId"),oldSiteAjax.addService({line_id:t,extra_id:n,item_id:e,type:"service",form:p.element(),ref:"add-to-cart-module_add-warranty_p-".concat(t,"_s-").concat(n)}).then(function(){H.location="/cart/products"}))})})):n(i.target)}),D.live(p.element(),"click",".delete-casco-service-modal",function(e){var t=e.target,n=D.closest(t,".casco-service-table"),e=D.q(".service-modal",n),i=D.qq(".services-upsell-modal .service-modal",a);D.addLoaderTo(e);t=o(t);t.ref="add-to-cart-module_delete-warranty_p-"+t.line_id+"_s-"+t.extra_id,oldSiteAjax.removeService(t).then(function(){D.addClass(n,"hidden"),i.forEach(function(e){e.classList.remove("hidden")})})}),D.live(p.element(),"click",".remove-service-button",function(){var s=this,r=D.closest(this,".service-modal-container"),c=D.q(".service-modal",r),l=D.closest(this,".delete-service-modal"),d=D.qq("input",r);D.addLoaderTo(r);var u=o(this);u.ref="add-to-cart-module_delete-warranty_p-"+u.line_id+"_s-"+u.extra_id,oldSiteAjax.removeService(u).then(function(e){for(var t,n,i,o=0,a=d.length;o<a;o++)d[o].checked&&(d[o].checked=!1);!g||"function"!=typeof EM.deleteWarranty||"929116"!=u.extra_id&&"929118"!=u.extra_id||EM.deleteWarranty(),D.removeClass(c,"hidden"),D.addClass(l,"hidden"),s&&D.getData(s,"isCasco")&&(t=D.q(".casco-service-table",p.element()),n=D.q(".services-upsell-modal.visible-xs .delete-service-modal.is-casco",p.element()),i=D.q(".services-upsell-modal.hidden-xs .modal-body.extra-service-id-2 .service-modal",p.element()),n&&D.addClass(n,"hidden"),t&&D.addClass(t,"hidden"),i&&D.removeClass(i,"hidden")),D.removeLoaderFrom(r),"datalayer"in e&&EM.DatalayerManager.handleGeneralEvent(e.datalayer)})})),s.main&&s.main.pac&&s.main.pac.pac_all_products&&s.main.pac.pac_all_products.product_collection.length&&dataLayer.push({event:"gaEvent",ec:"Product Page Buttons",ea:"Display widget accessories",el:void 0}),D.qs(".size-btn",p.element()).forEach(function(e){D.on(e,"click",function(e){e.preventDefault(),i(D.closest(this,".card"),D.q("."+this.id),this.PH_Widget)})}),D.live(p.element(),"click",".js-btn-size-tooltip",function(e){e.preventDefault();var t=D.closest(this,".card"),e=D.q(".size-btn",t);e.PH_Widget.open(),i(t,D.q("."+e.id),e.PH_Widget)}),D.live(p.element(),"change",".js-associated-service-radio",function(e,t){var n=D.closest(t,".js-input-col"),i=D.closest(n,".js-associated-services-panel"),o=t.getAttribute("data-offer-id");t.checked&&oldSiteAjax.addToCart({url:"/newaddtocart?source=front",form:i},{product:[o]}).then(function(e){EM.AddToCart.toggleAssociatedServicesLineId(o,e.lineId,!0),n.innerHTML=EM.TMPL.exec("@Components/AddToCart/ModalAssociatedServices/single-service-added.html.twig",{offerId:o,lineId:e.lineId,price:t.getAttribute("data-price")}),EM.AddToCart.toggleMainFormAssociatedServiceChk(_,o,e.lineId,!0),D.trigger(EM.dispatcher,"NavbarDropdowns",{type:"refresh-cart"})}).fail(function(e){t.checked=!t.checked,EM.showFailNotification()})}),D.live(p.element(),"click",".js-remove-associated-service",function(e,t){var n,i,o,a=t.getAttribute("data-line-id");a&&(n=t.getAttribute("data-offer-id"),i=D.closest(t,".js-input-col"),o=D.closest(i,".js-associated-services-panel"),oldSiteAjax.removeFromCart({line_id:a,form:o}).then(function(e){EM.AddToCart.toggleAssociatedServicesLineId(n,a,!1),i.innerHTML=EM.TMPL.exec("@Components/AddToCart/ModalAssociatedServices/single-service-view.html.twig",{offerId:n,price:t.getAttribute("data-price")}),EM.AddToCart.toggleMainFormAssociatedServiceChk(_,n,a,!1),D.trigger(EM.dispatcher,"NavbarDropdowns",{type:"refresh-cart"})}).fail(EM.showFailNotification))}),(e=D.q(".product-carousel-modal",p.element()))&&new D.Carousel({from:e,handleResize:!0,arrows:!0,dots:!1,classes:{next:"gtm_0cj7o4",previous:"gtm_5kkepl",dot:""},disableOnMobile:!0}).on("move",function(){D.qs('[data-phino="Dropdown"]',this.element()).forEach(function(e){e.PH_Widget.close()})}),EM.initFavorites(),s.donate_offers&&(D.live(p.element(),"click",".js-donate-option",function(){var e=D.closest(this,".donations-modal-container"),t=D.q(".donations-add-container",e),n=D.q(".donations-remove-container",e),i=D.q(".remove-donation-button",n),o=D.q(".remove-donation-value",n),a=this.value,s=D.getData(this,"price");D.addLoaderTo(t);e={"product[]":a,ref:"add-to-cart-module_donation"};D.setData(i,"product",a),oldSiteAjax.addToCart({url:EM.old_site_endpoint+"/newaddtocart?source=front"},e).then(function(e){D.addClass(t,"hidden"),o.innerHTML=EM.moneyFormat(s),D.setData(i,"lineId",e.lineId),D.removeClass(n,"hidden"),D.removeLoaderFrom(t),e.datalayer=e.datalayer||{},e.datalayer.el=EM.page_type,e.datalayer.ec="Website buy from modal",e.datalayer.ea="Click on donate option",dataLayer.push(e.datalayer)}).fail(function(){D.removeLoaderFrom(t),EM.showFailNotification()})}),D.live(p.element(),"click",".remove-donation-button",function(){var i=D.closest(this,".donations-modal-container"),o=D.q(".donations-add-container",i),a=D.q(".donations-remove-container",i),s=D.qq("input",o);D.addLoaderTo(i);var e={line_id:D.getData(this,"lineId"),ref:"add-to-cart-module_donation_remove"};oldSiteAjax.removeFromCart(e).then(function(e){for(var t=0,n=s.length;t<n;t++)s[t].checked&&(s[t].checked=!1);D.removeClass(o,"hidden"),D.addClass(a,"hidden"),D.removeLoaderFrom(i)})})),t&&sapi.getLocalitiesWithGenius().then(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e.data&&e.data.localities&&e.data.localities.some(function(e){return e.id==EM.UserLocation.getLocation().locality.id})&&(D.removeClass(D.q(".genius-upsell-container",p.element()),"hidden"),dataLayer.push({event:"gaEvent",ec:"website_sandbox_events",ea:"Add to Cart modal Genius",el:"view Genius up-sell"}),D.live(p.element(),"submit",".js-buy-genius",function(e,t){D.stopEvent(e);var n=D.closest(t,".genius-upsell-container"),i=D.q(".js-gu-container",n),e=D.q(".js-gu-add-container",n),o=D.q(".js-gu-remove-container",n),a=D.q(".js-remove-genius",o),t=D.q("input",e).value;D.addLoaderTo(n);e={"product[]":t};D.setData(a,"product",t),oldSiteAjax.addToCart({url:"".concat(EM.old_site_endpoint,"/newaddtocart?source=front&ref=atc-modal_buy-genius")},e).then(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};D.addClass(i,"hidden"),e.lineId&&D.setData(a,"lineId",e.lineId),D.removeClass(o,"hidden"),D.removeLoaderFrom(n),dataLayer.push({event:"gaEvent",ec:"website_sandbox_events",ea:"Add to Cart modal Genius",el:"click Genius up-sell"})}).fail(function(){D.removeLoaderFrom(n),EM.showFailNotification()})}),D.live(p.element(),"click",".js-remove-genius",function(e,t){D.stopEvent(e);var n=D.closest(t,".genius-upsell-container"),i=D.q(".js-gu-container",n),o=(D.q(".js-gu-add-container",n),D.q(".js-gu-remove-container",n));D.addLoaderTo(n);t={line_id:D.getData(t,"lineId"),ref:"add-to-cart-module_donation_remove"};dataLayer.push({event:"gaEvent",ec:"website_sandbox_events",ea:"Add to Cart modal Genius",el:"remove Genius up-sell"}),oldSiteAjax.removeFromCart(t).then(function(e){D.removeClass(i,"hidden"),D.addClass(o,"hidden"),D.removeLoaderFrom(n)}).fail(function(){D.removeLoaderFrom(n),EM.showFailNotification()})}))})):new EM.Notification({message:s.title,position:"top right",effect:"slide",type:"success"})})},cardProduct:function(n){var i=this,o="ca-buy-button"==n?D.closest(i,".panel-body"):D.closest(i,".card"),e=D.q("form",o),a=D.q(".card-bought-placeholder",o);D.addLoaderTo(o);var t=D.serializeFormElements(e),e={url:e.action};oldSiteAjax.addToCart(e,t).then(function(e){var t;D.removeLoaderFrom(o),D.addLoaderTo(o,"postloader"),setTimeout(function(){D.removeLoaderFrom(o,"postloader")},1e3),D.addClass(i,"hidden"),D.removeClass(a,"hidden"),"cp-buy-button"==n?(t=D.getData(i,"product"),EM.AddToCart.openProduct(e,t)):new EM.Notification({message:EM.TMPL.exec("@Components/NavbarDropdowns/templates/my-cart-added.html.twig",{}),position:"top right",ttl:2e3,effect:"slide"}),e.products_count&&EM.AddToCart.updateCartProducts(e.products_count),"datalayer"in e&&((t=function(e){var t=D.closest(e,".js-recommendation-carousel");if(t){e=D.getData(t,"scenario"),t=D.getData(t,"scenarioIndex")||"notdefined";return"pw_".concat(e,"_pos_").concat(t)}}(i))&&(e.datalayer.widget=t),EM.DatalayerManager.handleGeneralEvent(e.datalayer))})},openNotification:function(e){new EM.Notification({message:EM.TMPL.exec("@Components/NavbarDropdowns/templates/my-cart-added.html.twig",{}),position:"top right",ttl:2e3,effect:"slide"}),e&&e.products_count&&EM.AddToCart.updateCartProducts(e.products_count)},updateCartProducts:function(e){var t=D.q("#my_cart .jewel");t&&(D.hasClass(t,"hidden")&&D.removeClass(t,"hidden"),t.innerHTML=e),EM.updateDrop&&(EM.updateDrop.cart=!0)},getActionWithParam:function(e,t,n){var i=e,e=new RegExp("(?:\\?|&)("+t+"=[^&]*)(?=&|$)").exec(i),n=t+"="+n;return i=e&&1<e.length?i.replace(e[1],n):(-1!==i.indexOf(e="?")&&(e="&"),i+e+n)},submit:function(e){var t=D.serializeFormElements(e),e={url:e.action,form:e};return oldSiteAjax.addToCart(e,t).then(function(e){return new EM.Notification({message:EM.TMPL.exec("@Components/NavbarDropdowns/templates/my-cart-added.html.twig",{}),position:"top right",ttl:2e3,effect:"slide"}),e.products_count&&EM.AddToCart.updateCartProducts(e.products_count),e.datalayer&&EM.DatalayerManager.handleGeneralEvent(e.datalayer),e})},toggleAssociatedServicesLineId:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(EM.associated_services&&EM.associated_services.length)for(var i=0,o=EM.associated_services.length;i<o;i++)if(!n&&EM.associated_services[i].cartLineId&&EM.associated_services[i].cartLineId==t&&delete EM.associated_services[i].cartLineId,n&&EM.associated_services[i].offer.id==e){EM.associated_services[i].cartLineId=t;break}},toggleMainFormAssociatedServiceChk:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",i=3<arguments.length&&void 0!==arguments[3]&&arguments[3];e&&((t=(t=D.q('.js-associated-services-chk[data-offer-id="'.concat(t,'"]'),e))||D.q('.js-associated-services-chk[data-cart-line-id="'.concat(n,'"]'),e))&&(t.removeAttribute("data-cart-line-id"),(t.checked=i)&&t.setAttribute("data-cart-line-id",n)),EM.AddToCart.toggleAssociatedServicesLineId(0,n,!1))}},x=function(e){var t,n=[];for(t in e){var i=e[t],i={id:t,name:i.service_name,line_id:i,price:{current:i.priceWithVat,initial:0<i.discountPercent?i.oldPriceWithVat:null,discount:{percent:i.discountPercent}}};n.push(i)}return n};return e}(document,window,PH),EM.scrollBreadcrumbToMax=function(e,t){"use strict";function n(){var e=t.q(".breadcrumb-inner");e&&t.scrollLeftToMax(e)}return e.addEventListener("load",n),n}((document,window),PH),function(){"use strict";EM.initScenarioIndex=function(){PH.qs(".js-recommendation-carousel:not([data-live-purchases])").filter(function(e){return!PH.getData(e,"campaign")}).forEach(function(e,t){PH.getData(e,"scenarioIndex")||PH.setData(e,"scenarioIndex",t+1)})},EM.initScenarioIndex()}(),function(n,i){"use strict";var e=n.qs(".page-skin-outer");i.addEventListener("DOMContentLoaded",function(){e.forEach(function(e){var t;e&&e.classList.contains("skin-active")&&(i.innerWidth<n.globals.viewportBreakpoints.sm&&!e.classList.contains("skin-mobile")||(t=n.q(".page-skin-element",e),(e=n.getData(t,"background"))&&(t.style.backgroundImage="url('"+e+"')",t.removeAttribute("data-background"),t.classList.add("skin-bkg-loaded"))))})})}(PH,window),function(p){var e,t,n,i,o,s,m;p&&(o="deliveryData",s=function(e){window.dataLayer&&dataLayer.push({event:"gaEvent",ec:"Location - Browser Detection",ea:e,el:p.page_type||"not set"})},-1<[(m={type:{ip:"ip2location",geo:"geolocation",user:"user_selection",user_address:"user_address",user_favorite:"user_favorite"},init:function(){m.getLocation().locality.id||m.getLocationByIp(),m.GLPerm.state||m.GLPerm.init()},GLPerm:{init:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:PH.noop;try{m.GLPerm.promise=navigator.permissions.query({name:"geolocation"}).then(function(e){m.GLPerm.promise=null,m.GLPerm.update(e.state),e.onchange=function(){m.GLPerm.isPrompt()&&s("Permission ".concat(this.state)),m.GLPerm.update(this.state)},t()})}catch(e){m.GLPerm.state="denied",t()}},waitForState:function(e,t){e=e||PH.noop,m.GLPerm.promise?m.GLPerm.promise.then(function(){return e(t)}):e(t)},update:function(e){m.GLPerm.state=e,PH.trigger(p.dispatcher,"GLPermUpdated")},isPrompt:function(){return"prompt"==m.GLPerm.state},isAvailable:function(){return"denied"!=m.GLPerm.state},hasAccess:function(){return"granted"==m.GLPerm.state}},getGeoLocation:function(a,t,n){a=a||PH.noop,t=t||PH.noop;try{m.GLPerm.isPrompt()&&s("Permission request"),navigator.geolocation.getCurrentPosition(function(e){var e=e.coords,i=e.latitude,o=e.longitude;e.accuracy;sapi.getLocalityByGeoLocation({latitude:i,longitude:o},{form:n}).then(function(e){s("Geoloc sapi req");var t,n=e.data;m.getLocation().type!=m.type.user&&n.locality.id&&n.locality.name&&(e=(t=n.locality.name.split(", "))[0],t=t[1]||e,e={region:n.region,locality:{id:n.locality.id,main_loc:t,sub_loc:e},latitude:i,longitude:o,type:m.type.geo},m.setLocation(e)),a(n)})},t,{enableHighAccuracy:!0})}catch(e){t()}},getGeoLocationPosition:function(n,t,e){n=n||PH.noop,t=t||PH.noop;try{navigator.geolocation.getCurrentPosition(function(e){var t=e.coords;t.latitude,t.longitude,t.accuracy;n(e.coords)},t,{enableHighAccuracy:!0})}catch(e){t()}},getLocation:function(){var e;try{e=JSON.parse(localStorage.getItem(o))}catch(e){}return(e=e||{}).region=e.region||{},e.locality=e.locality||{},e.point=e.point||{},e},setLocation:function(e,t){try{var n=e||{};n.region=e.region||{},n.locality=e.locality||{},n.point=e.point||{},e.type?n.type=e.type:n.type=m.getLocation().type||m.type.ip,localStorage.setItem(o,JSON.stringify(n)),PH.trigger(p.dispatcher,"PHSetUserLocation"),PH.cookie.set("delivery_locality_id",n.locality.id||"",null,"/",p.cookie_domain||p.getDomain(window.location.hostname))}catch(e){}},getLocationByIp:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:PH.noop;try{function t(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").replace(")","").split(" ("),t=e[0];return{locality:t,region:e[1]||t}}var n,i,o,a,s,r,c,l={},d=null!==(n=p.city_data)&&void 0!==n&&null!==(i=n.locality)&&void 0!==i&&i.id?p.city_data:null===(o=p.city_data)||void 0===o?void 0:o.location_data;l=null!==(a=d.locality)&&void 0!==a&&a.id&&null!==(s=d.region)&&void 0!==s&&s.id?(r=t(d.locality.name),{region:d.region,locality:{id:d.locality.id,main_loc:r.region,sub_loc:r.locality},type:d.is_favorite?m.type.user_favorite:m.type.user_address}):(c=t(d.region_name),{region:{id:d.region_id,name:c.region},locality:{id:d.id,main_loc:c.locality,sub_loc:c.region},type:m.type.ip});var u=_objectSpread({type:m.type.ip},l);m.setLocation(u)}catch(e){}e()},getCurrentLocation:function(){return m.getLocation().locality.id||m.getLocationByIp(),m.getLocation()}}).type.ip,m.type.user_address,m.type.user_favorite].indexOf(m.getLocation().type)&&null!==(e=p.city_data)&&void 0!==e&&null!==(t=e.region)&&void 0!==t&&t.id&&null!==(n=p.city_data)&&void 0!==n&&null!==(i=n.locality)&&void 0!==i&&i.id&&m.getLocationByIp(),p.UserLocation=m)}(EM),function(e){"use strict";e&&e.user_data&&e.user_data.id&&!(e.user_data&&e.user_data.genius_membership&&e.user_data.genius_membership.is_active)&&PH&&!PH.cookie.get("webview")&&e.siteModules&&e.siteModules.Genius_Savings_Modal&&(["asigurari-rca","user_return","user_return_history","asigurari_calatorie_new","/user/service_form","/contact-form"].includes(e.page_type||e.pageType||location.pathname)||e.loadComponent("GeniusSavingsModal").then(function(){new e.GeniusSavingsModal(e.user_data)}))}(EM),function(a){"use strict";PH.live(document,"click",".js-share-btn",function(e){var t,n,i,o;e.preventDefault(),t=this.href,n="560",i="600",o=screen.width/2-n/2,e=screen.height/2-i/2,a.open(t,"newwindow","menubar=no, width="+n+", height="+i+", top="+e+", left="+o)})}(window),PH.on(EM.dispatcher,"AddToFavorites",function(e){if(e.data)switch(e.data.type){case"beforeAdd":PH.trigger(EM.dispatcher,"OneSignal","show");break;case"afterAdd":PH.trigger(EM.dispatcher,"NavbarDropdowns",{type:"add-to-favorites",response:e.data.response});break;case"afterRemove":PH.trigger(EM.dispatcher,"NavbarDropdowns",{type:"remove-from-favorites",response:e.data.response})}});var SearchBoxCache=function(){"use strict";function e(){_classCallCheck(this,e),this.cache=[]}return _createClass(e,[{key:"get",value:function(e){for(var t=-1,n=null,i=0,o=this.cache.length;i<o;i++)if(this.cache[i].query===e){t=i;break}return-1!==t&&(n=this.cache.splice(t,1)[0],this.cache.push(n),n=n.suggestions),n}},{key:"add",value:function(e,t){this.cache.push({query:e,suggestions:t}),this.cache.length>PH.globals.searchBox.suggestionsCacheLength&&this.cache.shift()}}]),e}(),SearchHistory=function(){"use strict";function e(){_classCallCheck(this,e),this.history=[]}return _createClass(e,[{key:"add",value:function(e){var t=this.history.indexOf(e);-1!==t&&this.history.splice(t,1),this.history.unshift(e),this.history.length>PH.globals.searchBox.historyLength&&this.history.pop(),this.save()}},{key:"fetch",value:function(){if("localStorage"in window)try{this.history=JSON.parse(window.localStorage.getItem("searchHistory"))||[]}catch(e){return this.history=[],console.error("Failed fetching history"),void console.error(e)}}},{key:"save",value:function(){"localStorage"in window&&window.localStorage.setItem("searchHistory",JSON.stringify(this.history))}}]),e}();!function(){var n=window.innerWidth<PH.globals.viewportBreakpoints.sm,i="ontouchstart"in document.documentElement&&n,a="opensearch",e=function(){"use strict";function o(e,t){return _classCallCheck(this,o),this.searchHistory=new SearchHistory,this.searchBoxCache=new SearchBoxCache,this.hasContent=!1,this.lastQuery=null,this.lastSuggestionRequest=null,this.elements={container:e,input:PH.q(".searchbox-input .js-searchbox-input",e),suggestionInput:PH.q(".searchbox-input .js-searchbox-suggestion-input",e),submitButton:PH.q(".searchbox-submit-button",e),close:PH.q(".searchbox-close",e),dropdown:PH.q(".searchbox-dropdown",e)},this.elements.suggestionsContainer=PH.q(".searchbox-suggestions-container",this.elements.dropdown),this.elements.initialContent=PH.q(".searchbox-initial-content",this.elements.dropdown),this.initOptions(t),this.activeItems=[],this.currentActiveItem=null,this.autocompleteDone=!1,this.addEventListeners(),this.blur=this.blur.bind(this),this.handleKeys=this.handleKeys.bind(this),this.handleHash=this.handleHash.bind(this),this.openedByClick=!1,this.isOpen=!1,-1<window.location.hash.indexOf("#"+a)&&this.open(),this}return _createClass(o,[{key:"initOptions",value:function(e){this.options=PH.merge({modules:{suggestions:!1,trending:!1}},e),this.options.category=PH.getData(this.elements.container,"category")}},{key:"initContent",value:function(){var t=this;if((EM.siteModules.search_suggest||EM.siteModules.trending_searches)&&!this.hasContent){if(this.searchHistory.fetch(),this.searchHistory.history.length){var e=EM.TMPL.exec("@Components/SearchBox/templates/history.html.twig",{history:this.searchHistory.history});this.elements.initialContent.innerHTML=e}else{if(!EM.siteModules.trending_searches)return;e={};this.options.category&&(e.category=this.options.category),oldSiteAjax.getSearchTrending({},e).then(function(e){e=EM.TMPL.exec("@Components/SearchBox/templates/trending.html.twig",{trending:e.data,category:e.department});t.elements.initialContent.innerHTML=e})}this.hasContent=!0}}},{key:"populateSuggestions",value:function(e,t,n,i,o){PH.empty(this.elements.suggestionsContainer);var a=PH.cookie.get("eab216"),a=EM.TMPL.exec("@Components/SearchBox/templates/suggestions.html.twig",{query:e,items:t,resealed_query:i,black_friday_query:o,categories:n&&n.length?n:null,locale:EM.locale,highlight_keywords:"b"!==a,currentUrl:EM.current_url});this.elements.suggestionsContainer.innerHTML=a}},{key:"fetchSuggestions",value:function(t,n){var i=this;n=n||{};var e=this.searchBoxCache.get(t);if(e)n.success(e);else{if(this.lastSuggestionRequest){if(t===this.lastSuggestionRequest.query)return;this.lastSuggestionRequest.requestRef.request.abort(),delete this.lastSuggestionRequest}this.showSection("loading"),this.lastSuggestionRequest={query:t},this.lastSuggestionRequest.requestRef=sapi.getSearchSuggestions(null,{query:o.formatQuery(t),shop_id:1}).then(function(e){n.success(e),i.searchBoxCache.add(t,e)}).fail(n.fail).always(function(){i.lastSuggestionRequest=null})}}},{key:"open",value:function(){!this.isOpen&&this.shouldShowBox()&&(this.initContent(),this.elements.container.classList.add("searchbox-dropdown-open"),this.isOpen=!0,this.currentActiveItem=null,"onShow"in this.options&&"function"==typeof this.options.onShow&&this.options.onShow(),(i||n)&&EM.lockScroll.lock(100),this.changeContents(),i||window.addEventListener("scroll",this.blur),window.addEventListener("keyup",this.handleKeys),window.location.hash=a,window.addEventListener("hashchange",this.handleHash),PH.trigger(EM.dispatcher,"phSearchBoxOpen"))}},{key:"changeContents",value:function(){var t=this;(EM.siteModules.search_suggest||EM.siteModules.trending_searches)&&(this.updateSuggestionInput(),this.hasValidQuery()&&EM.siteModules.search_suggest?(this.currentActiveItem=null,this.lastQuery=this.elements.input.value,this.fetchSuggestions(this.elements.input.value,{success:function(e){e.data?(t.showSuggestionsView(t.elements.input.value,e.data.queries,e.data.categories,e.data.resealed_query,e.data.black_friday_query),t.elements.container.classList.add("searchbox-has-query")):t.showSection("error")},fail:function(){t.showSection("error")}})):(this.showSection("initial"),this.initActiveItems()))}},{key:"blur",value:function(){this.elements.input.blur()}},{key:"close",value:function(e){this.isOpen=!1,this.elements.container.classList.remove("searchbox-dropdown-open"),"onHide"in this.options&&"function"==typeof this.options.onHide&&this.options.onHide(),this.openedByClick&&"onClickHide"in this.options&&"function"==typeof this.options.onClickHide&&this.options.onClickHide(),(i||n)&&EM.lockScroll.unlock(),this.openedByClick=!1,window.removeEventListener("scroll",this.blur),window.removeEventListener("keyup",this.handleKeys),window.removeEventListener("hashchange",this.handleHash),window.location.hash=="#"+a&&history.replaceState({},"",window.location.href.replace(/#.*$/,""))}},{key:"showSection",value:function(e){-1===["suggestions","initial","error","loading"].indexOf(e)&&(e="error");var t=PH.q(".searchbox-active",this.elements.dropdown);t&&t.getAttribute("data-section")!==e&&t.classList.remove("searchbox-active"),PH.q(".searchbox-section[data-section="+e+"]",this.elements.dropdown).classList.add("searchbox-active")}},{key:"initActiveItems",value:function(){this.activeItems=PH.qq(".searchbox-section.searchbox-active .searchbox-active-item",this.elements.container),this.activeItems||(this.currentActiveItem=null)}},{key:"addEventListeners",value:function(){var t=this;this.elements.input.addEventListener(i?"touchstart":"focus",function(){(i||n||EM.siteModules.trending_searches)&&t.open()},{passive:!0}),this.elements.input.addEventListener("blur",function(){window.setTimeout(function(){n||t.hasFocus()||t.close()},150)}),document.addEventListener("click",function(e){PH.matches(e.target,".searchbox-suggestions-list .searchbox-autocomplete")||PH.matches(e.target,".searchbox-suggestions-list .searchbox-autocomplete .em-go-up")?(t.elements.input.value=PH.q(".searchbox-suggestion-title",PH.closest(e.target,"li")).textContent.replace(/\s{2,}/," ").trim(),t.changeContents()):PH.closest(e.target,".searchbox-trigger")?(t.openedByClick=!0,"onClickShow"in t.options&&"function"==typeof t.options.onClickShow&&t.options.onClickShow(),PH.trigger(t.elements.input,i?"touchstart":"focus"),EM.focusAtEnd(t.elements.input)):n||PH.closest(e.target,".searchbox-dropdown")||e.target===t.elements.dropdown||window.setTimeout(function(){t.hasFocus()&&!e.target.classList.contains("searchbox-backdrop")||t.close()},100)},!0),this.elements.input.addEventListener("keyup",function(e){"Escape"!==e.key&&27!==e.keyCode&&"ArrowDown"!==e.key&&"ArrowUp"!==e.key&&40!=e.keyCode&&38!=e.keyCode&&"Enter"!==e.key&&13!=e.keyCode&&(EM.siteModules.search_suggest&&t.open(),!EM.siteModules.search_suggest&&EM.siteModules.trending_searches&&(!t.isOpen||i||n||t.close()),1<=t.elements.input.value.length?t.elements.container.classList.add("searchbox-has-query"):t.elements.container.classList.remove("searchbox-has-query"),t.changeContents())}),this.elements.close.addEventListener("click",function(e){e.preventDefault(),t.clearAndClose()}),this.elements.submitButton.addEventListener("click",function(e){e.preventDefault(),t.hasValidSubmitQuery()&&t.submit()}),this.elements.dropdown.addEventListener("mouseout",function(){t.currentActiveItem&&(t.activeItems[t.currentActiveItem].classList.remove("active"),t.currentActiveItem=null)}),this.elements.input.addEventListener("keydown",function(e){("key"in e&&"Tab"===e.key||"keyCode"in e&&9==e.keyCode)&&!t.autocompleteDone&&e.preventDefault(),("key"in e&&("ArrowDown"===e.key||"ArrowUp"===e.key)||"keyCode"in e&&(40==e.keyCode||38==e.keyCode))&&e.preventDefault()}),this.elements.input.addEventListener("keydown",function(e){("key"in e&&"Enter"===e.key||"keyCode"in e&&13==e.keyCode)&&(e.preventDefault(),e.stopPropagation(),t.hasValidSubmitQuery()&&null==t.currentActiveItem&&t.submit())}),this.elements.input.addEventListener("change",function(e){t.autocompleteDone=!1}),PH.live(this.elements.container,"click",".searchbox-back-to-site",function(e){e.preventDefault(),t.close()})}},{key:"clearAndClose",value:function(){0<this.elements.input.value.length?(this.elements.input.value="",this.elements.container.classList.remove("searchbox-has-query"),this.changeContents(),this.elements.input.focus()):this.close()}},{key:"updateSuggestionInput",value:function(e,t){var n,i=e?e.toLowerCase():"";this.elements.suggestionInput.value="",null!=t&&t.length&&(n=t.findIndex(function(e){return!e.is_special_suggestion}),-1!==t[n].name.indexOf(i)&&e.length!==t[n].name.length&&(this.elements.suggestionInput.value=e+t[n].name.slice(e.length)))}},{key:"autocomplete",value:function(){var e;!this.hasValidQuery()||(e=this.searchBoxCache.get(this.elements.input.value))&&e.suggestions&&e.suggestions.length&&(this.elements.input.value.length!==e.suggestions[0].name.length&&(this.elements.input.value=e.suggestions[0].name,this.populateSuggestions(this.elements.input.value,e.suggestions,e.categories),this.elements.suggestionInput.value=""),this.autocompleteDone=!0)}},{key:"showSuggestionsView",value:function(e,t,n,i,o){this.populateSuggestions(e,t,n,i,o),this.showSection("suggestions"),this.initActiveItems(),this.updateSuggestionInput(e,t)}},{key:"handleKeys",value:function(e){if(this.shouldShowBox()){if(this.open(),EM.siteModules.search_suggest){if("key"in e&&"Escape"===e.key||"keyCode"in e&&27==e.keyCode){var t=this.elements.input.value.trim();return this.clearAndClose(),e.preventDefault(),void(""===t&&this.elements.input.blur())}if("key"in e&&"ArrowDown"===e.key||"keyCode"in e&&40==e.keyCode)return this.navigateActiveItems(1),void e.preventDefault();if("key"in e&&"ArrowUp"===e.key||"keyCode"in e&&38==e.keyCode)return this.navigateActiveItems(-1),void e.preventDefault();if(("key"in e&&"Tab"===e.key||"keyCode"in e&&9==e.keyCode)&&!this.autocompleteDone)return this.autocomplete(),void e.preventDefault();if("key"in e&&"ArrowRight"===e.key||"keyCode"in e&&39==e.keyCode)return this.autocomplete(),void e.preventDefault()}("key"in e&&"Enter"===e.key||"keyCode"in e&&13==e.keyCode)&&(null===this.currentActiveItem||(e=this.activeItems[this.currentActiveItem].href)&&(window.location=e))}else this.close()}},{key:"handleHash",value:function(e){e.newURL!==e.oldURL&&-1===e.newURL.indexOf("#"+a)&&(this.blur(),this.close())}},{key:"navigateActiveItems",value:function(e){if(null===this.currentActiveItem){var t=PH.q(".searchbox-active-item:hover",this.elements.dropdown);if(this.currentActiveItem=-1,t)for(var n=0,i=this.activeItems.length;n<i;n++)if(this.activeItems[n]===t){this.currentActiveItem=n;break}}var o=this.currentActiveItem,a=this.currentActiveItem+e,e=this.activeItems.length;a<0?a+=e:e<=a&&(a%=e),-1<o&&this.activeItems[o].classList.remove("active"),this.currentActiveItem=a,this.activeItems[a].classList.add("active")}},{key:"hasFocus",value:function(){return!!document.activeElement&&!(!PH.closest(document.activeElement,".searchbox-wrapper")||document.activeElement.classList.contains(".searchbox-backdrop"))}},{key:"shouldShowBox",value:function(){return n||this.hasValidQuery()&&EM.siteModules.search_suggest||0===this.elements.input.value.length}},{key:"hasValidQuery",value:function(){return this.elements.input.value.trim().length>=PH.globals.searchBox.minQueryLength}},{key:"hasValidSubmitQuery",value:function(){return this.elements.input.value.trim().length>=PH.globals.searchBox.minSubmitQueryLength}},{key:"submit",value:function(){localStorage.setItem("PHSearchBoxSearchedFor",this.elements.input.value),window.location=PH.globals.searchBox.getSearchUrl(this.elements.input.value,{ref:"effective_search"})}}],[{key:"formatQuery",value:function(e){return e.replace(/(\/|%)/gi," ")}}]),o}();window.SearchBox=e,PH.trigger(document,"PHSearchBoxLoaded")}(),function(){"use strict";var e=function(){function n(e,t){_classCallCheck(this,n),e&&(this.element=e,(this.element.countdown=this).options=this.getOptions(t),t=(new Date).getTime()/1e3,this.date={now:new Date,end:new Date(1e3*(this.options.endTime<=t/100?t+parseInt(this.options.endTime):parseInt(this.options.endTime)))},this.date.end-this.date.now<=0?this.setTime(["00","00","00","00"],[]):this.init())}return _createClass(n,[{key:"getOptions",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=[{duration:1e3,onEnd:function(){},onChange:function(){},endTime:this.element.getAttribute("data-countdown"),endRefresh:null!==this.element.getAttribute("data-countdown-refresh"),showDays:4<=this.element.querySelectorAll(".flip-block").length},e].reduce(function(t,n){return Object.keys(n).forEach(function(e){t[e]=n[e]}),t},{});return"string"==typeof e.endTime&&-1!=e.endTime.indexOf("+0")&&(e.endTime=e.endTime.slice(0,-5)),"string"==typeof e.endTime&&Date.parse(e.endTime)&&(e.endTime=Date.parse(e.endTime)/1e3),e}},{key:"init",value:function(){this.current=this.getTime(),this.setTime(this.current,this.current,!0),this.interval=setInterval(this.update.bind(this),this.options.duration)}},{key:"setTime",value:function(o,a,s){[].slice.call(this.element.querySelectorAll(".flip-block")).forEach(function(e,t){var n=void 0!==o[t]?o[t].split(""):[],i=void 0!==a[t]?a[t].split(""):[];[].slice.call(e.querySelectorAll(".flip-count")).forEach(function(e,t){n[t]==i[t]&&!0!==s||(e.innerHTML=i[t]||0)})})}},{key:"getTime",value:function(){this.date.now=new Date;var e=Math.floor((this.date.end-this.date.now)/1e3),t=Math.floor(e/60),n=Math.floor(t/60),i=Math.floor(n/24),e=e-24*i*60*60-60*(n-=24*i)*60-60*(t=t-24*i*60-60*n),e=[("0"+n).slice(-2),("0"+t).slice(-2),("0"+e).slice(-2)];return this.options.showDays?e.unshift(("0"+i).slice(-2)):e[0]=("0"+(n=99<(n+=24*i)?99:n)).slice(-2),e.join("")<=0?["00","00","00","00"]:e}},{key:"update",value:function(){var e=this;this.next=this.getTime(),this.setTime(this.current,this.next),this.options.onChange.call(this),parseInt(this.next.join(""))<=0&&(clearInterval(this.interval),setTimeout(function(){e.options.onEnd.call(e),e.options.endRefresh&&setTimeout(function(){window.location.reload()},1e3)},.9*this.options.duration)),this.current=this.next}}]),n}();"object"===_typeof(window.EM)&&(window.EM.Countdown=e);for(var t=document.querySelectorAll("[data-countdown]:not([data-countdown-manual])"),n=t.length-1;0<=n;n--)new e(t[n])}(),function(){var e=function(){"use strict";function r(e){_classCallCheck(this,r);this.options=_objectSpread(_objectSpread({},{position:"top left",image:!1,icon:!1,video:!1,title:null,message:"Does this effect make me look fat?",link:null,effect:"slide",type:"",ttl:6e3,className:"",viewport:"all",container:null,onClose:function(){return!1},onOpen:function(){return!1}}),e),this._init(),this.show()}return _createClass(r,[{key:"_init",value:function(){var e=this;if(this.position=this.options.position.split(" "),2!==this.position.length||-1===["top","bottom"].indexOf(this.position[0])||-1===["left","right"].indexOf(this.position[1]))return console.error("--- A notification's position option can only take a combination of two elements in a specific order ---"),!1;this.options.container?this.container=this.options.container:(this.containerClass="ns-wrap-"+this.position.join("-"),this.checkContainer(this.options.position)?this.container=this.getContainer(this.options.position):(this.container=PH.createDOM(["div",{className:this.containerClass}]),document.body.insertBefore(this.container,document.body.firstChild),r.nsWrapper[this.options.position]=this.containerClass));var t,n=this.options.viewport.split(" ").map(function(e){return e.toLowerCase().trim()}),i=["xs","sm","md","lg"];if("all"==n[0])i=[];else for(var o=0;o<n.length;o++)-1<(t=i.indexOf(n[o]))&&i.splice(t,1);var a=this.options.type.toLowerCase(),s={success:"em em-check",warning:"em em-question",danger:"em em-error_fill",error:"em em-error_fill"};this.ntf=PH.node(EM.TMPL.exec("@Components/Notification/template.html.twig",{class_outer:"ns-box ns-effect-".concat(this.options.effect," ns-type-").concat(this.options.type).concat(i.length?" hidden-"+i.join(" hidden-"):""," ").concat(this.options.className),image:this.options.image,icon_class:this.options.icon||a in s&&s[a],title:this.options.title,content:this.options.message,link:this.options.link&&{uri:this.options.link.uri||"",target:this.options.link.target||"_self",class_name:this.options.link.className||("link"===this.options.link.type?"":"btn btn-primary btn-sm"),link_name:this.options.link.name||""},secondaryLink:this.options.secondaryLink&&{uri:this.options.secondaryLink.uri||"",target:this.options.secondaryLink.target||"_self",class_name:this.options.secondaryLink.className||("link"===this.options.secondaryLink.type?"":"btn btn-primary btn-sm"),link_name:this.options.secondaryLink.name||""}})),this.container.insertBefore(this.ntf,this.container.firstChild),this.options.ttl&&(this.dismissttl=setTimeout(function(){e.active&&e.dismiss()},this.options.ttl)),this._initEvents()}},{key:"_initEvents",value:function(){var n=this;PH.live(this.ntf,"click",'[data-ntf="close"]',function(e,t){n.dismiss(t.classList.contains("close"))}),EM.notification_viewport_tracking&&PH.onceInViewport(this.ntf,function(){EM.AdminNotificationsManager.addToDataLayer({id:n.options.id,name:n.options.trackingName,action:"Viewport",type:n.options.notification_type||""})})}},{key:"show",value:function(){var e=this;this.active=!0,setTimeout(function(){e.ntf.classList.add("ns-show")},25),"function"==typeof this.options.onOpen&&this.options.onOpen.call(this)}},{key:"dismiss",value:function(e){var t=this;this.active=!1,clearTimeout(this.dismissttl),this.ntf.classList.remove("ns-show"),"function"==typeof this.options.onClose&&this.options.onClose(e),this.options.id&&PH.trigger(EM.dispatcher,r.Events.AFTER_CLOSE_NOTIFICATION,{id:this.options.id});setTimeout(function(){PH.remove(t.ntf)},1e3)}},{key:"remove",value:function(){PH.remove(this.ntf)}},{key:"getContainer",value:function(e){return PH.q("."+r.nsWrapper[e])}},{key:"checkContainer",value:function(e){return!!r.nsWrapper[e]}}]),r}();e.nsWrapper={"top left":null,"top right":null,"bottom left":null,"bottom right":null},e.Events={AFTER_CLOSE_NOTIFICATION:"pho_after_close_notification"},EM.Notification=e}(),function(n,i){var e=function(){"use strict";_inherits(t,n.Notification);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"_init",value:function(){this.containerClass="js-notification-ribbon",this.container=i.q(".".concat(this.containerClass)),this.container||(this.container=i.node(n.TMPL.exec("@Components/Notification/templates/header-notification.html.twig")),document.body.insertBefore(this.container,document.body.firstChild)),this.ntf=i.node(n.TMPL.exec("@Components/Notification/templates/ribbon.html.twig",{type:this.options.notification_type,title:this.options.title,content:this.options.message,link:this.options.link&&{uri:this.options.link.uri||"",target:this.options.link.target||"_self",class_name:this.options.link.className||("link"===this.options.link.type?"":"btn btn-primary btn-sm"),link_name:this.options.link.name||""},secondaryLink:this.options.secondaryLink&&{uri:this.options.secondaryLink.uri||"",target:this.options.secondaryLink.target||"_self",class_name:this.options.secondaryLink.className||("link"===this.options.secondaryLink.type?"":"btn btn-primary btn-sm"),link_name:this.options.secondaryLink.name||""}})),this.container.insertBefore(this.ntf,this.container.firstChild);var e=this;this.options.ttl&&(this.dismissttl=setTimeout(function(){e.active&&e.dismiss()},this.options.ttl)),this._initEvents()}},{key:"dismiss",value:function(e){_get(_getPrototypeOf(t.prototype),"dismiss",this).call(this,e),i.qs(".ns-show",this.container).length||(document.body.classList.remove("has-header-notification"),this.container.parentNode.removeChild(this.container))}}]),t}();n.NotificationRibbon=e}(EM,PH,window),EM.initFavorites=function(c){var n=2e3;function o(e,t){EM.mobileNotificationsInpage||new EM.Notification({message:e,position:"top right",ttl:n,effect:"slide",type:1<arguments.length&&void 0!==t?t:""})}function l(e,t,n,i){return 0===i.status?(a(e,t,n),void(window.location=i.login)):i.code<200||300<=i.code?(a(e,t,n),422!==i.code?EM.showFailNotification():i.notifications.error.forEach(function(e){return o(e.message,"danger")})):(o(EM.TMPL.exec("add"===e?"@Components/NavbarDropdowns/templates/my-wishlist-added.html.twig":"@Components/NavbarDropdowns/templates/my-wishlist-removed.html.twig")),void PH.trigger(EM.dispatcher,"AddToFavorites",{type:"add"===e?"afterAdd":"afterRemove",response:i.data,from:"AddToFavComponent"}))}function d(e,t,n,i){if(a(e,t,n),400===i.status)try{o(JSON.parse(i.responseText).message)}catch(e){EM.showFailNotification()}else EM.showFailNotification()}function a(e,t,n){("add"===e?u:p)(t,n)}function u(e,t){t=i(e,t);c.splice(c.indexOf(e),1),t.forEach(s)}function p(e,t){t=i(e,t);c.push(e),t.forEach(s)}function i(e,t){return PH.qs('.add-to-favorites[data-productid="'.concat(e,'"][data-offerid="').concat(t,'"]:not(.add-to-favorites-family)'))}function s(e){var t={};try{t=JSON.parse(PH.getData(e,"product"))||{}}catch(e){}PH.hasClass(e,"add-to-favorites-family")||PH.toggleClass(e,"add-to-favorites-active",-1!=c.indexOf(t.productid)),e.disabled=!1}return PH.live(document.body,"click",".add-to-favorites",function(){var n=this,i={};try{i=JSON.parse(PH.getData(n,"product"))||{}}catch(e){}if(i.options_modal&&!PH.getData(n,"hasSize"))return ajax({url:"".concat(EM.sapi_endpoint,"/products/").concat(i.pnk,"/family"),data:{source_id:7},form:n}).then(function(e){var t;!e||e.code<200||300<=e.code||(t=!1,(t=e.data&&e.data.characteristics?0!==e.data.characteristics.filter(function(e){return"text"===e.display_type}).length:t)?EM.loadComponent("FamilyOptionsModal").then(function(){EM.FamilyOptionsModal.open({family:e.data,forCart:!1,productData:i})}):n.disabled=!0)});var e=+i.productid,t=+i.offerid,o={},a={};i.tracking&&(a.searchlog={},Object.keys(i.tracking).forEach(function(e){a.searchlog[e]=i.tracking[e]}));var s={},r=PH.getData(n,"ref");try{s=JSON.parse(PH.getData(n,"searchlog"))}catch(e){}-1!==c.indexOf(e)?(o.product_id=e,r&&(o.ref="remove_from_fav_".concat(r)),u(e,t),PH.trigger(EM.dispatcher,"AddToFavorites",{type:"beforeRemove"}),dataLayer.push({event:"removeFromFavorites",ecommerce:{currencyCode:i.currency,removeFromFavorites:{products:[{name:i.product_name,id:i.offerid,doc_id:i.productid,price:i.price,category:i.category_trail,supercategory:i.scm_super_category?i.scm_super_category.name:"err-nosupercategory",supercategory_id:i.scm_super_category?i.scm_super_category.id:"err-nosupercategory"}]}}}),sapi.removeProductFromFavorites(o,a).then(l.bind(n,"remove",e,t)).fail(d.bind(n,"remove",e,t))):(o.offer_id=t,o.product_id=e,o.has_family=i.has_family,o.is_family=i.is_family,r&&(o.ref="add_to_fav_".concat(r)),s&&(o.searchlog=s),p(e,t),PH.trigger(EM.dispatcher,"AddToFavorites",{type:"beforeAdd"}),dataLayer.push({event:"addToFavorites",ecommerce:{currencyCode:i.currency,addToFavorites:{products:[{name:i.product_name,id:i.offerid,doc_id:e,price:i.price,category:i.category_trail,supercategory:i.scm_super_category?i.scm_super_category.name:"err-nosupercategory",supercategory_id:i.scm_super_category?i.scm_super_category.id:"err-nosupercategory"}]}}}),sapi.addProductToFavorites(o,a).then(l.bind(n,"add",e,t)).fail(d.bind(n,"add",e,t)))}),window.addToFavProductPostLogin=function(e){e=e.post.prod_id;!e||(e=PH.q('.add-to-favorites[data-offerid="'.concat(e,'"]')))&&e.click()},function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document.body;PH.qs(".add-to-favorites",e).forEach(s)}}(EM.favorite_products),document.addEventListener("DOMContentLoaded",function(){EM.initFavorites()}),PH.StarRating=function(e){"use strict";function o(e,t){this.el=PH.element(e),"function"!=typeof(t=t||{}).onSelect&&(t.onSelect=PH.noop),"function"!=typeof t.onRatingChange&&(t.onRatingChange=PH.noop),this.options=t,this.currentlyActive=PH.q(".active",this.el),this.rating=0,this.updateRating(),this.saveRating(),this.addListeners()}return o.prototype={constructor:o,addListeners:function(){var t=this;function n(e){t.currentlyActive&&t.currentlyActive.classList.remove("active"),t.options.onRatingChange(PH.getData(e.target,"rating"))}function i(){t.currentlyActive&&t.currentlyActive.classList.add("active"),t.options.onRatingChange(t.rating)}PH.qs("[data-rating]",this.el).forEach(function(e){e.addEventListener("mouseenter",n),e.addEventListener("mouseleave",i)}),this.el.addEventListener("click",function(e){e.target.classList.contains("em")&&t.makeActive(e.target)})},makeActive:function(e){this.currentlyActive&&this.currentlyActive.classList.remove("active"),e.classList.add("active"),this.currentlyActive=e,this.updateRating(),this.saveRating(),this.options.onSelect(this.rating)},updateRating:function(){this.currentlyActive&&(this.rating=PH.getData(this.currentlyActive,"rating"))},setRating:function(t){var e=PH.qs("[data-rating]",this.el),n=this;e.forEach(function(e){PH.getData(e,"rating")===t&&n.makeActive(e)}),this.rating=t,this.saveRating()},saveRating:function(){PH.q("input",this.el).value=this.rating},onSelect:function(e){"function"==typeof e&&(this.options.onSelect=e)}},(o.init=function(e){for(var t=PH.qq(".star-rating.star-rating-input",e),n=0,i=t.length;n<i;n++)new o(t[n])})(e),o}(document,PH.whichChild),sapi.getNavigationHistoryRecommendations=function(){var e,t,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return EM.ABTestNavHistory&&(e=EM.ABTestNavHistory.id,t=EM.ABTestNavHistory.prefix||"ab_",(t=PH.cookie.get(t+e))&&"na"!==t&&(i=PH.extend({"extra_params[ab_test]":e+","+t},i))),ajax({url:"".concat(EM.sapi_endpoint,"/recommendations/by-slot"),type:"json",method:"get",data:PH.extend({source_id:7,identifier:n.productId,page_type:"smart_history",positions:1,token:EM.user_token},i),form:n.form})},sapi.getNavigationHistory=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:"/get-client-navigation-history",type:"json",method:"get",data:{fields:e.fields||{}}})},sapi.removeNavigationHistory=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:"/delete-client-navigation-history",type:"json",method:"delete",form:e.form})},function(s){var n,i,o,r,c;function a(e){var t;PH.hasClass(e,"nh-is-selected")||((t=PH.q(".nh-is-selected"))&&PH.removeClass(t,"nh-is-selected"),PH.addClass(e,"nh-is-selected"),function(a){r[a]&&d(a);sapi.getNavigationHistoryRecommendations({productId:a},{fields:{flags:[1]}}).then(function(e){var t,n,i,o;e&&e.data[1]&&(r[a]=e.data[1],i=c.findIndex(function(e){return e&&e.id==a}),r[a].product_collection=r[a].product_collection||[],r[a].product_collection.unshift(c[i]),r[t=a]&&(n=PH.getData(s,"scenarioIndex"),i=r[t].tracking_alias,o="".concat(i,"_").concat(n,"_"),(r[t].product_collection||[]).forEach(function(e,t){e.ref=o+(t+1)})),d(a),e=e.data[1],PH.setData(s,"trackingAlias",e.tracking_alias),PH.setData(s,"recommendationId",e.recommendation_id),PH.setData(s,"trackingEngine",e.provider),PH.removeClass(s,"js-widget-not-loaded"))})}(PH.getData(e,"productId")))}function l(){PH.remove(s)}function d(e){var t;o.recommendations&&(t=r[e],PH.empty(o.recommendations),EM.loadComponent("NavigationHistoryTemplates").then(function(){o.recommendations.innerHTML=EM.TMPL.exec("@Components/NavigationHistory/NavTemplates/history-recommendations.html.twig",{app:EM.APP,tracking_engine:t.provider,tracking_alias:t.tracking_alias,recommendation_id:t.recommendation_id,recommendation_scenario_id:t.recommendation_scenario_id,recommendation_scenario_index:PH.getData(s,"scenarioIndex")||"0",items:t.product_collection}),PH.Widget.autoInit(o.recommendations),EM.initFavorites(o.recommendations),new EM.WidgetTracking(o.recommendations.querySelector(".ph-carousel"))}))}EM.siteModules.user_history&&s&&(n=80,i=10,o={productsSmall:s.querySelector(".js-nh-products-small-container"),productsLarge:s.querySelector(".js-nh-products-large-container"),recommendations:s.querySelector(".js-nh-recommendations-container")},r={},c=[],PH.live(s,"click",".js-nh-select-product",function(e,t){o.recommendations&&(e.preventDefault(),a(t))}),PH.live(s,"click",".js-remove-nav-history",function(e){e.preventDefault(),sapi.removeNavigationHistory({form:s}).then(function(e){return!e||e.status<200||300<=e.status?EM.showFailNotification():void l()})}),PH.onceInViewport(s,function(){sapi.getNavigationHistory({fields:{resized_images:"150x150,80x80"}}).then(function(e){var t;c=(c=e.historyList&&e.historyList.items?e.historyList.items:[]).slice(0,12),(t=c)&&t.length?EM.loadComponent("NavigationHistoryTemplates").then(function(){var e;o.productsSmall&&(PH.empty(o.productsSmall),o.productsSmall.innerHTML=EM.TMPL.exec("@Components/NavigationHistory/NavTemplates/history-products-small.html.twig",{items:t}),PH.q(".js-nh-products-small-inner",o.productsSmall).style.width=t.length*(n+i)+"px",(e=PH.q(".js-nh-select-product",s))&&a(e)),o.productsLarge&&(PH.empty(o.productsLarge),o.productsLarge.innerHTML=EM.TMPL.exec("@Components/NavigationHistory/NavTemplates/history-products-large.html.twig",{app:EM.APP,items:t}),PH.Widget.autoInit(o.productsLarge),EM.initFavorites(o.productsLarge))}):l()})},{rootMargin:"800px 0px 800px 0px"}))}(PH.q("#navigation-history")),function(a,s,r,c){var n=this;r.on(c.dispatcher,c.Notification.Events.AFTER_CLOSE_NOTIFICATION,function(e){e=e.data.id;if(!e)return!1;c.AdminNotificationsManager.disableNotificationForShown(e)}),r.on(c.dispatcher,"em-trigger-voucher-notification",function(e){var t=e.data;if(!t.id)return!1;e=document.createElement("div");e.innerHTML=t.name;var n=t.campaign||e.innerText||e.textContent;if(c.show_voucher_notification_in_page||c.show_all_notifications_in_page){var i=r.q(".js-in-page-notification-container");if(!i)return;var o=r.node(c.TMPL.exec("@Components/AdminNotifications/templates/in-page-voucher-campaign.html.twig",{content:t.content.text,title:t.name,type:"voucher",link:t.link&&"none"!==t.link.type?t.link:null}));return i.appendChild(o),c.AdminNotificationsManager.addToDataLayer({id:t.id,name:n,action:"Display",type:t.notification_type&&t.notification_type.type}),r.onceInViewport(o,function(){c.AdminNotificationsManager.addToDataLayer({id:t.id,name:n,action:"Viewport",type:t.notification_type&&t.notification_type.type})}),void r.live(i,"click",".js-voucher-campaign-container .js-vc-link",function(e){e.preventDefault(),r.trigger(c.dispatcher,"em-save-voucher-ajax",{id:t.id,name:n,title:t.name,code:t.link.uri,loaderElement:o,type:t.notification_type&&t.notification_type.type})})}var a,i=new c.Notification({id:t.id,message:t.content.html,title:t.name,link:t.link&&"none"!==t.link.type?t.link:null,image:t.image?c.getSize(t.image.resized_images,"78x78"):null,position:"bottom right",ttl:!1,onOpen:function(){c.AdminNotificationsManager.addToDataLayer({id:t.id,name:n,action:"Viewport",type:t.notification_type&&t.notification_type.type}),c.AdminNotificationsManager.onShowNotificationTracking({id:t.id,name:n,type:t.notification_type&&t.notification_type.type})},onClose:c.AdminNotificationsManager.onCloseNotificationTracking.bind(this,{name:n,id:t.id,type:t.notification_type&&t.notification_type.type})});c.AdminNotificationsManager&&(c.AdminNotificationsManager.notifications[t.id]=i),(a=i.container?r.q('.ns-content [data-ntf="close"]',i.container):(a=r.q(".widget-notifications-section"),r.q('.ns-content [data-ntf="close"]',a)))&&r.on(a,"click",function(e){return e.preventDefault(),r.trigger(c.dispatcher,"em-save-voucher-ajax",{code:t.link.uri,name:n,id:t.id,type:t.notification_type&&t.notification_type.type}),!1})}),r.on(c.dispatcher,"em-save-voucher-ajax",function(n){var e=n.data.code,t=n.data.name,i=n.data.id,o=n.data.type;n.data.loaderElement&&r.addLoaderTo(n.data.loaderElement),c.AdminNotificationsManager.addToDataLayer({id:i,name:t,action:"Click",type:o}),s.saveVoucher({},{id:e}).then(function(e){var t;"redirect"!==e.status?(c.show_voucher_notification_in_page||c.show_all_notifications_in_page?(t=r.node(c.TMPL.exec("@Components/AdminNotifications/templates/in-page-voucher-campaign.html.twig",{content:e.message,title:n.data.title,type:"voucher",isConfirmation:!0})),n.data.loaderElement&&(n.data.loaderElement.parentNode.insertBefore(t,n.data.loaderElement),r.remove(n.data.loaderElement)),n.data.id&&c.AdminNotificationsManager.disableNotificationForShown(n.data.id)):new c.Notification({position:"top right",message:e.message,icon:"em em-voucher",ttl:!1,className:"voucher-response-notification"}),n.data.loaderElement&&(r.removeLoaderFrom(n.data.loaderElement),n.data.removeLoader&&r.remove(n.data.loaderElement))):a.location.href=e.url}).fail(function(e){c.showFailNotification()}).always(function(){n.data.voucherElement&&r.removeLoaderFrom(n.data.loaderElement)})}),r.on(c.dispatcher,"em-trigger-newsletter-modal",function(e){if(r.cookie.get("current_user_subscribed"))return!1;var t=e.data,e=new c.Notification({id:t.id,message:t.content.html,title:t.name,link:t.link&&"none"!==t.link.type?t.link:null,image:t.image?c.getSize(t.image.resized_images,"78x78"):null,position:"bottom right",className:"newsletter-notification",ttl:!1});dataLayer.push({event:"Newsletter Notification",ec:"Newsletter Modal Signup",ea:"Display notification"});var n=r.q('.ns-content-footer [data-ntf="close"]',e.ntf);c.AdminNotificationsManager&&(c.AdminNotificationsManager.notifications[t.id]=e),n&&r.on(n,"click",function(e){r.stopEvent(e),c.loadComponent("NewsletterModal").then(function(){return c.NewsletterModal.trigger(n)})})}),c.siteModules.matching_notifications&&r.on(a,"load",function(){c.AdminNotificationsManager.fetchNotifications()}),r.on(c.dispatcher,"PHRequestClearNotifications",c.AdminNotificationsManager.clearNotifications),r.on(c.dispatcher,"PHRequestFetchNotifications",c.AdminNotificationsManager.fetchNotifications),r.on(c.dispatcher,"em-admin-notifications-displayed",function(e){var t=r.q(".widget-notifications-section");0===Object.keys(c.AdminNotificationsManager.notifications).length&&c.mobile&&t&&(t={id:"",name:"",type:"campaign"},new c.Notification({className:"newsletter-notification",id:"",message:"<p>".concat(c.trans("Subscribe to the Newsletter and keep up-to-date with the latest offers!"),"</p>"),title:c.trans("eMAG Newsletter Subscription"),link:{follow:!1,name:c.trans("Subscribe to the newsletter!"),target:"_self",type:"link",uri:"/newsletter"},image:"https://s13emagst.akamaized.net/layout/ro/images/db/39/58958.png",ttl:!1,effect:c.notifications_effect||"slide",container:r.q(c.notifications_container),notification_type:"campaign",onOpen:c.AdminNotificationsManager.onShowNotificationTracking.bind(n,t),onClose:c.AdminNotificationsManager.onCloseNotificationTracking.bind(n,t)}))})}(window,sapi,PH,EM),function(e){var n,i=0<arguments.length&&void 0!==e?e:{};EM.eUserInfo&&EM.eUserInfo.userId&&(n="gdpr_".concat(EM.eUserInfo.userId));var d=function(e,t){i.push({event:"gaEvent",ec:"GDPR age compliance",ea:e,el:t})},t=function(){"use strict";function t(e){_classCallCheck(this,t),this.selector=PH.q(e||"a#my_account"),this.initDropdown(),this.initEvents(),this.notificationListener(),d("Header takeover","Active")}return _createClass(t,[{key:"enablePreviousWidget",value:function(e){var t=this.selector.PH_Widget;t&&t.disable(!e)}},{key:"updateStatus",value:function(e,t){this.notification&&this.notification.dismiss(),this.dropdown&&this.dropdown.close(),sapi.gdprUpdateStatus({},{status:e}).then(function(){return localStorage.setItem(n,e)}).then(t)}},{key:"initDropdown",value:function(){this.enablePreviousWidget(!1),this.dropdown=new PH.Dropdown({trigger:this.selector,content:PH.node(EM.TMPL.exec("@Components/GDPRNotification/templates/dropdown.html.twig",{user:EM.username})),align:"S",openOn:"hover",className:" navbar-drop gdpr-notification-dropdown",permanent:!0,scrollClose:0}),this.dropdown.open(),PH.addClass(this.selector,"gdpr-warning"),PH.q(".user-sidebar-avatar")&&PH.addClass(PH.q(".user-sidebar-avatar"),"gdpr-jewel"),this.dropdown.on("show",d.bind(this,"Header takeover","View"))}},{key:"initEvents",value:function(){var l=this;PH.live(document,"click",".js-gdpr-notification-save",function(e){PH.stopEvent(e);var t,n,i,o=PH.closest(e.target,".js-gdpr-form"),a=PH.q("select.js-gdpr-year",o).value,s=PH.q("select.js-gdpr-month",o).value,r=PH.q("select.js-gdpr-day",o).value,c=PH.q(".errors",o);c.innerHTML="",PH.Validator.validateForm(o)&&(t=+r,n=+s,i=+a,e=new Date(i,n-1,t),""+i+n+t==""+e.getFullYear()+(e.getMonth()+1)+e.getDate()?(sapi.gdprSaveBirthdate(o,{birthdate:"".concat(a,"-").concat(s,"-").concat(r)}).then(l.destroy.bind(l)),d("Provide age","Submit age")):c.innerHTML=EM.trans("The selected date is invalid."))}),PH.live(document,"click",".js-gdpr-notification-confirm",function(e){PH.stopEvent(e),l.updateStatus(1,l.destroy.bind(l)),d("Confirm age","Over 16")}),PH.live(document,"click",".js-gdpr-notification-deny",function(e){PH.stopEvent(e),l.updateStatus(-1,l.initModal.bind(l)),d("Confirm age","Under 16")}),PH.live(document,"click",".js-gdpr-notification-later",function(e){PH.stopEvent(e),l.destroy(),d("Provide age","Click maybe later")})}},{key:"initModal",value:function(){this.modal=new PH.Modal({content:PH.node(EM.TMPL.exec("@Components/GDPRNotification/templates/modal.html.twig",{year:(new Date).getFullYear()})),showHeader:!1,fullscreen:!0,closeButton:!1}),this.modal.open(),PH.Validator.addValidatorToForm(PH.q(".js-gdpr-form",this.modal.element()),{validateOnChange:!0},{}),PH.Widget.autoInit(this.modal.element()),d("Provide age","View")}},{key:"notificationListener",value:function(){function n(e){var t;i.notification||(e={id:(t=e.data).id,name:t.name,type:t.notification_type?t.notification_type.type:"campaign"},i.notification=new EM.Notification({id:t.id,message:t.content.html,title:t.name_html,image:t.image?EM.getSize(t.image.resized_images,"78x78"):null,ttl:0,position:"bottom right",link:{uri:"#",name:EM.trans("I am over 16"),className:"pho-btn btn btn-sm btn-primary mrg-btm-xs ntf-gdpr-btn js-gdpr-notification-confirm"},secondaryLink:{uri:"#",name:EM.trans("I am under 16"),className:"pho-btn btn btn-sm btn-default mrg-btm-xs js-gdpr-notification-deny"},onOpen:EM.AdminNotificationsManager.onShowNotificationTracking.bind(i,e),onClose:EM.AdminNotificationsManager.onCloseNotificationTracking.bind(i,e)}),PH.off(EM.dispatcher,"em-trigger-gdpr-notification",n))}var i=this;PH.on(EM.dispatcher,"em-trigger-gdpr-notification",n)}},{key:"destroy",value:function(){this.enablePreviousWidget(!0),this.dropdown&&this.dropdown.destroy(),this.modal&&this.modal.close(),PH.removeClass(this.selector,"gdpr-warning"),PH.q(".user-sidebar-avatar")&&PH.removeClass(PH.q(".user-sidebar-avatar"),"gdpr-jewel")}}]),t}();EM.GDPRNotification=t,document.addEventListener("DOMContentLoaded",function(){n&&!localStorage.getItem(n)&&EM.eUserInfo.hasUnknownAge&&(EM.GDPRNotification.instance=new EM.GDPRNotification)})}(dataLayer),function(l,d,u){var e=function(){"use strict";function c(e){var t,n;if(_classCallCheck(this,c),this.groupsEnabled=!0,this.FUNCTIONAL_COOKIE_TYPE_ID=1,this.ANALYTICS_COOKIE_TYPE_ID=2,this.ADVERTISING_COOKIE_TYPE_ID=3,this.cookieMap=(_defineProperty(t={},this.FUNCTIONAL_COOKIE_TYPE_ID,[]),_defineProperty(t,this.ANALYTICS_COOKIE_TYPE_ID,[]),_defineProperty(t,this.ADVERTISING_COOKIE_TYPE_ID,[]),t),this.tplPath="@Components/CookiePolicyTabs/template.html.twig",this.options=d.extend({el:null,cookieData:null,cookieGroupData:null},e),!this.options.el||!this.options.cookieData)return!1;for(n in this.options.noCookieInteraction=-1==[l.GDPRCookies.STATUS_ACCEPTED,l.GDPRCookies.STATUS_REFUSED,l.GDPRCookies.STATUS_LATER].indexOf(this.options.cookieGroupData.current_status),this.initialServerCookieMap={},this.yesNoClicked=!1,this.options.cookieData){var i=this.options.cookieData[n];this.initialServerCookieMap[i.id]=d.clone(i)}this.resetForm()}return _createClass(c,[{key:"render",value:function(){this.options.el.innerHTML=l.TMPL.exec(this.tplPath,{groups:this.groupCookieData(this.options.cookieData),groupsEnabled:this.groupsEnabled,noCookieInteraction:this.options.noCookieInteraction})}},{key:"initEvents",value:function(){this.form=d.q(".js-cookie-preferences-form",this.options.el),this.savePartialBtn=d.q(".js-save-partial",this.form),this.form&&(d.live(this.form,"click",".js-save-partial",this.onSaveClick.bind(this)),d.live(this.form,"click",".js-save-all",this.onSaveClick.bind(this)),d.live(this.form,"change",'.accept-reject-radio input[type="radio"]',this.onGroupChange.bind(this)),d.live(this.form,"change",'.cookie-list-wrapper input[type="checkbox"]',this.onCookieChange.bind(this)))}},{key:"onGroupChange",value:function(e){var t=d.target(e),n=t.getAttribute("data-group-type-id"),e=d.closest(t,".accept-reject-radio");if(e){var i,o=!0;for(i in this.yesNoClicked="yes","0"==t.value&&(o=!1,this.yesNoClicked="no"),d.removeClass(e,"yes no maybe no-interaction"),d.addClass(e,this.yesNoClicked),d.qs('.js-cookie-checkbox[data-cookie-type-id="'+n+'"]').forEach(function(e){e.checked=o}),this.cookieMap[n])this.cookieMap[n][i].is_accepted=o}this.togglePartialSaveBtn()}},{key:"togglePartialSaveBtn",value:function(){var t=this;if(d.trigger(l.dispatcher,l.CookiePolicyModal.Events.SHOW_MINIMIZE_BTN),this.options.noCookieInteraction)this.savePartialBtn.classList.remove("hidden");else{var n=!1;this.savePartialBtn.classList.add("hidden");var e,i=function(e){t.initialServerCookieMap[e.id].is_accepted!=e.is_accepted&&(n=!0)};for(e in this.cookieMap)if(this.cookieMap[e].forEach(i),n)return void this.savePartialBtn.classList.remove("hidden")}}},{key:"onCookieChange",value:function(e){var t=d.target(e),n=t.getAttribute("data-id"),i=t.getAttribute("data-cookie-type-id");if(this.cookieMap[i]){var o,a=d.closest(t,".tab-pane"),s=d.q(".accept-reject-radio",a),r=0;for(o in this.cookieMap[i])this.cookieMap[i][o].id===parseInt(n)&&(this.cookieMap[i][o].is_accepted=t.checked?1:0),r+=this.cookieMap[i][o].is_accepted?1:0;s&&(d.removeClass(s,"yes no maybe no-interaction"),e=d.q('input[type="radio"][value="1"]',s),a=d.q('input[type="radio"][value="0"]',s),this.cookieMap[i].length===r?(this.yesNoClicked="yes",d.addClass(s,this.yesNoClicked),e.checked=!0):r?(this.yesNoClicked=!1,d.addClass(s,"maybe"),a.checked=e.checked=!1):(this.yesNoClicked="no",d.addClass(s,this.yesNoClicked),a.checked=!0))}this.togglePartialSaveBtn()}},{key:"onSaveClick",value:function(e){var t=this;e.preventDefault();function n(e){e.is_accepted=+e.is_accepted;var t=s&&!e.is_mandatory?e.is_accepted:1;t||(r=!0),a.push({id:e.id,is_accepted:t})}var i,o=this,e=d.target(e),a=[],s=!!e.classList.contains("js-save-partial"),r=!1;for(i in this.cookieMap)this.cookieMap[i].forEach(n);if(sessionStorage.getItem("sapi-token")===decodeURIComponent(d.cookie.get("sapi-token")))return s&&dataLayer.push({event:"gaEvent",ec:"GDPR consent",ea:"Save preferences",el:this.yesNoClicked||"Modified cookie status"}),u.postCookiePreferences({form:this.options.el},{groups:a}).then(function(e){l.user_data||d.cookie.set("gdpr_consent_type",s&&r?2:1,!1,"/",l.cookie_domain||l.getDomain(window.location.hostname)),t.showSuccessNotification(),"adminCookiePreferences"===l.page_type?window.location.reload():(l.cookie_policy=e.cookie_policy,o.options.cookieData=l.cookie_policy.cookies,d.trigger(l.dispatcher,l.GDPRCookieBanner.Events.SHOW_LOGIN_NOTICE))}).fail(function(e){d.trigger(l.dispatcher,c.Events.COOKIE_PREFERENCES_SUBMIT_ERROR),l.failCallback(e)}),!1;d.trigger(l.dispatcher,c.Events.COOKIE_PREFERENCES_SUBMIT_ERROR)}},{key:"resetForm",value:function(){this.render(),this.initEvents(),d.Widget.autoInit(this.form)}},{key:"onCancelClick",value:function(e){d.trigger(l.dispatcher,c.Events.COOKIE_PREFERENCES_CANCEL_CLICK),this.resetForm(),new l.Notification({position:"top right",message:l.trans("Your settings have been updated to previous selection"),type:"success"})}},{key:"showSuccessNotification",value:function(){d.trigger(l.dispatcher,c.Events.COOKIE_PREFERENCES_SUBMIT_SUCCESS),new l.Notification({position:"top right",message:l.trans("Preferences saved"),type:"success"})}},{key:"groupCookieData",value:function(e){var t,n,i=this,o=(_defineProperty(t={},this.FUNCTIONAL_COOKIE_TYPE_ID,0),_defineProperty(t,this.ANALYTICS_COOKIE_TYPE_ID,0),_defineProperty(t,this.ADVERTISING_COOKIE_TYPE_ID,0),t),a=(_defineProperty(t={},this.FUNCTIONAL_COOKIE_TYPE_ID,!1),_defineProperty(t,this.ANALYTICS_COOKIE_TYPE_ID,!1),_defineProperty(t,this.ADVERTISING_COOKIE_TYPE_ID,!1),t);for(n in Array.isArray(e)&&(this.cookieMap[this.FUNCTIONAL_COOKIE_TYPE_ID]=[],this.cookieMap[this.ANALYTICS_COOKIE_TYPE_ID]=[],this.cookieMap[this.ADVERTISING_COOKIE_TYPE_ID]=[],e.forEach(function(e){o[e.type_id]+=+e.is_accepted,i.cookieMap[e.type_id].push(e)})),_defineProperty(e={},this.FUNCTIONAL_COOKIE_TYPE_ID,-1),_defineProperty(e,this.ANALYTICS_COOKIE_TYPE_ID,-1),_defineProperty(e,this.ADVERTISING_COOKIE_TYPE_ID,-1),a=e,this.cookieMap)o[n]===this.cookieMap[n].length?a[n]=1:0<o[n]?a[n]=0:a[n]=-1;return[{label:l.trans("Functional Cookies"),description:l.trans("Strictly necessary for the functioning of our website"),id:"functional-cookies",class:"gtm_n63l11ok",is_mandatory:1,current_status:a[this.FUNCTIONAL_COOKIE_TYPE_ID],type:"Functional",type_id:this.FUNCTIONAL_COOKIE_TYPE_ID,cookieData:this.cookieMap[this.FUNCTIONAL_COOKIE_TYPE_ID],content_text:l.trans("gdpr_modal_functional_tab_text",{"%view_more_btn%":'<a href="#" data-ph-target="#functional-cookies-list-wrapper" data-ph-init-size="0" data-phino="CollapseOne" data-ph-end-label="'+l.trans("view less")+'" class="js-show-more text-muted">'+l.trans("view more")+"</a>"})},{label:l.trans("Analytics Cookies"),description:l.trans("Measuring, optimisation and improvement of our services"),id:"analytics-cookies",class:"gtm_c554qhu6",is_mandatory:0,current_status:a[this.ANALYTICS_COOKIE_TYPE_ID],type:"Analytics",type_id:this.ANALYTICS_COOKIE_TYPE_ID,cookieData:this.cookieMap[this.ANALYTICS_COOKIE_TYPE_ID],content_text:l.trans("gdpr_modal_analysis_tab_text",{"%view_more_btn%":'<a href="#" data-ph-target="#analytics-cookies-list-wrapper" data-ph-init-size="0" data-phino="CollapseOne" data-ph-end-label="'+l.trans("view less")+'" class="js-show-more text-muted">'+l.trans("view more")+"</a>"})},{label:l.trans("Advertising Cookies"),description:l.trans("Keeping you up to date with our latest offers"),id:"advertising-cookies",class:"gtm_jcdhkxxq",is_mandatory:0,current_status:a[this.ADVERTISING_COOKIE_TYPE_ID],type:"Advertising",type_id:this.ADVERTISING_COOKIE_TYPE_ID,cookieData:this.cookieMap[this.ADVERTISING_COOKIE_TYPE_ID],content_text:l.trans("gdpr_modal_advertising_tab_text",{"%view_more_btn%":'<a href="#" data-ph-target="#advertising-cookies-list-wrapper" data-ph-init-size="0" data-phino="CollapseOne" data-ph-end-label="'+l.trans("view less")+'" class="js-show-more text-muted">'+l.trans("view more")+"</a>"})}]}}]),c}();e.Events={COOKIE_PREFERENCES_SUBMIT_SUCCESS:"em-cookie-policy-tabs-submit-success",COOKIE_PREFERENCES_SUBMIT_ERROR:"em-cookie-policy-tabs-submit-error"},l.CookiePolicyTabs=e}(EM,PH,sapi,document),function(n,i){var e=function(){"use strict";function t(e){return _classCallCheck(this,t),this.groupsEnabled=!0,this.options=i.extend({cookieData:null,cookieGroupData:null,customerData:null},e),!!this.options.cookieData&&(this.initModal(e),this)}return _createClass(t,[{key:"initModal",value:function(e){this.modal||(this.modal=new i.Modal({content:n.TMPL.exec("@Components/CookiePolicyModal/template.html.twig",{}),size:"modal-lg",showHeader:!0,title:n.trans("Preference settings"),className:"cookie-policy-modal",fullscreen:!0,closeButton:!this.groupsEnabled}),this.modalEl=this.modal.element(),this.modalHeader=i.q(".modal-header",this.modalEl),this.groupsEnabled?(this.minimizeBtn=i.node('<button class="gtm_riwrenqx btn btn-link minimize js-minimize hidden"><i class="gtm_riwrenqx em em-minus"></i></button>'),this.modalHeader.appendChild(this.minimizeBtn),i.on(n.dispatcher,n.CookiePolicyModal.Events.SHOW_MINIMIZE_BTN,this.onShowMinimize.bind(this))):(i.addClass(i.qs("button.close, button.close > i",this.modalEl),"gtm_ybpex3k92h"),this.modal.on("close",function(e){i.trigger(n.dispatcher,n.GDPRCookieBanner.Events.SHOW_BANNER)})),this.formEl=i.q(".modal-body",this.modalEl),this.options=i.extend({el:this.formEl},this.options),this.cookiePolicyTabs=new n.CookiePolicyTabs(this.options),i.on(n.dispatcher,n.CookiePolicyTabs.Events.COOKIE_PREFERENCES_SUBMIT_SUCCESS,this.afterSubmitSuccess.bind(this)),i.on(n.dispatcher,n.CookiePolicyTabs.Events.COOKIE_PREFERENCES_CANCEL_CLICK,this.afterSubmitSuccess.bind(this)),i.on(n.dispatcher,n.CookiePolicyTabs.Events.COOKIE_PREFERENCES_SUBMIT_ERROR,this.afterSubmitSuccess.bind(this)),i.live(this.modalEl,"click",".modal-header .js-minimize",this.onMinimizeClick.bind(this)))}},{key:"onShowMinimize",value:function(e){i.removeClass(this.minimizeBtn,"hidden")}},{key:"onMinimizeClick",value:function(e){this.afterSubmitSuccess(),i.trigger(n.dispatcher,n.GDPRCookieBanner.Events.SHOW_BANNER)}},{key:"openModal",value:function(){this.modal.open(),i.trigger(n.dispatcher,n.GDPRCookieBanner.Events.HIDE_BANNER)}},{key:"afterSubmitSuccess",value:function(e){this.modal.close()}}],[{key:"open",value:function(e){this.instance||(this.instance=new t(e)),this.instance.cookiePolicyTabs.resetForm(),this.instance.openModal(),dataLayer.push({event:"gaEvent",ec:"GDPR consent",ea:"Impression change preferences modal",el:void 0})}}]),t}();e.Events={SHOW_MINIMIZE_BTN:"em-gdpr-modal-show-minimize-btn"},n.CookiePolicyModal=e}(EM,PH,window),function(e){e&&(e.style.width=PH.getData(e,"width")+"%")}(PH.q(".js-skin-progressbar-value")),function(s,r,c){s.SendSMS=function(i){if(!i||!s.send_sms_token)return!1;i.appendChild(r.node(s.send_sms_token));var t,n=r.q('button[type="submit"]',i),o=!1,a=r.q(".sms-recaptcha-content",i);window.showSmsRecaptcha=function(){r.show(a),!1===o?o=grecaptcha.render(a,{sitekey:s.recaptcha_key,theme:"light",hl:s.locale}):grecaptcha.reset(o)},new r.FormHandler(i).before(function(e){!(n.disabled=!0)!==o&&(t||(t=r.node('<input type="hidden" name="captcha_response">'),e.appendChild(t)),t.value=grecaptcha.getResponse(o))}).then(function(e){var t,n;new s.Notification({position:"top right",message:e.message||""}),e.error?e.captcha&&("undefined"!=typeof grecaptcha?showSmsRecaptcha():(t="showSmsRecaptcha",(e=c.createElement("script")).src="https://www.google.com/recaptcha/api.js?&onload="+t+"&render=explicit&hl="+n,c.head.appendChild(e))):(r.hide(a),r.q(".form-control.user-phone-number",i).value="")}).always(function(e){n.disabled=!1})}}(EM,PH,document),EM.ABTest=function e(){"use strict";_classCallCheck(this,e)},function(o,i,a,s,n,r){var e=function(){"use strict";function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),o.hideGdprBanner||!o.siteModules.Cookie_consent_banner||i.cookie.get("webview")||-1!==["cart","thank_you_page","info_map"].indexOf(o.page_type)||-1!==["/guide/salajobs","/doneaza/banner"].indexOf(s.location.pathname)||(this.groupsEnabled=!0,this.hideAnimationDelay=700,this.SHOW_LOGIN_NOTICE_KEY="gdpr-banner-show-login-notice",this.templatePath=e.templatePath||t.TEMPLATE_PATH,this.loginNotificationTemplatePath=t.LOGIN_NOTIFICATION_TEMPLATE_PATH,this.el=i.node(o.TMPL.exec(this.templatePath,{acceptGtm:"gtm_h76e8zjgoo",laterGtm:this.groupsEnabled?"gtm_r0b1uz06":"gtm_lr52jwnkup",groupsEnabled:this.groupsEnabled})),o.GDPRCookies.DISPATCHER_EVENT_ATTACHED||(i.on(o.dispatcher,"em-fetched-cookie-group-preferences",this.onDataFetched.bind(this)),o.GDPRCookies.DISPATCHER_EVENT_ATTACHED=1),void 0!==n.current_status&&void 0!==n.groups&&void 0!==r.cookies||!o.siteModules.GDPR_Cookie_consent_banner_ajax_fallback?n.groups&&n.groups.length&&r.cookies.length&&i.trigger(o.dispatcher,"em-fetched-cookie-group-preferences",{cookie_group_policy:o.cookie_group_policy,cookie_policy:o.cookie_policy}):a.getCookiePreferencesRenderEsi().then(function(e){t.addRenderEsiNode(e),o.cookie_group_policy&&o.cookie_group_policy.groups&&o.cookie_group_policy.groups.length&&i.trigger(o.dispatcher,"em-fetched-cookie-group-preferences",{cookie_group_policy:o.cookie_group_policy,cookie_policy:o.cookie_policy})}))}return _createClass(t,[{key:"render",value:function(){var e=this;i.remove(i.q("body > .js-gdpr-cookie-banner")),document.body.appendChild(this.el),this.bannerText=i.q(".cookie-banner-text",this.el),this.textOverlay=i.q(".cookie-banner-text-overlay",this.el),setTimeout(function(){e.showBanner(),dataLayer.push({event:"gaEvent",ec:"GDPR consent",ea:"Impression",el:void 0}),i.trigger(o.dispatcher,o.GDPRCookieBanner.Events.IMPRESSION)},500),i.storage.remove(t.LOGIN_NOTICE_DISMISSED_STORAGE_KEY)}},{key:"initEvents",value:function(){i.on(o.dispatcher,o.GDPRCookieBanner.Events.SHOW_BANNER,this.showBanner.bind(this)),i.on(o.dispatcher,o.GDPRCookieBanner.Events.HIDE_BANNER,this.hideBanner.bind(this)),i.on(o.dispatcher,o.GDPRCookieBanner.Events.SHOW_LOGIN_NOTICE,this.onShowLoginView.bind(this)),i.live(this.el,"click",".js-accept",this.onAccept,this),i.live(this.el,"click",".js-later",this.onLater,this),i.live(this.el,"click",".js-change-settings",this.onChangeSettings,this),i.live(this.el,"click",".js-disregard",this.onDisregard,this),i.live(this.el,"click",".js-later-login-notice",this.expandCollapseLoginView,this),i.live(this.el,"click",".js-expand-collapse",this.expandCollapseLoginView,this),i.live(this.el,"click",".js-login-btn",this.onLoginBtnClick,this),i.live(this.el,"click",".js-dismiss-login-notice-btn",this.onLaterLoginNotice,this),i.on(o.dispatcher,o.CookiePolicyTabs.Events.COOKIE_PREFERENCES_SUBMIT_SUCCESS,this.afterSubmitCookiesSuccess.bind(this)),this.textOverlay&&i.preventPageScroll(this.bannerText)}},{key:"onDataFetched",value:function(e){if(e.data.cookie_group_policy&&e.data.cookie_policy){if(this.cookieGroupPolicy=e.data.cookie_group_policy,this.cookiePolicy=e.data.cookie_policy,!o.token&&this.cookieGroupPolicy.current_status!==o.GDPRCookies.STATUS_DISREGARD)return this.renderLoginView(),void this.initEvents();this.cookieGroupPolicy.show_banner&&(this.render(),this.initEvents())}}},{key:"onLoginBtnClick",value:function(){dataLayer.push({event:"gaEvent",ec:"GDPR consent",ea:"Click login button banner",el:void 0})}},{key:"expandCollapseLoginView",value:function(){s.matchMedia("(max-width: 767px)").matches&&(i.toggleClass(this.el,"collapsed"),localStorage.setItem(t.LOGIN_NOTICE_STATE_STORAGE_KEY,i.hasClass(this.el,"collapsed")?1:0))}},{key:"renderLoginView",value:function(){i.remove(i.q("body > .js-gdpr-cookie-banner")),o.siteModules.gdpr_log_in_after_accept_dialogue&&!i.storage.get(t.LOGIN_NOTICE_DISMISSED_STORAGE_KEY)&&(document.body.appendChild(this.el),this.el.innerHTML=o.TMPL.exec(this.loginNotificationTemplatePath,{mobile:o.mobile}),i.addClass(this.el,"login-view login-view-".concat(o.locale)),dataLayer.push({event:"gaEvent",ec:"GDPR consent",ea:"Impression login",el:void 0}),this.showBanner(),i.toggleClass(this.el,"collapsed",parseInt(localStorage.getItem(t.LOGIN_NOTICE_STATE_STORAGE_KEY))))}},{key:"onShowLoginView",value:function(e){this.groupsEnabled&&!o.token&&(this.hideBanner(),this.renderLoginView())}},{key:"showBanner",value:function(){this.el.classList.add("show"),i.trigger(this.el,"toggle",{isVisible:!0})}},{key:"hideBanner",value:function(){this.el.classList.remove("show"),i.trigger(this.el,"toggle",{isVisible:!1})}},{key:"removeBanner",value:function(){i.remove(this.el)}},{key:"getRequestData",value:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:o.GDPRCookies.STATUS_ACCEPTED,i=[];return this.cookiePolicy.cookies.forEach(function(e){var t=n;e.is_mandatory&&(t=o.GDPRCookies.STATUS_ACCEPTED),i.push({id:e.id,is_accepted:t})}),i}},{key:"onAccept",value:function(e){e.preventDefault(),this.postGroupRequest(this.el,{groups:this.getRequestData(),accepted:1})}},{key:"onLaterLoginNotice",value:function(e){this.hideBanner(),i.storage.set(t.LOGIN_NOTICE_DISMISSED_STORAGE_KEY,1,"120h")}},{key:"onLater",value:function(e){e.preventDefault(),this.postGroupRequest(this.el,{groups:this.getRequestData(o.GDPRCookies.STATUS_LATER)}),i.cookie.set(o.GDPRCookieBanner.BANNER_COOKIE_KEY,0,!1,"/",o.cookie_domain||o.getDomain(s.location.hostname))}},{key:"onChangeSettings",value:function(e){e.preventDefault(),o.CookiePolicyModal.open({cookieData:o.cookie_policy.cookies,cookieGroupData:o.cookie_group_policy})}},{key:"onDisregard",value:function(e){e.preventDefault(),this.postGroupRequest(this.el,{groups:this.getRequestData(o.GDPRCookies.STATUS_DISREGARD)})}},{key:"afterSubmitCookiesSuccess",value:function(e){this.hideBanner(),this.removeBanner()}},{key:"postGroupRequest",value:function(e,t){var n=this;if(sessionStorage.getItem("sapi-token")!==decodeURIComponent(i.cookie.get("sapi-token")))return this.hideBanner(),void setTimeout(function(){n.removeBanner()},this.hideAnimationDelay);a.postCookiePreferences({form:e},t).then(function(e){if(o.user_data||i.cookie.set("gdpr_consent_type",o.GDPRCookies.STATUS_ACCEPTED?1:2,!1,"/",o.cookie_domain||o.getDomain(s.location.hostname)),n.hideBanner(),n.groupsEnabled||e.current_status===o.GDPRCookies.STATUS_ACCEPTED){if("adminCookiePreferences"===o.page_type)return void s.location.reload();if(!o.token)return void setTimeout(function(){n.renderLoginView()},n.hideAnimationDelay)}setTimeout(function(){n.removeBanner()},n.hideAnimationDelay)}).fail(o.failCallback)}}],[{key:"addRenderEsiNode",value:function(e){var t;"string"==typeof e&&""!==e&&(i.remove(i.q("#cookie-consent-render-esi-script")),(t=document.createElement("script")).innerHTML=e.replace(/<script.*>/,"").replace("<\/script>",""),document.body.appendChild(t))}}]),t}();e.BANNER_COOKIE_KEY="show_gdpr_cookie_banner",e.Events={SHOW_LOGIN_NOTICE:"em-show-gdpr-login-notice",SHOW_BANNER:"em-show-gdpr-banner",HIDE_BANNER:"em-hide-gdpr-banner",IMPRESSION:"em-gdpr-banner-impression"},e.LOGIN_NOTICE_STATE_STORAGE_KEY="login-notice-collapsed",e.LOGIN_NOTICE_DISMISSED_STORAGE_KEY="login-notice-dismissed",e.TEMPLATE_PATH="@Components/GDPRCookieBanner/template.html.twig",e.LOGIN_NOTIFICATION_TEMPLATE_PATH="@Components/GDPRCookieBanner/login-notification-template.html.twig",o.GDPRCookieBanner=e,i.on(s,"load",function(){new o.GDPRCookieBanner,sessionStorage.setItem("sapi-token",o.token)})}(EM,PH,sapi,window,EM.cookie_group_policy||{},EM.cookie_policy||{}),function(){"use strict";var o=43200,a=25,t=function(){function i(e,t){var n;_classCallCheck(this,i),e&&(this.offset=0,this.element=e,this.toggleBtn=PH.q(".js-lf-toggle",e),!(t&&t.end&&t.items)||(n=Date.now()/1e3)>t.end?this.remove():(this.feeds=t.items.filter(function(e){return e.time>=n-o&&e.time<=n}).reverse().slice(0,a),this.feeds.length<1?this.remove():this.init()))}return _createClass(i,[{key:"calculateOffset",value:function(){PH.addClass(this.element,"lf-calculate");var e=PH.q(".lf-container",this.element).getBoundingClientRect().height,t=PH.q(".lf-container ul",this.element).getBoundingClientRect().height;t<e&&(this.offset=t-e),PH.removeClass(this.element,"lf-calculate")}},{key:"init",value:function(){var e=this;this.build(),"localStorage"in window&&"true"==window.localStorage.getItem("live-feeds-mini")&&PH.addClass(this.element,"lf-mini"),this.calculateOffset(),setTimeout(function(){PH.addClass(e.element,"lf-loaded")},1e3),PH.on(this.toggleBtn,"click",this.onClick.bind(this))}},{key:"build",value:function(){var n="";this.feeds.forEach(function(e){var t=new Date(1e3*e.time),e=e.url?'<a href="'.concat(e.url,'" target="_blank" class="lf-i-message">').concat(e.content,"</a>"):'<div class="lf-i-message">'.concat(e.content,"</div>");n+='<li>\n                    <div class="lf-item">\n                        <div class="lf-i-time">'.concat(("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2),"</div>\n                        ").concat(e,"\n                    </div>\n                </li>")}),PH.q("ul",this.element).innerHTML=n}},{key:"remove",value:function(){PH.off(this.toggleBtn,"click",this.onClick.bind(this)),PH.remove(this.element)}},{key:"onClick",value:function(){var e;820<=window.innerWidth?(e=PH.hasClass(this.element,"lf-maxi"),PH.toggleClass(this.element,"lf-maxi",!e),this.element.style.bottom=e?null:this.offset+"px"):(e=PH.hasClass(this.element,"lf-mini"),PH.toggleClass(this.element,"lf-mini",!e),"localStorage"in window&&window.localStorage.setItem("live-feeds-mini",!e))}}]),i}();window.addEventListener("load",function(){var e=new t(PH.q("#live-feeds"),window.live_feeds);"object"===_typeof(window.EM)&&(window.EM.LiveFeeds=e)})}(),function(n){n&&PH.live(n,"click",".js-close",function(e,t){e.preventDefault(),PH.cookie.set("header_notification_closed","1",.25,"/",EM.cookie_domain),PH.remove(n),document.body.classList.remove("has-header-notification")})}(PH.q(".header-notification")),function(){var e=function(){"use strict";function e(){var n=this;_classCallCheck(this,e),this.getActiveExperiments().then(function(){n.openDebugModal(),n.modalContent=PH.q(".js-modal-ab-debug-tool"),PH.live(n.modalContent,"click",".js-expand-experiment",function(e,t){e.preventDefault(),n.expandExperiment(t)})})}return _createClass(e,[{key:"openDebugModal",value:function(){var e=EM.TMPL.exec("@Components/ABDebugTool/templates/modal-ab-debug-tool.html.twig",{experiments:this.experiments,siteURL:EM.site_url}),t=new PH.Modal({content:e,size:"modal-lg",showHeader:!1});t.on("close",function(){return t.destroy()}),t.open()}},{key:"getActiveExperiments",value:function(){var t=this;return ajax({url:"/experiment-debug/list",method:"GET",data:{page:1,perPage:20,"filter[status][in]":"PUBLISHED_TO_STAGE,PUBLISHED"},type:"json"}).then(function(e){t.experiments=EXPERIMENTS.data.map(function(t){return PH.merge({title:(e.data.find(function(e){return e.id===t.id})||{}).title},t)})}).fail(function(e){console.log(e)})}},{key:"expandExperiment",value:function(e){var t=PH.closest(e,".row"),n=PH.q(".js-experiment-details",t),i=PH.hasClass(n,"hide"),o=+PH.getData(e,"experimentId"),e=this.experiments.find(function(e){return e.id===o});n.innerHTML=EM.TMPL.exec("@Components/ABDebugTool/templates/modal-rules-details.html.twig",{rules:e.rules}),PH.hasClass(t,"expanded-experiment")?PH.removeClass(t,"expanded-experiment"):PH.addClass(t,"expanded-experiment"),this.toggleDetails(i,n)}},{key:"toggleDetails",value:function(e,t){PH.toggleClass(t,"hide",!e),PH.toggleClass(t,"show",e)}}]),e}();EM.ABDebugTool=e}(),PH.on(document,"DOMContentLoaded",function(){var e=PH.q(".navbar-toolbox");if(e){EM.updateDrop={wishlist:!0,cart:!0};var n={account:PH.q("#my_account",e),wishlist:PH.q("#my_wishlist",e),cart:PH.q("#my_cart",e)},o={wishlist:PH.q(".jewel",n.wishlist),cart:PH.q(".jewel",n.cart)};try{var t=PH.cookie.get("cart_summary");!t||(i=JSON.parse(decodeURIComponent(t)))&&0<i.b&&(PH.removeClass(o.cart,"hidden"),o.cart.innerHTML=i.b)}catch(e){}["wishlist","cart"].forEach(function(e){!n[e]||"cart"==e&&"cart"===EM.page_type||PH.on(n[e],"mouseenter",function(){EM.updateDrop[e]&&(r.getContent(e),EM.updateDrop[e]=!1)})}),PH.live(document,"click",".yeahIWantThisProduct",function(e,t){r.addDropContent.call(t,"cart")});var i,a,s,r={getContent:function(t){window.innerWidth<=PH.globals.viewportBreakpoints.sm||("wishlist"==t?EM.user_token_has_user_id?sapi.getUserBoxFavs({},{limit:6}).then(function(e){e.code<200||300<=e.code||!e.data||(r.displayDropContent(e.data,t),PH.toggleClass(o.wishlist,"hidden",!e.data.pagination.items_count),o.wishlist.innerHTML=e.data.pagination.items_count)}):r.displayDropContent({items:[]},t):"cart"==t&&oldSiteAjax.getUserBoxCart().then(function(e){r.displayDropContent(e,t),PH.toggleClass(o.cart,"hidden",e.total_products<=0),o.cart.innerHTML=e.total_products}))},displayDropContent:function(e,t){"wishlist"==t?(c.wishlist.instance.setContent(EM.TMPL.exec("@Components/NavbarDropdowns/templates/my-wishlist-content.html.twig",{appData:EM.APP,isLoggedIn:EM.is_logged_in,isRequestDone:!0,itemsData:e.items,staticUrl:EM.static_url,favUrlRoute:n.wishlist.getAttribute("href")})),m(PH.q(".nav-product-list-group",c.wishlist.instance._popup.element()))):"cart"==t&&("00:00:00"==(t=EM.bf_end_date?u(EM.bf_end_date):null)&&(t=null),c.cart.instance.setContent(EM.TMPL.exec("@Components/NavbarDropdowns/templates/my-cart-content.html.twig",{appData:EM.APP,isRequestDone:!0,linesData:e.lines,total:e.total,subtotal:e.subtotal,totalProducts:e.total_products,layout_data:{is_bf:EM.is_bf},bf_product_count:!EM.mobile&&EM.siteModules.Black_Friday_cart_notification&&EM.is_bf&&l(),bf_timer:t})),m(PH.q(".nav-product-list-group",c.cart.instance._popup.element())))},addDropContent:function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};"wishlist"==e&&(PH.toggleClass(o.wishlist,"hidden",!i.pagination.items_count),o.wishlist.innerHTML=i.pagination.items_count,EM.updateDrop.wishlist=!0)}},c={account:{target:n.account,content:EM.TMPL.exec("@Components/NavbarDropdowns/templates/my-account-content.html.twig",{isLoggedIn:EM.is_logged_in,username:EM.username,menu:EM.user_menu,refPrefix:"ua"}),className:" navbar-account-dropdown "+(EM.is_logged_in?" my-account-dropdown-logged-in":" my-account-dropdown-logged-out ")},wishlist:{target:n.wishlist,content:EM.TMPL.exec("@Components/NavbarDropdowns/templates/my-wishlist-content.html.twig",{isLoggedIn:EM.is_logged_in}),className:" navbar-wishlist-dropdown "},cart:{target:n.cart,content:EM.TMPL.exec("@Components/NavbarDropdowns/templates/my-cart-content.html.twig",{}),className:" navbar-cart-dropdown "}};EM.is_bf&&EM.bf_end_date&&(EM.bf_end_date=function(e){e=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/.exec(e.trim());return new Date(+e[1],e[2]-1,+e[3],+e[4],+e[5],+e[6])}(EM.bf_end_date)),EM.siteModules.Black_Friday_cart_notification&&!EM.mobile&&EM.is_bf&&l()&&EM.bf_end_date&&("00:00:00"!=(i=u(EM.bf_end_date))&&(i=EM.TMPL.exec("@Components/NavbarDropdowns/templates/bf-cart-content-timer.html.twig",{bf_product_count:l(),bf_timer:i}),a=new PH.Popup({anchor:c.cart.target,align:h(),content:PH.node("<div class='ph-dropdown-inner'>".concat(i,"</div>")),className:"navbar-drop "+c.cart.className,permanent:!0}),document.body.appendChild(a.element()),a.addClass("ph-dropdown-popup"),setTimeout(function(){a&&a.show(),setTimeout(d,1e4)},1e3),s=setInterval(function(){var t=u(EM.bf_end_date);PH.qs(".js-bf-cart-timer").forEach(function(e){return e.innerHTML=t}),"00:00:00"==t&&clearInterval(s)},333))),Object.keys(c).forEach(function(e){var t,n;"cart"==e&&"cart"===EM.page_type||(t=c[e].instance=new PH.Dropdown({trigger:c[e].target,content:c[e].content,align:h(),openOn:EM.mobile?"click":"hover",className:" navbar-drop hide "+(c[e].className||"")}),n=t._popup.element(),t.on("beforeShow",function(){PH.removeClass(n,"hide")}),t.on("hide",function(){PH.addClass(n,"hide")}),"wishlist"==e?(PH.live(n,"click",".nav-remove-favorite-product",function(e,t){var n=+PH.getData(t,"productId"),i=+PH.getData(t,"listId"),o=PH.closest(t,".nav-product-container"),a={};try{a=JSON.parse(PH.getData(t,"product"))}catch(e){}dataLayer.push({event:"removeFromFavorites",ecommerce:{currencyCode:a.currency,removeFromFavorites:{products:[{name:a.product_name,id:a.offerid,doc_id:a.productid,price:a.price,category:a.category_trail,supercategory:a.scm_super_category?a.scm_super_category.name:"err-nosupercategory",supercategory_id:a.scm_super_category?a.scm_super_category.id:"err-nosupercategory"}]}}}),sapi.removeProductFromFavorites({product_id:n,ref:"fav_hdr_remove_from_list",form:o}).then(function(e){-1!==EM.favorite_products.indexOf(n)&&EM.favorite_products.splice(EM.favorite_products.indexOf(n),1),PH.remove(o),PH.trigger(EM.dispatcher,"RemoveProductFromMinifav",{productId:n,listId:i}),r.getContent("wishlist"),EM.initFavorites()})}),PH.live(n,"click",".js-add-family-to-cart",function(e,t){t=t.getAttribute("data-product-id");EM.product_id==t&&(e.preventDefault(),(e=PH.q(".main-product-form .yeahIWantThisFamilyProduct"))&&PH.trigger(e,"click"))}),PH.live(n,"click",".js-add-to-cart",function(e,t){e.preventDefault(),EM.AddToCart.submit(PH.closest(t,"form")).then(function(){var e;"cart"==EM.page_type&&((e=PH.q("#cartProductsPage"))&&PH.addLoaderTo(e),window.location.reload())})})):"cart"==e&&(PH.live(n,"click",".nav-product-line_remove",function(e,t){var n=PH.closest(t,".nav-product-container"),i=PH.getData(t,"lineId");oldSiteAjax.removeFromCart({line_id:i,line_service:PH.getData(t,"lineService"),form:n}).then(function(e){PH.remove(n),r.getContent("cart"),PH.trigger(EM.dispatcher,"RemoveProductFromMinicart",{lineId:i}),"datalayer"in e&&EM.DatalayerManager.handleGeneralEvent(e.datalayer)})}),a&&t.on("show",d)))}),c.account.instance.once("show",function(){EM.is_logged_in&&dataLayer&&!EM.mobile&&dataLayer.push({event:"gaEvent",ec:"Website element impression",ea:"User account impression",el:void 0})}),!EM.mobile&&PH.q(".user-account-menu")&&dataLayer.push({event:"gaEvent",ec:"Website element impression",ea:"New User account impression",el:void 0}),PH.trigger(EM.dispatcher,"popup_account_created",c.account.instance),p(),PH.on(window,"resize",p),EM.is_logged_in||PH.cookie.get("loginTooltipShown")||"pl"==EM.locale||(c.account.instance.open(),PH.cookie.set("loginTooltipShown",1,365,"/",EM.cookie_domain),setTimeout(function(){c.account.instance.close()},3e4)),PH.on(EM.dispatcher,"NavbarDropdowns",function(e){if(e.data)switch(e.data.type){case"add-to-favorites":case"remove-from-favorites":r.getContent("wishlist");break;case"refresh-cart":r.getContent("cart")}}),EM.user_token_has_user_id&&sapi.getFavoritesProductsIds().then(function(e){return e.code<200||300<=e.code?EM.showFailNotification():(EM.favorite_products.splice(0,EM.favorite_products.length),EM.favorite_products.push.apply(EM.favorite_products,e.data.items),EM.initFavorites(),PH.toggleClass(o.wishlist,"hidden",!e.data.pagination.items_count),void(o.wishlist.innerHTML=e.data.pagination.items_count))}).fail(EM.showFailNotification)}function l(){var e=0;try{e=JSON.parse(decodeURIComponent(PH.cookie.get("cart_summary"))).bfc}catch(e){}return e}function d(){a&&(a.hide(),setTimeout(function(){a&&(a.destroy(),a=null)},300))}function u(e){var t=Date.now(),n=Math.floor((e-t)/1e3);if(n<0)return"00:00:00";e=Math.floor(n/3600);n%=3600;t=Math.floor(n/60);return i(e)+":"+i(t)+":"+i(n%=60);function i(e){return e<10?"0"+e:e}}function p(){var e,t=window.innerWidth<PH.globals.viewportBreakpoints.sm;for(e in c){var n=c[e].instance;n&&(n.disable(t),t||n.setAlign(h()))}}function m(n){n&&PH.on(n,["wheel","DOMMouseScroll"],function(e){var t=e.wheelDelta||-e.deltaY||-e.detail;n.scrollTop+=30*(t<0?1:-1),e.preventDefault()})}function h(){return window.innerWidth<PH.globals.viewportBreakpoints.lg+120?"SE":"S"}}),function(){var i=document.getElementById("masthead");i&&new(function(){"use strict";function t(e){e=e.navbar;_classCallCheck(this,t),this.navbar=e,this.addDesktopChecks(),this.loadSearchBox()}return _createClass(t,[{key:"addDesktopChecks",value:function(){EM.mobile||(PH.hasClass(this.navbar,"navbar-always-minimized")?PH.addClass(document.body,"has-minimized-navbar"):PH.hasClass(this.navbar,"navbar-never-minimized")||(this.addScrollMonitor(),PH.on(window,["scroll","resize"],function(){var e=EM.GDPRNotification&&EM.GDPRNotification.instance;e&&e.dropdown&&("in-view"==PH.visibility(i)?e.dropdown.open():e.dropdown.close())})))}},{key:"addScrollMonitor",value:function(){var e=document.getElementById("top_ribbon"),t=window.innerWidth<PH.globals.viewportBreakpoints.sm?50:PH.getData(this.navbar,"navbarMinimizedOffset");new PH.ScrollMonitor({from:e,target:this.navbar,class:"navbar-minimized",offset:-t,eventHandlers:{toggle:function(t){var n=this;PH.toggleClass(document.body,"has-minimized-navbar",t),setTimeout(function(){PH.toggleClass(n._target,"animate-navbar",t);var e=EM.GDPRNotification&&EM.GDPRNotification.instance;e&&e.dropdown&&t&&setTimeout(function(){return e.dropdown.open()},250)},10)}}})}},{key:"checkGdprPopup",value:function(){PH.on(window,["scroll","resize"],function(){var e=EM.GDPRNotification&&EM.GDPRNotification.instance;e&&e.dropdown&&("in-view"==PH.visibility(i)?e.dropdown.open():e.dropdown.close())})}},{key:"loadSearchBox",value:function(){function e(e){var t,n=PH.q(".navbar-searchbox .searchbox-wrapper");n&&(t=!1,new SearchBox(n,{modules:{suggestions:EM.siteModules.search_suggest,trending:EM.siteModules.trending_searches},onShow:function(){i.classList.add("has-opened-searchbox")},onHide:function(){i.classList.remove("has-opened-searchbox")},onClickShow:function(){i.classList.contains("navbar-minimized")?(t=!0,i.classList.remove("navbar-minimized")):t=!1},onClickHide:function(){t&&i.classList.add("navbar-minimized")}}))}"undefined"!=typeof SearchBox?e():document.addEventListener("PHSearchBoxLoaded",e)}}]),t}())({navbar:i})}(),function(m,h){var f;function g(e){var t,n,a,i,o,s,r,c,l,d,u=e.PH_Widget;function p(){clearTimeout(o),o=setTimeout(function(){var n="".concat(l,",").concat(d,",pw_").concat(s,"_pos_").concat(r,",").concat(c),i=[],o=[];a.forEach(function(e){var t=h.getData(e,"offerId");t&&(e=h.getData(e,"aid"),f[n]||(f[n]=[]),f[n].indexOf(t)<0&&(i.push(t),f[n].push(t),e&&o.push(e)))});var e;o.length?(e={"X-PHP-Self":"/recommendationWidgetProductImpressions","X-Scenario-Name-Pos":"pw_".concat(s,"_pos_").concat(r),recid:c,provider:l,spid:d,offer_ids:i.join(","),aids:o.join(",")},m.LoggerJsonTracking.send(e)):i.length&&m.WidgetTracking.storeProductImpressions(_defineProperty({},n,i.join(","))),a=[]},500)}u&&(t=u._scroller,n=u.getCards(),a=[],i=new IntersectionObserver(function(e){e.forEach(function(e){var t;e.isIntersecting?(t=e.target,a.indexOf(t)<0&&(a.push(t),p())):e.intersectionRatio<=.1&&function(e){e=a.indexOf(e);0<=e&&(a.splice(e,1),p())}(e.target)})},{root:t,rootMargin:"10px",threshold:1}),n.forEach(function(e){return i.observe(e)}),u.on({destroy:function(){i.disconnect()},reload:function(){i.disconnect(),g(e)}}),o=null,s=h.getData(e,"trackingAlias")||"",r=h.getData(e,"scenarioIndex")||"0",c=h.getData(e,"recommendationId")||"",l=h.getData(e,"trackingEngine")||"",d=h.getData(e,"sourceProductId")||"")}window.IntersectionObserver&&(h.on(m.dispatcher,"PHCarouselWidgetProductsLoaded",function(e){var n=e.data;if(!h.hasClass(n,"ph-widget"))return!1;h.getData(n,"recommendationId");h.getData(n,"ads")&&setTimeout(function(){var t=new IntersectionObserver(function(e){e[0].isIntersecting&&(g(n),t.disconnect())});t.observe(n)},250)}),f={},m.trackCarousel=g)}(EM,PH),function(){var n={favorites_btn:{display:{event:"gaEvent",ec:"ToolTip",el:"Display AddToFavorites notification",ea:"AddToFavorites notification"},close:{event:"gaEvent",ec:"ToolTip",el:"Close AddToFavorites notification",ea:"AddToFavorites notification"},subscribe:{event:"gaEvent",ec:"ToolTip",el:"Subscribe AddToFavorites notification",ea:"AddToFavorites notification"}},product_page_view:{display:{event:"gaEvent",ec:"ToolTip",el:"Display 3XProduct notification",ea:"3XProduct notification"},close:{event:"gaEvent",ec:"ToolTip",el:"Close 3XProduct notification",ea:"3XProduct notification"},subscribe:{event:"gaEvent",ec:"ToolTip",el:"Subscribe 3XProduct notification",ea:"3XProduct notification"}},favorites_btn_native:{display:{event:"gaEvent",ec:"ToolTip",el:"Display Native notification",ea:"Native notification"},deny:{event:"gaEvent",ec:"ToolTip",el:"Deny Native notification",ea:"Native notification"},grant:{event:"gaEvent",ec:"ToolTip",el:"Grant Native notification",ea:"Native notification"},default:{event:"gaEvent",ec:"ToolTip",el:"Undefined Native notification",ea:"Native notification"}},product_page_view_native:{display:{event:"gaEvent",ec:"ToolTip",el:"Display 3XProduct Native notification",ea:"3XProduct Native notification"},deny:{event:"gaEvent",ec:"ToolTip",el:"Deny 3XProduct Native notification",ea:"3XProduct Native notification"},grant:{event:"gaEvent",ec:"ToolTip",el:"Grant 3XProduct Native notification",ea:"3XProduct Native notification"},default:{event:"gaEvent",ec:"ToolTip",el:"Undefined 3XProduct Native notification",ea:"3XProduct Native notification"}}},e=sessionStorage.getItem("onesignal-pageview-count"),i=PH.cookie.get("web_push_perm"),t=sessionStorage.getItem("OneSignalStatus"),o=!1;function a(t){t&&"favorites_btn"==t?dataLayer.push(n.favorites_btn.display):dataLayer.push(n.product_page_view.display);try{sessionStorage.setItem("OneSignalStatus","opened")}catch(e){}var e=new EM.Notification({message:EM.TMPL.exec("@Components/OneSignal/template.html.twig"),position:"top right",ttl:!1,effect:"slide",onClose:function(){!function(e){var t=o?1:5;i||PH.cookie.set("web_push_perm","oneSignalExpires",t,"/");e&&"favorites_btn"==e?dataLayer.push(n.favorites_btn.close):dataLayer.push(n.product_page_view.close);e=localStorage.getItem("dismissedOneSignal");e?(e=parseInt(e)+1,localStorage.setItem("dismissedOneSignal",e)):localStorage.setItem("dismissedOneSignal",1)}(t)}});PH.live(document.body,"click",".js-open-onesignal",function(){"undefined"!=typeof OneSignal&&(EM.BrowserPromptOverlay.message(EM.trans("Allow subscription to push notifications and you'll be notified when your favorite products are on offer.")),EM.BrowserPromptOverlay.show(),OneSignal.registerForPushNotifications(),OneSignal.push(function(){OneSignal.on("notificationPermissionChange",function(e){EM.BrowserPromptOverlay.hide(),PH.cookie.set("web_push_perm",e.to,31536e6,"/"),t&&"favorites_btn"==t?"denied"==e.to?dataLayer.push(n.favorites_btn_native.deny):"granted"==e.to?dataLayer.push(n.favorites_btn_native.grant):dataLayer.push(n.favorites_btn_native.default):"denied"==e.to?dataLayer.push(n.product_page_view_native.deny):"granted"==e.to?dataLayer.push(n.product_page_view_native.grant):dataLayer.push(n.product_page_view_native.default)})}),t&&"favorites_btn"==t?dataLayer.push(n.favorites_btn.subscribe):dataLayer.push(n.product_page_view.subscribe),e.dismiss())}),PH.live(document.body,"click",".js-later-onesignal",function(){e.dismiss(),t&&"favorites_btn"==t?dataLayer.push(n.favorites_btn.deny):dataLayer.push(n.product_page_view.deny)})}!(1<e||o)||i||"undefined"==typeof OneSignal||"opened"===t||!EM.is_logged_in||"ro"!=EM.locale&&"pl"!=EM.locale||OneSignal.push(["getNotificationPermission",function(e){"default"==e&&a()}]),PH.on(EM.dispatcher,"OneSignal",function(e){var t,n,i;"show"===e.data&&(t=!1,n=localStorage.getItem("dismissedOneSignal"),i=PH.cookie.get("web_push_perm"),e=sessionStorage.getItem("OneSignalStatus"),"undefined"!=typeof OneSignal&&"opened"!==e&&n<3&&!i&&-1!=["chrome","firefox","safari"].indexOf(EM.device.browser.name)&&-1!=["ro","pl"].indexOf(EM.locale)&&(t=!0),EM.is_logged_in&&t&&"undefined"!=typeof OneSignal&&OneSignal.push(["getNotificationPermission",function(e){"default"==e&&a("favorites_btn")}]))})}(),function(a){"use strict";function s(e,t){this.options={},t=t||{},this._loadedBanners={},this._loadedDepartments={},this._initElements(e),this._initTemplates(),this._initTriggers(t),this._initCallbacks(t),this._initCache(),"hideOnScroll"in t&&t.hideOnScroll&&n()&&(this.options.hideOnScroll=1),this._isActive=!1,this._activeDepartment=null,this._scrollHandler=this._scrollHandler.bind(this),this._openDepartment=this._openDepartment.bind(this),this._addEventListeners(),this._hideOnOutsideClick=this._hideOnOutsideClick.bind(this)}var e;function n(){return window.innerWidth>=a.globals.viewportBreakpoints.md}function i(e){e=a.closest(e.target,".js-megamenu-list-department");return e&&parseInt(e.getAttribute("data-id"),10)||null}s.flags={useHoverTriggers:n,useHoverOverDepartments:n,isSubdepartmentClickable:n,showBanners:n,isCollapseEnabled:function(){return!n()},disableScrolling:function(){return!n()}},s._prepareDepartmentData=function(e){var t=e;if(t.flags={quick_nav:{},menu_links:{}},t.separators={quick_nav:[],menu_links:[]},t.items.quick_nav)for(var n=0,i=t.items.quick_nav.length;n<i;n++){var o=!1;t.flags.quick_nav[n]={};for(var a=0,s=t.items.quick_nav[n].length;a<s;a++)2===t.items.quick_nav[n][a].heading_type&&(t.flags.quick_nav[n].has_large_heading=!0,t.items.quick_nav[n][a].is_large_heading=!0),o||2===t.items.quick_nav[n][a].heading_type||(o=t.items.quick_nav[n][a].is_first_relative_item=!0),t.items.quick_nav[n][a].has_vertical_separator&&-1===t.separators.quick_nav.indexOf(n)&&t.separators.quick_nav.push(n)}return t},s.prototype._initElements=function(e){var n=this;this._elements={container:e},this._elements.departments=a.q(".megamenu-list-container",e),this._elements.details=a.q(".megamenu-details",e),this._elements.departmentDetails={},a.qs(".megamenu-details-department",this._elements.details).forEach(function(e){var t=a.getData(e,"id");t&&(n._elements.departmentDetails[t]={listElement:a.q('.js-megamenu-list-department[data-id="'+t+'"]',n._elements.departments),container:e,items:a.q(".megamenu-details-department-items",e)})}),this._elements.backdrop=document.createElement("div"),this._elements.backdrop.className="megamenu-backdrop";e=document.getElementById("masthead");e&&e.classList.contains("navbar-floating-fx")&&a.q(".megamenu-container").classList.add("megamenu-container-fixed"),document.body.appendChild(this._elements.backdrop),this._elements.triggerIcon=a.q(".megamenu-trigger-icon")},s.prototype._initCache=function(){if("localStorage"in window&&this._elements.departmentDetails)for(var e=0,t=localStorage.length;e<t;e++){var n,i=localStorage.key(e);i&&-1!==i.indexOf("megamenuDepartment-")&&(n=parseInt(i.replace("megamenuDepartment-",""),10),isNaN(n)||n in this._elements.departmentDetails||localStorage.removeItem(i))}},s.prototype._initTemplates=function(){this._templates={departmentDetails:a.q("#megamenu-template-details")}},s.prototype._initTriggers=function(e){if(this.options.triggers={hover:[],click:[]},"triggers"in e)for(var t in this.options.triggers)this.options.triggers.hasOwnProperty(t)&&(e.triggers[t]instanceof Array?this.options.triggers[t]=e.triggers[t]:this.options.triggers[t]=[e.triggers[t]])},s.prototype._initCallbacks=function(e){if(this.options.callbacks={open:null,close:null},"callbacks"in e)for(var t in this.options.callbacks)this.options.callbacks.hasOwnProperty(t)&&t in e.callbacks&&"function"==typeof e.callbacks[t]&&(this.options.callbacks[t]=e.callbacks[t])},s.prototype._scrollHandler=function(){"hideOnScroll"in this.options&&this.options.hideOnScroll&&this.close()},s.prototype._hideOnOutsideClick=function(e){a.closest(e.target,".megamenu")||this.close()},s.prototype._addEventListeners=function(){var o=this;this.options.triggers.hover.length&&(a.live(document,"mouseover",this.options.triggers.hover.join(", "),function(e){s.flags.useHoverTriggers()&&o.open()}),a.live(document,"mouseleave",this.options.triggers.hover.join(", "),function(e){s.flags.useHoverTriggers()&&window.setTimeout(function(){o._hasFocus()||o.close()},100)}),this._elements.container.addEventListener("mouseleave",function(){s.flags.useHoverTriggers()&&window.setTimeout(function(){o._hasFocus()||o.close()},100)}),a.live(document,"click",this.options.triggers.hover.join(", "),function(e){s.flags.useHoverTriggers()&&e.stopPropagation()},null,!0)),this.options.triggers.click.length&&a.live(document,"click",this.options.triggers.click.join(", "),function(e){e.preventDefault(),o._isActive?(o.close(),a.getData(this,"dynamicTrigger")&&this.classList.remove("active")):(o.open(),a.getData(this,"dynamicTrigger")&&this.classList.add("active"))}),this._elements.departments.addEventListener("click",function(e){i(e)&&("#"===e.target.getAttribute("href")&&e.preventDefault(),o._openDepartment(e))}),this._elements.departments.addEventListener("mousemove",function(e){var t,n,i;s.flags.useHoverOverDepartments()&&(o._mouseTracking||o.initMouseTracking(),50<=(t=Date.now())-o._mouseTracking.t&&(o._mouseTracking.timeout&&window.clearTimeout(o._mouseTracking.timeout),n=!1,e.clientX-o._mouseTracking.x<=0?n=!0:(i=(e.clientY-o._mouseTracking.y)/(e.clientX-o._mouseTracking.x),((i=e.clientY+i*(o._mouseTracking.details.left-e.clientX))>o._mouseTracking.details.bottom||i<o._mouseTracking.details.top)&&(n=!0)),n?(o.navigateToHoveredDepartment(),o._mouseTracking=null):(o.setMouseTrackingTimeout(),o.updateMouseTracking({x:e.clientX,y:e.clientY,t:t}))))}),a.live(this._elements.details,"click",".megamenu-details-department-title",function(e){o._hideDetails()}),a.live(this._elements.details,"click","a.megamenu-item-heading",function(e){s.flags.isSubdepartmentClickable()||e.preventDefault()}),window.addEventListener("resize",this._resizeHandler),a.live(this._elements.container,"click",".js-megamenu-list-department-link",function(e){(!n()||"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&e.preventDefault()})},s.prototype.navigateToHoveredDepartment=function(){var e;!s.flags.useHoverOverDepartments()||(e=a.q(".js-megamenu-list-department:hover",this._elements.departments))&&("all departments"===(e=a.getData(e,"id"))?(this._hideDetails(),this._updateDepartmentList("all departments")):this._openDepartment(e=+e))},s.prototype.initMouseTracking=function(){this._mouseTracking={x:0,y:0,t:0,timeout:null,details:this._elements.details.getBoundingClientRect()}},s.prototype.updateMouseTracking=function(e){a.extend(this._mouseTracking,e)},s.prototype.setMouseTrackingTimeout=function(){var e=this;this._mouseTracking.timeout=window.setTimeout(function(){e.navigateToHoveredDepartment(),e._mouseTracking=null},75)},s.prototype._openDepartment=function(e){var t;if("number"==typeof e)t=e;else{if("object"!==_typeof(e))return;t=i(e)}this._activeDepartment!=t&&(this._activeDepartment=t,this._updateDepartmentList(t),t?(this._showDetails(),this._showDepartmentDetails(t),t in this._loadedDepartments&&0===this._loadedDepartments||t in this._loadedDepartments||this._loadDepartmentDetails(t)):this._hideDetails())},s.prototype._updateDepartmentList=function(e){var t=a.q(".megamenu-list .megamenu-active",this._elements.departments);t&&t.classList.remove("megamenu-active"),!e||(e="all departments"===e?a.q('.js-megamenu-list-department[data-id="all departments"]',this._elements.departments):a.q('.js-megamenu-list-department[data-id="'+e+'"]',this._elements.departments))&&e.classList.add("megamenu-active")},s.prototype._showDetailsLoader=function(e){this._elements.departmentDetails[e].items.classList.add("preloader"),this._elements.departmentDetails[e].items.style.display="block"},s.prototype._hideDetailsLoader=function(e){this._elements.departmentDetails[e].items.classList.remove("preloader")},s.prototype._loadDepartmentDetails=function(t){var n=this;this._showDetailsLoader(t),this._loadedDepartments[t]=0;var i=n._getDepartmentDataFromCache(t);if(i)return n._handleDepartmentData(i,t),void a.trigger(n._elements.container,"PHMegamenuDepartmentLoaded",{departmentId:t});sapi.getMegamenuDepartment(t).then(function(e){(i="code"in(e=e)&&"data"in e&&(200==e.code&&e.data))&&(n._handleDepartmentData(i,t),a.trigger(n._elements.container,"PHMegamenuDepartmentLoaded",{departmentId:t}),n._saveDepartmentDataToCache(i,t))}).fail(function(e){n._hideDetailsLoader(t)})},s.prototype._getDepartmentDataFromCache=function(e){if(!("localStorage"in window))return null;var t=null;try{var n=1e3*a.getData(this._elements.departmentDetails[e].listElement,"modified"),t=a.storage.getNewer("megamenuDepartment-"+e,n)}catch(e){}return t},s.prototype._saveDepartmentDataToCache=function(e,t){"localStorage"in window&&a.storage.set("megamenuDepartment-"+t,e)},s.prototype._handleDepartmentData=function(e,t){this._hideDetailsLoader(t),this._loadedDepartments[t]=1,this._createDepartmentDetailsElement(t,s._prepareDepartmentData(e)),this._showDetails(),this._activeDepartment===t&&this._showDepartmentDetails(t)},s.prototype._createDepartmentDetailsElement=function(e,t){t.locale=EM.locale,t.departmentId=e,this._elements.departmentDetails[e].items.innerHTML=EM.TMPL.exec("@Components/Megamenu/templates/megamenu-details.html.twig",t),a.Widget.autoInit(this._elements.departmentDetails[e].items)},s.prototype._showDetails=function(){this._elements.details.classList.add("megamenu-visible")},s.prototype._hideDetails=function(){this._activeDepartment=null,this._hideCurrentDepartmentDetails(),this._elements.details.classList.remove("megamenu-visible")},s.prototype._showDepartmentDetails=function(e){this._hideCurrentDepartmentDetails(),this._setCollapseStatus(e),this._elements.departmentDetails[e].container.classList.add("megamenu-visible")},s.prototype._setCollapseStatus=function(e){var t,n,i;if(e in this._loadedDepartments&&0!==this._loadedDepartments[e])if(s.flags.isCollapseEnabled())for(t=0,n=(i=a.qq("[data-phino=CollapseOne].collapse-disabled",this._elements.departmentDetails[e].items)).length;t<n;t++)i[t].classList.remove("collapse-disabled");else for(t=0,n=(i=a.qq("[data-phino=CollapseOne]:not(.collapse-disabled)",this._elements.departmentDetails[e].items)).length;t<n;t++)i[t].classList.add("collapse-disabled")},s.prototype._hideCurrentDepartmentDetails=function(){for(var e=a.qq(".megamenu-details-department.megamenu-visible",this._elements.details),t=0,n=e.length;t<n;t++)e[t].classList.remove("megamenu-visible")},s.prototype._hasFocus=function(){var e=this.options.triggers.hover.map(function(e){return e+":hover"});return a.matches(this._elements.container,":hover")||null!==a.q(e.join(", "))},s.prototype.open=function(){"function"==typeof this.options.callbacks.open&&this.options.callbacks.open(),document.body.classList.add("megamenu-visible"),this._elements.container.classList.add("megamenu-visible"),this._elements.backdrop.classList.add("megamenu-visible"),n()||(e=(window.pageYOffset||document.body.scrollTop)-(document.body.clientTop||0),document.body.classList.add("modal-open"),document.body.style.top=-1*e+"px"),this._isActive=!0,window.addEventListener("scroll",this._scrollHandler),document.addEventListener("click",this._hideOnOutsideClick),this._elements.triggerIcon&&(this._elements.triggerIcon.classList.remove("em-burger"),this._elements.triggerIcon.classList.add("em-close"))},s.prototype.close=function(){"function"==typeof this.options.callbacks.close&&this.options.callbacks.close(),document.body.classList.remove("megamenu-visible"),this._elements.container.classList.remove("megamenu-visible"),this._elements.backdrop.classList.remove("megamenu-visible"),n()||(document.body.classList.remove("modal-open"),window.scrollTo(0,e)),this._isActive=!1,this._updateDepartmentList(!1),window.removeEventListener("scroll",this._scrollHandler),document.removeEventListener("click",this._hideOnOutsideClick),this._hideDetails(),this._elements.triggerIcon&&(this._elements.triggerIcon.classList.remove("em-close"),this._elements.triggerIcon.classList.add("em-burger"))};var t=a.q(".megamenu");t&&new s(t,{triggers:{hover:[".main-megamenu-trigger[data-trigger=hover]",".main-megamenu-trigger[data-trigger=both]"],click:[".main-megamenu-trigger[data-trigger=click]",".main-megamenu-trigger[data-trigger=both]"]},hideOnScroll:!0,callbacks:{open:function(){s.flags.disableScrolling()&&document.documentElement.classList.add("no-scrolling")},close:function(){document.documentElement.classList.remove("no-scrolling")}}})}(PH),function(t,e){var n,i=t.q(".footer");i&&(t.on(document,"DOMContentLoaded",function(){e.SendSMS(t.q(".send-me-a-message",i))}),t.live(i,"click",".footer-head",function(e){e.preventDefault()}),(n=function(){window.innerWidth<t.globals.viewportBreakpoints.sm?t.qs(".collapse-disabled",i).forEach(function(e){return e.classList.remove("collapse-disabled")}):t.qs("[data-phino=CollapseOne]:not(.collapse-disabled)",i).forEach(function(e){t.closest(e,".seo-f-a-q")||e.classList.add("collapse-disabled")})})(),window.addEventListener("resize",n))}(PH,EM),function(){"use strict";var e=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.options=this.getOptions(e),this.offerData=[],this.modalTemplatePath="@Components/ProductShowroomReservation/template.html.twig",this.showroomTemplatePath="@Components/ProductShowroomReservation/ShowroomInfo/template.html.twig",this.responseTemplate="@Components/ProductShowroomReservation/templates/action-response.html.twig",this.selectedShowroom={},this.initEvents(),this.check()}return _createClass(t,[{key:"getOptions",value:function(){return[{triggerButtonEl:".js-trigger-product-showroom-reservation-modal",submitButtonEl:".saveReservation",class:".js-product-showroom-reservation-modal",modalContainer:".product-reservation-modal-container",modalHash:"product-showroom-reservation",useWindowHash:!0,mustLogin:!1},0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}].reduce(function(t,n){return Object.keys(n).forEach(function(e){return t[e]=n[e]}),t})}},{key:"check",value:function(){var e;-1!==window.location.hash.indexOf(this.options.modalHash)&&(e=window.location.hash.split("-").reverse()[0],e=PH.q("".concat(this.options.triggerButtonEl,'[data-offerid="').concat(e,'"]')),window.history.replaceState("",document.title,window.location.href.replace(/#.*$/,"")),this.build(e))}},{key:"initEvents",value:function(){var n=this;PH.live(document,"click",this.options.triggerButtonEl,function(e,t){return n.build(t)})}},{key:"build",value:function(e){var t;e&&PH.getData(e,"localities")&&(this.offerId=PH.getData(e,"offerid"),t=this.options.useWindowHash?"".concat(this.options.modalHash,"-").concat(this.offerId):null,this.setupLocalities(JSON.parse(PH.getData(e,"localities"))||[]),this.checkUsersLoggedIn.call(this,t),this.options.mustLogin||(e={offerId:this.offerId,localities:this.offerData.localities},this.show(e,t)))}},{key:"checkUsersLoggedIn",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;EM.is_logged_in||(e=window.location.pathname,null!==t&&(e+="#"+t),e="/user/login?redirect_key="+e,PH.qs(this.options.triggerButtonEl).map(function(e){return PH.addLoaderTo(e)}),this.options.mustLogin=!0,window.location.href=e)}},{key:"setupLocalities",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).filter(function(e){return 0<e.common_key.length}),t=(t=e.map(function(e){return e.locality})).filter(function(t,e,n){return n.findIndex(function(e){return e.name===t.name})===e}),e=e.map(function(e){return{locality_id:e.locality.id,name:e.locality.name,showroom:e.name,common_key:e.common_key}});this.offerData.localities=t,this.offerData.showrooms=e}},{key:"submitReservation",value:function(e){var n=this;e.preventDefault();var i,e=e.target;PH.Validator.validateForm(e)&&(i=PH.q(".modal-body",this.modal.element()),sapi.reserveProductInShowroomAction({offer_id:this.offerId,form:PH.q(".modal-content",this.modal.element())},{pickup_key:PH.q("select.js-modal-showroom",this.modal.element()).value}).then(function(e){i.innerHTML=EM.TMPL.exec(n.responseTemplate,{hasError:!1,showroom:n.selectedShowroom,user:{name:null===(t=EM.user_data)||void 0===t?void 0:t.name}});var t=PH.q(".success-action",n.modal.element());t.setAttribute("href","/history/shoppingdetails/".concat(e.data.order_id)),t.classList.remove("hidden")}).catch(function(){i.innerHTML=EM.TMPL.exec(n.responseTemplate,{hasError:!0,showroom:n.selectedShowroom,user:{name:EM.user_data.name||""}}),PH.q(".fail-action",n.modal.element()).classList.remove("hidden")}),PH.hide(PH.q(".modal-footer.submit",this.modal.element())),PH.show(PH.q(".modal-footer.close-container",this.modal.element())))}},{key:"show",value:function(e,t){var n=this,e=new PH.Modal({content:EM.TMPL.exec(this.modalTemplatePath,e),className:this.options.class.substring(1),size:"modal-md",showHeader:!1,fullscreen:EM.mobile,hash:t}),t=(this.modal=e).element(),i=this.submitReservation.bind(this),o=PH.q(".js-modal-localities",this.modal.element());PH.live(this.modal.element(),"change",".js-modal-localities",this.renderShowrooms.bind(this)),PH.live(this.modal.element(),"change",".js-modal-showroom",this.renderShowroomData.bind(this)),this.form=PH.qs("form",t),e.on({open:function(){PH.on(n.form,"submit",i),n.options.useWindowHash&&(window.history.scrollRestoration="manual"),2===o.PH_Widget._data.length&&o.PH_Widget.select(o.PH_Widget._data[1].value,!1,!1)},close:e.destroy.bind(e),destroy:function(){PH.off(n.form,"submit",i),n.options.useWindowHash&&(window.history.scrollRestoration="auto")}}),PH.Validator.addValidatorToForm(PH.q("form",this.modal.element()),{validateOnBlur:!0},{}),e.open()}},{key:"renderShowroomData",value:function(e){var i=this;sapi.getProductReservationDeliveryPoints({form:PH.q(".localities-container",this.modal.element())},{value:e.target.value}).then(function(e){var t=PH.q(".info-message",i.modal.element()),n=PH.q(".showroom-info-data",i.modal.element());n.innerHTML=EM.TMPL.exec(i.showroomTemplatePath,e.data),i.selectedShowroom=e.data,PH.addClass(t,"hidden"),PH.removeClass(n,"hidden")})}},{key:"renderShowrooms",value:function(t){var n=this,e=PH.q(".info-message",this.modal.element()),i=PH.q("select.js-modal-showroom",this.modal.element()),o=this.offerData.showrooms.filter(function(e){return e.name===t.target.value}),a=PH.q(".showroom-info-data",this.modal.element());PH.disable(i),PH.removeClass(e,"hidden"),PH.addClass(a,"hidden"),i.options.length=0,this.createOption(i,"",EM.trans("Select"),!0),o.map(function(e){n.createOption(i,e.common_key,e.showroom)}),PH.enable(i),i.PH_Widget.reset(),2===i.options.length&&i.PH_Widget.select(i.PH_Widget._data[1].value,!1,!1)}},{key:"createOption",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",i=3<arguments.length&&void 0!==arguments[3]&&arguments[3],o=document.createElement("option");o.value=t,o.innerText=n,o.disabled=i,e.appendChild(o)}}]),t}();EM.ProductShowroomReservationModal=e,PH.domReady(function(){new EM.ProductShowroomReservationModal})}(),sapi.reserveProductInShowroomAction=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ajax({url:"".concat(EM.sapi_endpoint,"/product-reservation/").concat(e.offer_id),type:"json",method:"post",crossOrigin:!0,form:e.form,headers:{"X-Request-Source":"www","X-Tokens":EM.token},data:PH.extend({source_id:7},t)})},sapi.getProductReservationDeliveryPoints=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ajax({url:"".concat(EM.sapi_endpoint,"/delivery-points/").concat(t.value),type:"json",method:"get",crossOrigin:!0,form:e.form,headers:{"X-Request-Source":"www","X-Tokens":EM.token},data:PH.extend({source_id:7},t)})},function(n){var f=n.bool,g=n.escape_html,v=n.filter,u=n.for,_=n.include,p=n.number,m=n.operator,y=n.out,e=n.register,h=n.string,b=n.index,l=n.global;e("@Components/SearchBox/templates/shopping-assistant-suggestion.html.twig",function(){return n.t({$main:function(e){var t,n=e.configurator;return y([(n=v.default(n,null),""),(t=v.default(b(n,"name"),""),""),(e=v.default(b(n,"image"),null),""),f(n)?y(['<a href="',g(v.addQueryParam(b(b(n,"url"),"path"),{ref:b(n,"ref")})),'" class="semibold zoovu-search-suggestion">',f(e)?y(['<img src="',g(e),'" class="em img-holder" alt="Shopping assistant icon" />']):"",f(t)?y(['<span class="searchbox-suggestion-highlight">',g(t),"</span>"]):"","</a>"]):""])}})}),e("@Components/SearchBox/templates/item.html.twig",function(){return n.t({$main:function(e){var t=e.extra_classes,n=e.item,i=e.index,o=e.icon_class,a=e.query,s=e.highlight_keywords,e=e.useDashSeparator;return y(["<li",f(t)?y([' class="',g(t),'"']):"",">\n    ",y(f(v.default(b(n,"html"),!1))?["\n        ",b(n,"html"),"\n    "]:f(v.default(b(n,"is_special_suggestion"),!1))?[_("@Components/SearchBox/templates/shopping-assistant-suggestion.html.twig",{configurator:n})]:['\n        <a href="',g(v.addQueryParam(b(b(n,"url"),"path"),{ref:v.default(b(n,"ref"),"autosuggest_keyword"+h(i))})),'" class="searchbox-suggestion-result searchbox-active-item">\n            <i class="em ',g(v.default(o,"em-search")),' hidden-xs"></i>\n            <span class="searchbox-suggestion-title">',y(f(b(n,"redirect_label"))?[g(b(n,"redirect_label"))]:[y(f(a)?[(o=v.slice(b(n,"name"),0,v.length(a)),""),(a=v.slice(b(n,"name"),v.length(a)),""),y(f(s)?['<span class="searchbox-suggestion-highlight">',g(o),"</span>",g(a)]:['<span class="searchbox-suggestion-highlight">',g(h(o)+h(a)),"</span>"])]:[g(b(n,"name"))])]),"</span>",f(b(n,"category"))?y([y(f(e)?[" - "]:[" ",g("в")," "]),'\n                <span class="searchbox-suggestion-category">',g(b(b(n,"category"),"name")),"</span>"]):"","</a>",!f(b(b(n,"category"),"name"))&&0<i?y(['<a href="javascript: void(0)" class="searchbox-autocomplete hidden-sm hidden-md hidden-lg"><i class="em em-go-up"></i></a>']):""]),"</li>\n"])}})}),e("@Components/SearchBox/templates/suggestions.html.twig",function(){return n.t({$main:function(e){var n,t=e.black_friday_query,i=e.query,o=e.locale,a=e.resealed_query,s=e.items,r=e.highlight_keywords,c=e.indexKeyword,e=e.categories;return y(["<p><strong>",g("Препоръчани търсения"),'</strong></p>\n<ul class="nav nav-searchbox searchbox-suggestions-list">',(n=0,""),f(t)?y([(t=v.merge(t,{category:{name:b(t,"black_friday")}}),""),_("@Components/SearchBox/templates/item.html.twig",{item:t,query:i,index:0,icon_class:"em-search_fill",highlight_keywords:!0,extra_classes:"searchbox-bf-suggestion",useDashSeparator:"hu"==o}),(n=p(n)+1,"")]):"",f(a)?y([(a=v.merge(a,{category:{name:"Разопакован"}}),""),_("@Components/SearchBox/templates/item.html.twig",{item:a,query:i,index:0,highlight_keywords:!0,extra_classes:"searchbox-resealed-suggestion",useDashSeparator:"hu"==o}),(n=p(n)+1,"")]):"",u(s,function(e,t){return e?y([_("@Components/SearchBox/templates/item.html.twig",{item:t,index:p(b(e,"index0"))+p(n),query:i,highlight_keywords:f(r)||1==c||f(b(t,"category"))||f(b(t,"redirect_label")),useDashSeparator:"hu"==o})]):""}),"</ul>",f(e)?y(["<p><strong>",g("Релевантни категории"),'</strong></p>\n    <ul class="nav nav-searchbox searchbox-categories-list">',u(e,function(e,t){return e?y(['<li>\n                <a href="',g(b(b(t,"url"),"path")),'?ref=search_autosuggest" class="searchbox-active-item">',g(b(t,"name")),"</a>\n            </li>"]):""}),"</ul>"]):"",'<a href="javascript:void(0)" class="searchbox-back-to-site hidden-sm hidden-md hidden-lg"><i class="em em-go-left"></i>',g("Обратно в eMAG"),"</a>\n"])}})}),e("@Components/SearchBox/templates/trending.html.twig",function(){return n.t({$main:function(e){var t=e.category,e=e.trending;return y(["<p>\n    <strong>",y(null!=t&&f(t)?[g("Популярни търсения в")," ",g(t)]:[g("Популярни търсения")]),'</strong>\n</p>\n<ul class="nav nav-searchbox searchbox-trending">',u(e,function(e,t){return e?y(['<li>\n            <a href="/search/',g(v.url_encode(b(t,"fraze"))),'?ref=trending" class="searchbox-active-item">\n                <i class="em em-trending"></i>',g(b(t,"fraze")),"</a>\n        </li>"]):""}),'</ul>\n<a href="javascript:void(0)" class="searchbox-back-to-site hidden-sm hidden-md hidden-lg"><i class="em em-go-left"></i>',g("Обратно в eMAG"),"</a>\n"])}})}),e("@Components/SearchBox/templates/history.html.twig",function(){return n.t({$main:function(e){e=e.history;return y(["<p><strong>",g("История на търсенията"),'</strong></p>\n<ul class="nav nav-searchbox searchbox-history">',u(e,function(e,t){return e?y(['<li>\n            <a href="#" class="searchbox-active-item">\n                <i class="em em-search"></i>',g(t),"</a>\n        </li>"]):""}),"</ul>\n"])}})}),e("@Components/Notification/template.html.twig",function(){return n.t({$main:function(e){var t=e.image,n=e.icon_class,i=e.no_close_button,o=e.class_outer,a=e.title,s=e.content,r=e.link,e=e.secondaryLink;return y([(t=v.default(t,!1),""),(n=v.default(n,!1),""),(i=v.default(i,!1),""),'<div class="',o,'">\n    <div class="ns-box-inner">\n        ',f(t)||f(n)?y(['\n            <div class="thumbnail-wrapper inline-block">\n                <div class="thumbnail">\n                    ',f(t)?y(['\n                        <img src="',g(t),'" alt="Image">\n                    ']):f(n)?y(['\n                        <i class="',g(n),'"></i>\n                    ']):"","\n                </div>\n            </div>\n        "]):"",'\n        <div class="ns-content inline-block">\n            ',f(v.default(a,!1))?y(['\n                <h4 class="ns-content-title">',a,"</h4>\n            "]):"","\n            ",s,"\n            ",f(v.default(r,!1))||f(v.default(e,!1))?y(['\n                <p class="ns-content-footer">\n                    ',f(v.default(r,!1))?y(['\n                        <a data-ntf="close" href="',g(b(r,"uri")),'" target="',g(b(r,"target")),'" class="',g(b(r,"class_name")),'">',g(b(r,"link_name")),"</a>\n                    "]):"","\n                    ",f(v.default(e,!1))?y(['\n                        <a data-ntf="close" href="',g(b(e,"uri")),'" target="',g(b(e,"target")),'" class="',g(b(e,"class_name")),'">',g(b(e,"link_name")),"</a>\n                    "]):"","\n                </p>\n            "]):"","\n        </div>\n        ",f(i)?"":y(['\n            <button class="close" data-ntf="close"><i class="em em-close"></i></button>\n        ']),"\n    </div>\n</div>\n"])}})}),e("@Components/Notification/templates/ribbon.html.twig",function(){return n.t({$main:function(e){var t=e.type,n=e.title,i=e.content,o=e.link,e=e.secondaryLink;return y([(t=v.default(t,""),""),(n=v.default(n,""),""),(i=v.default(i,""),""),(o=v.default(o,null),""),(e=v.default(e,null),""),'<div class="pad-sep-xs ribbon-type ribbon-type-',g(t),'">\n    <div class="container relative">\n        <div class="table-layout block-sm-layout">\n            <div class="table-cell ribbon-title font-size-md semibold">',n,'</div>\n            <div class="table-cell pad-hrz-xs ribbon-content font-size-sm">',i,"</div>\n            ",f(o)?y(['\n                <div class="table-cell pad-rgt-lg ribbon-action">\n                    <a data-ntf="close" href="',g(b(o,"uri")),'" target="',g(b(o,"target")),'" class="btn btn-block btn-rounded btn-sm pad-hrz-sm ',g(b(o,"class_name")),'">',g(b(o,"link_name")),"</a>\n                </div>\n            "]):"",'\n            <button class="close font-size-xs" data-ntf="close"><i class="em em-close"></i></button>\n        </div>\n    </div>\n</div>'])}})}),e("@Components/Notification/templates/header-notification.html.twig",function(){return n.t({$main:function(e){return y(["<div class=\"header-notification no-padding js-notification-ribbon\">\n    <script>document.body.classList.add('has-header-notification');<\/script>\n</div>"])}})}),e("@Components/StarRating/template.html.twig",function(){return n.t({$main:function(e){var t,n=e.rating,i=e.size,o=e.text,a=e.inputName,s=e.input,r=e.required,c=e.inputAttributes,l=e.gtm,d=e.ratingNumber;return y([(t="star-rating",""),"",(n=v.default(n,0),""),e="",null!=i?y([(i=" "+h(t)+"-"+h(i),"")]):"",null!=o?y([""]):"",(a=v.default(a,"star"),""),null!=s?y([(e=h(e)+" "+h(t)+"-input","")]):"",null==r?y([(r=!1,"")]):"",(c=v.default(c,{}),""),(l=" "+h(v.default(l,"")),""),y(null!=s?['<div class="',g(t)," ",g(t),"-input ",g(i)," ",g(e),g(l),'">\r\n        <div class="',g(t),"-inner",g(l),'">',u(m[".."](1,5),function(e,t){return e?y(['<button type="button" class="em em-star_fill',g(l),g(t==1+p(v.round(p(5)-p(n),0,"ceil"))?" active":""),'" data-rating="',g(p(5)-p(t)+1),'"></button>']):""}),'</div>\r\n        <input type="hidden" name="',g(a),'" value="',g(n),'"',f(r)?y(["required"]):"","\r\n            ",v.join(v.map(c,function(e,t){return h(t)+"='"+h(e)+"'"})," "),"\r\n        >\r\n    </div>",null!=o?y(['<div class="',g(t),'-text">',o,"</div>"]):""]:['<div class="',g(t)," ",g(t),"-read rated-",g(n)," ",g(i)," ",g(e),g(l),'">\r\n        <div class="',g(t),"-inner",g(l),'" style="width: ',g(p(n)*(100/p(5))),'%"></div>\r\n    </div>',null!=o?y(['<div class="',g(t),"-text",g(l),'">\r\n            <span class="hidden-xs',g(l),'">',o,"</span>",null!=d?y(['<span class="visible-xs-inline-block',g(l),'">(',g(d),")</span>"]):"","</div>"]):""])])}})}),e("@Components/AdminNotifications/templates/addReviewNotification.html.twig",function(){return n.t({$main:function(e){e=e.product;return y(["<strong>",g("Доволен от покупката?"),"</strong>\n<p>",g("Сподели твоето обективно мнение за продукта."),'</p>\n<a href="',g(v.addQueryParam("/product-feedback"+h(b(e,"product_uri"))+"review/add","ref","notif_add-review_btn")),'" class="btn btn-primary mrg-top-xs btn-sm">',g("Добави ревю"),"</a>"])}})}),e("@Components/AdminNotifications/templates/in-page-voucher-campaign.html.twig",function(){return n.t({$main:function(e){var t=e.type,n=e.title,i=e.isConfirmation,o=e.content,a=e.link,e=e.secondaryLink;return y(['<div class="voucher-campaign-container js-voucher-campaign-container pad-hrz-xs pad-sep-sm">\n    <div class="vc-content text-center">\n        <div class="vc-icon vc-icon-',g(v.default(t,"standard")),'"><span>',g("voucher"==v.default(t,"")?"%":"!"),'</span></div>\n        <div class="vc-body pad-sep-sm pad-hrz-xs">',f(v.default(n,!1))?y(['<div class="vc-title font-bold text-danger mrg-btm-sm">',n,"</div>"]):"",f(v.default(i,!1))?y(['<div class="mrg-btm-sm text-center">\n                    <span class="jewel jewel-sm jewel-transparent vc-jewel">\n                        <i class="em em-check text-success"></i>\n                    </span>\n                </div>']):"",o,"</div>",f(v.default(a,!1))||f(v.default(e,!1))?y(['<div class="vc-footer">\n                <div class="vc-separator">\n                    <div class="arrow arrow-right"></div>\n                    <div class="arrow arrow-left"></div>\n                </div>',f(v.default(a,!1))?y(['<a href="',g(b(a,"uri")),'" target="',g(b(a,"target")),'" class="',g(b(a,"class_name")),' btn btn-link btn-block semibold js-vc-link pad-sep-xs">',g(b(a,"name")),"</a>"]):"",f(v.default(e,!1))?y(['<a href="',g(b(e,"uri")),'" target="',g(b(e,"target")),'" class="',g(b(e,"class_name")),' btn btn-link btn-block semibold js-vc-link pad-sep-xs">',g(b(e,"name")),"</a>"]):"","</div>"]):"","</div>\n</div>\n"])}})}),e("@Components/GDPRNotification/templates/dropdown.html.twig",function(){return n.t({$main:function(e){e=e.user;return y(['<div class="gdpr-dropdown text-center">\n    <div class="mrg-btm-sm">\n        <strong>',g(v.trans("Hello, %username%",{"%username%":e})),',</strong>\n    </div>\n    <div class="mrg-btm-sm gdpr-primary">\n        <strong>',g("Отдели малко време за обновяване на акаунта си"),'</strong>\n    </div>\n    <div class="mrg-btm-sm">',g("Моля, да потвърдиш на каква възраст си – избери от опциите по-долу, нужен е само 1 клик. Така ще можем да те информираме за новостите в eMAG."),'</div>\n    <button class="pho-btn mrg-btm-sm btn btn-primary js-gdpr-notification-confirm">',g("Да, аз съм над 16 години"),'</button>\n    <button class="pho-btn mrg-btm-xs btn btn-default js-gdpr-notification-deny">',g("Не, нямам 16 години"),"</button>\n</div>\n"])}})}),e("@Components/GDPRNotification/templates/modal.html.twig",function(){return n.t({$main:function(e){e=e.year;return y(['<div class="text-center gdpr-modal">\n    <div class="mrg-sep-sm headline">',g("Отдели малко време за обновяване на акаунта си"),'</div>\n    <div class="pad-sep-sm border-top border-bottom mrg-btm-sm">\n        <div class="container content">\n            <img class="mrg-btm-sm" src="//',g(l("CDN")),'/layout/all/static-upload/u24.png" />\n            <div class="mrg-btm-sm gdpr-primary">\n                <strong>',g("Попълни датата си на раждане"),'</strong>\n            </div>\n            <div class="mrg-btm-sm">',g("Така ще можем да ти изпращаме всичките си актуални оферти."),'</div>\n        </div>\n    </div>\n    <div class="container content">\n        <p>',g("Твоята дата на раждане е"),'</p>\n        <form class="js-gdpr-form">\n            <div class="mrg-btm-xs row">\n                <div class="col-xs-12 col-sm-4">\n                    <div class="form-group">\n                        <select class="form-control js-gdpr-day" data-photon="Select" data-phino="Select" required>\n                            <option value="" selected disabled>',g("Ден"),"</option>\n                            ",u(m[".."](1,31),function(e,t){return e?y(['\n                                <option value="',t<10?y(["0"]):"",g(t),'">',t<10?y(["0"]):"",g(t),"</option>\n                            "]):""}),'\n                        </select>\n                    </div>\n                </div>\n                <div class="col-xs-12 col-sm-4">\n                    <div class="form-group">\n                        <select class="form-control js-gdpr-month" data-photon="Select" data-phino="Select" required>\n                            <option value="" selected disabled>',g("Месец"),"</option>\n                            ",u(m[".."](1,12),function(e,t){return e?y(['\n                                <option value="',t<10?y(["0"]):"",g(t),'">',t<10?y(["0"]):"",g(t),"</option>\n                            "]):""}),'\n                        </select>\n                    </div>\n                </div>\n                <div class="col-xs-12 col-sm-4">\n                    <div class="form-group">\n                        <select class="form-control js-gdpr-year" data-photon="Select" data-phino="Select" required>\n                            <option value="" selected disabled>',g("Година"),"</option>\n                            ",u(m[".."](p(e)-10,1920),function(e,t){return e?y(['\n                                <option value="',g(t),'">',g(t),"</option>\n                            "]):""}),'\n                        </select>\n                    </div>    \n                </div>    \n            </div>\n            <div class="errors"></div>\n            <button class="pho-btn btn btn-block btn-primary js-gdpr-notification-save">',g("Попълни датата си на раждане"),'</button>\n            <button class="pho-btn mrg-btm-sm btn btn-link js-gdpr-notification-later">',g("може би по-късно"),"</button>\n        </form>\n    </div>\n</div>\n"])}})}),e("@Components/CookiePolicyTabs/template.html.twig",function(){return n.t({$main:function(e){var t=e.groups,i=e.groupsEnabled,o=e.noCookieInteraction;return y(['<form class="panel mrg-sep-none mrg-hrz-none border-none clearfix cookie-preferences-form js-cookie-preferences-form">\n    <div class="cookie-tabs-content">\n        <ul class="nav nav-pills nav-stacked ph-tabs cookie-category-tabs pull-left" data-phino="Tabs">\n            <li role="presentation" class="active">\n                <a href="#your-preferences" class="text-gray-dark" role="tab" data-toggle="tab" aria-controls="your-preferences">\n                    ',g("Вашите предпочитания за бисквитки"),"\n                </a>\n            </li>\n            ",u(t,function(e,t){return e?y(['\n                <li role="presentation"',f(b(t,"activeTab"))?y([' class="active"']):"",'>\n                    <a href="#',g(b(t,"id")),'" class="text-gray-dark ',g(b(t,"class")),'" role="tab" data-toggle="tab" aria-controls="',g(b(t,"id")),'">\n                        ',g(b(t,"label")),"\n                    </a>\n                </li>\n            "]):""}),'\n        </ul>\n        <div class="tab-content border-none pull-left">\n            <div class="tab-pane fade active in pad-hrz-xs pad-sep-xs" role="tabpanel" id="your-preferences">\n                <div class="row">\n                    <div class="col-xs-12">\n                        ',v.trans("gdpr_modal_your_preferences_tab_text",{"%view_more_btn%":'<a href="#" data-ph-target="#your-preferences-list-wrapper" data-ph-init-size="0" data-ph-label-always="true" data-ph-end-label="'+h("виж по-малко")+'" data-phino="CollapseOne" class="js-show-more text-muted">'+h("виж повече")+"</a>"}),'\n                    </div>\n                    <div id="your-preferences-list-wrapper" class="col-xs-12 cookie-list-wrapper"></div>\n                </div>\n            </div>\n            ',u(t,function(e,n){return e?y(['\n                <div class="tab-pane fade ',f(b(n,"activeTab"))?y([" active"]):"",' in pad-hrz-xs pad-sep-xs" role="tabpanel" id="',g(b(n,"id")),'">\n                    <div class="mrg-btm-xs clearfix group-tab-header">\n                        <strong class="group-title',g(f(b(n,"is_mandatory"))?" mandatory-group":""),'">',g(b(n,"label")),"</strong>\n                        ",f(i)?y(["\n                            ",y(f(b(n,"is_mandatory"))?['\n                                <strong class="mandatory-notice text-muted">',g("задължителни"),"</strong>\n                            "]:["\n                                ",e="","\n                                ",y(-1==b(n,"current_status")?["\n                                    ",(e=" no",""),"\n                                "]:0==b(n,"current_status")?["\n                                    ",(e=" maybe",""),"\n                                "]:["\n                                    ",(e=" yes",""),"\n                                "]),"\n                                ",f(o)?y(["\n                                    ",(e=" no-interaction",""),"\n                                "]):"",'\n                                <div class="accept-reject-radio',g(e),'">\n                                    <strong class="text-danger">',g("неактивен"),'</strong>\n                                    <strong class="text-warning">',g("частично активен"),'</strong>\n                                    <strong class="text-success">',g("активни"),'</strong>\n                                    <strong class="no-interaction-text text-muted">',g("избери опция"),'</strong>\n                                    <div class="radio-container">\n                                        <input id="',g(b(n,"id")),'-radio-0" data-group-type-id="',g(b(n,"type_id")),'" data-group-type="',g(b(n,"type")),'" type="radio" name="cookie_group[',g(b(n,"id")),']" value="0"',g(-1==b(n,"current_status")?" checked":""),'>\n                                        <label for="',g(b(n,"id")),'-radio-0" class="mrg-btm-none">',g("He"),'</label>\n                                        <input id="',g(b(n,"id")),'-radio-1" data-group-type-id="',g(b(n,"type_id")),'" data-group-type="',g(b(n,"type")),'" type="radio" name="cookie_group[',g(b(n,"id")),']" value="1"',g(1==b(n,"current_status")?" checked":""),'>\n                                        <label for="',g(b(n,"id")),'-radio-1" class="mrg-btm-none">',g("Да"),"</label>\n                                    </div>\n                                </div>\n                            "]),"\n                        "]):"",'\n                    </div>\n                    <div class="row">\n                        <div class="col-xs-12">\n                            ',b(n,"content_text"),'\n                        </div>\n                        <div id="',g(b(n,"id")),'-list-wrapper" class="col-xs-12 cookie-list-wrapper">\n                            ',u(b(n,"cookieData"),function(e,t){return e?y(['\n                                <div class="checkbox checkbox-custom" title="',g(b(t,"name")),'">\n                                    <input id="group_id_',g(b(t,"id")),'" data-id="',g(b(t,"id")),'" data-group-id="',g(b(n,"id")),'" class="js-cookie-checkbox" data-cookie-type-id="',g(b(t,"type_id")),'" data-cookie-type="',g(b(t,"type")),'" type="checkbox" name="group_id_',g(b(t,"id")),'" value="1"',g(f(b(t,"is_accepted"))?" checked":""),g(f(b(t,"is_mandatory"))?" disabled":""),'>\n                                    <label for="group_id_',g(b(t,"id")),'" >\n                                        ',g(v.upper(b(t,"name"))),'\n                                        <span class="cookie-description">',v.default(b(t,"description"),""),"</span>\n                                    </label>\n                                </div>\n                            "]):""}),"\n                        </div>\n                    </div>\n                </div>\n            "]):""}),'\n        </div>\n    </div>\n    <div class="cookie-tabs-btns pad-hrz-sm pad-sep-xs text-right">\n        <button class="mrg-hrz-xs btn btn-default js-save-partial hidden">',g("Запази избраното"),'</button>\n        <button class="gtm_h135197r btn btn-primary js-save-all" type="submit">',g("Разбирам"),"</button>\n    </div>\n</form>"])}})}),e("@Components/CookiePolicyModal/template.html.twig",function(){return n.t({$main:function(e){return y(['<div class="modal-body pad-sep-none pad-hrz-none"></div>'])}})}),e("@Components/GDPRCookieBanner/template.html.twig",function(){return n.t({$main:function(e){var t,n=e.acceptGtm,i=e.laterGtm,o=e.groupsEnabled;return y([(n=f(n)?" "+h(n):"",""),(i=f(i)?" "+h(i):"",""),(t=" col-xs-7 col-sm-6",""),(e=" col-xs-5 col-sm-6 js-later",""),"",f(v.default(o,!(o="Може би по-късно")))?y([(t=" btn-block",""),(e=" btn-block js-change-settings",""),(o="управлявай предпочитанията","")]):"",'\n\n<div class="gdpr-cookie-banner js-gdpr-cookie-banner pad-sep-xs pad-hrz-none">\n    <div class="container">\n        <div class="cookie-banner-content col-xs-12 col-sm-7 col-md-8 col-lg-9">\n            <p class="cookie-banner-text mrg-btm-none">\n                ',v.trans("We use cookies and similar technologies to display site content and improve navigation experience. In %link% section you can find details and management options.",{"%link%":'<a class="gtm_lmqn0slxa4" href="'+h("/info/politika-za-izpolzvane-na-biskvitki")+'" target="_blank">'+h("Политика за използване на бисквитки")+"</a>"}),'\n            </p>\n            <div class="cookie-banner-text-overlay visible-xs visible-sm"></div>\n        </div>\n        <div class="col-xs-12 col-sm-5 col-md-4 col-lg-3 cookie-banner-buttons">\n            <button class="btn btn-primary js-accept',g(n),g(t),'">',g("Разбирам"),'</button>\n            <button class="btn btn-link',g(i),g(e),'">',g(o),"</button>\n        </div>\n    </div>\n</div>"])}})}),e("@Components/GDPRCookieBanner/login-notification-template.html.twig",function(){return n.t({$main:function(e){return y(['<div class="container">\n    <div class="gdpr-banner-inner">\n        <div class="content-wrap">\n            <p class="semibold hidden-xs">\n                ',"Влез в своя eMAG акаунт",'\n            </p>\n            <p class="long-text">\n                <span class="visible-xs">\n                    ',"<strong> Влез в своя eMAG акаунт </strong> за достъп до любимите ти продукти и персонализирани оферти.",'\n                </span>\n                <span class="hidden-xs">\n                    ',"Достъп до любимите ти продукти и персонализирани оферти.",'\n                </span>\n            </p>\n        </div>\n        <a href="/user/login?ref=jy0z2o9t" class="font-size-ms strong login-btn btn btn-primary js-login-btn">',"Влез акаунта си",'</a>\n    </div>\n    <button class="js-dismiss-login-notice-btn dismiss-btn btn btn-link pad-sep-none pad-hrz-none"><i class="em em-close"></i></button>\n</div>'])}})}),e("@Components/ABDebugTool/templates/modal-ab-debug-tool.html.twig",function(){return n.t({$main:function(e){var t=e.experiments,e=e.siteURL;return y([(t=v.default(t,[]),""),(e=v.default(e,""),""),'<div class="modal-ab-debug-tool js-modal-ab-debug-tool">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-label="',"Затвори",'">\n            <i class="em em-close"></i>\n        </button>\n        <p class="modal-title">',g(v.trans("List of active experiments")),'</p>\n    </div>\n    <div class="ab-modal-body font-size-ms">\n        <div class="row pad-sep-xs">\n            <div class="col-sm-1 col-xs-1">',g(v.trans("ID")),'</div>\n            <div class="col-sm-4 col-xs-4 ">',g("Заглавие"),'</div>\n            <div class="col-sm-3 col-xs-3">',g(v.trans("Variant")),'</div>\n            <div class="col-sm-1 col-xs-1">',g(v.trans("Can run")),'</div>\n            <div class="col-sm-1 col-xs-1">',g(v.trans("Allowed")),'</div>\n            <div class="col-sm-1 col-xs-1">',g(v.trans("Executed")),'</div>\n            <div class="col-sm-1 col-xs-1"></div>\n        </div>\n        <div class="ab-modal-body-content">',u(t,function(e,t){return e?y(['<div class="row ab-row">\n                    <div class="col-sm-1 col-xs-1 experiment-id">',g("[#"+h(b(t,"id"))+"]"),'</div>\n                    <div class="col-sm-4 col-xs-4 experiment-title">',g(v.default(b(t,"title"),"-")),'</div>\n                    <div class="col-sm-3 col-xs-3 ',g(f(b(t,"variant"))?"":"variant-not-allocated"),'">',g(f(b(t,"variant"))?b(t,"variant"):"notAllocated"),'</div>\n                    <div class="col-sm-1 col-xs-1 strong ',g(f(b(t,"canRun"))?"text-success":"text-danger"),'">',g(f(b(t,"canRun"))?"Да":"He"),'</div>\n                    <div class="col-sm-1 col-xs-1 strong ',g(f(b(t,"isAllowed"))?"text-success":"text-danger"),'">',g(f(b(t,"isAllowed"))?"Да":"He"),'</div>\n                    <div class="col-sm-1 col-xs-1 ',g(f(b(t,"isExecuted"))?"experiment-executed":"experiment-not-executed"),'">',g(f(b(t,"isExecuted"))?"Да":"He"),'</div>\n                    <div class="col-sm-1 col-xs-1">',f(b(t,"isExecuted"))?"":y(['<div class="js-expand-experiment" data-experiment-id="',g(b(t,"id")),'">\n                                <img src="//',g(l("CDN")),'/layout/ro/static-upload/icon-plus.svg" alt="Icon" class="experiment-icon">\n                            </div>']),"</div>",f(b(t,"isExecuted"))?"":y(['<div class="js-experiment-details hide"></div>']),"</div>"]):""}),'<div class="purge-env">\n                <p class="inline-block--middle mrg-btm-none">',"Can't see your experiment?",'</p>\n                <a class="btn btn-default purge-env-btn" href="',g(h(e)+"/abtests.php?PURGE"),'">PURGE</a>\n            </div>\n        </div>\n    </div>\n</div>'])}})}),e("@Components/ABDebugTool/templates/modal-rules-details.html.twig",function(){return n.t({$main:function(e){e=e.rules;return y([(e=v.default(e,[]),""),'<div class="rules-container">',u(e,function(e,t){return e?y(['<div class="row pad-hrz-xs pad-sep-xs">\n            <span>\n                <i class="em ',g(f(b(t,"isSatisfied"))?"em-check rule-satisfied":0==b(t,"isSatisfied")?"em-close rule-dissatisfied":"em-question text-muted"),'"></i>\n            </span>\n            <div class="inline-block--middle rule-content">\n                <div class="rule-actual">',g(b(t,"actual")),'</div>\n                <span class="rule-type">',g(b(t,"type")),'</span>\n                <span class="rule-expected">',g(b(t,"expected")),"</span>\n            </div>\n        </div>"]):""}),"</div>"])}})}),e("@Components/Avatar/template.html.twig",function(){return n.t({$main:function(e){var t=e.app,n=e.size,i=e.avatar,o=e.modifier,a=e.hideImg,s=e.hideInitials,r=e.showEdit,c=e.geniusMembership,l=e.showGenius,d=e.disableLazy,e=e.resizedImages;return y([(v.default(t,{}),""),(n=v.default(n,null),""),(i=v.default(i,null),""),(o=f(v.default(o,null))?" user-avatar-"+h(o):"",""),(a=v.default(a,!1),""),(s=v.default(s,!1),""),(r=v.default(r,!1),""),(c=v.default(c,null),""),(l=v.default(l,!1),""),(t=v.default(b(i,"image"),{}),""),(d=v.default(d,!1),""),(e=null!=(t=null!=(t=null!=e?e:b(t,"resized_images"))?t:b(i,"resized_images"))?t:null,""),y(f(i)?['<div class="user-avatar',g(o),'">',f(r)?y([y(f(b(i,"path"))?['<div class="edit-avatar">\n                    <i data-phino="Dropdown" data-ph-position="bottom center" data-ph-open-on="click"\n                       data-avatar="',g(b(i,"path")),'" class="js-edit-avatar edit-avatar em em-edit"></i>\n                    <script type="text/html">\n                        <ul class="dropdown-menu small">\n                            <li><a href="#" class="upload-avatar-label"><label class="upload-avatar-label">',g("Качи изображение"),'<form class="hidden">\n                                    <input class="js-avatar-uploader" type="file"\n                                           accept=".gif,.jpg,.png,.jpeg" />\n                                </form>\n                            </label></a></li>\n                            <li><a href="#" class="js-avatar-delete">',g("Изтриване на изображението"),"</a></li>\n                        </ul>\n                    <\/script>\n                </div>"]:['<label class="edit-avatar">\n                    <form class="hidden"><input class="js-avatar-uploader" type="file"\n                                                accept=".gif,.jpg,.png,.jpeg" /></form>\n                    <i data-avatar="',g(b(i,"path")),'" class="js-edit-avatar edit-avatar em em-edit"></i>\n                </label>'])]):"",f(c)&&f(b(c,"is_expired"))&&f(b(b(c,"badge"),"icon"))?y(['<i class="em em-error_fill avatar-genius-expired"></i>']):"",f(l)?y(['<div class="avatar-genius"></div>']):"",'<div class="thumbnail" style="background-color: ',g(b(i,"background_color")),'">',y(f(s)?['<i class="em em-user"></i>']:['<span class="ini">',g(b(i,"initials")),"</span>\n            "]),f(b(i,"path"))&&!f(a)?y(['<div class="picture"\n                    ',y(f(d)?["\n                        style=\"background-image: url('",g(f(n)&&f(e)?v.getSize(e,n):b(i,"path")),"');\"\n                    "]:['\n                        data-background-image="',g(f(n)&&f(e)?v.getSize(e,n):b(i,"path")),'"\n                    ']),"></div>"]):"","</div>\n    </div>"]:['<div class="user-avatar',g(o),' inactive-account">\n        <div class="thumbnail">\n            <i class="em em-user"></i>\n        </div>\n    </div>'])])}})}),e("@Components/NavbarDropdowns/avatar.html.twig",function(){return n.t({$main:function(e){var t=e.app,n=e.user_avatar,i=e.has_club_membership,e=e.genius_membership;return y(['<div class="navbar-icon navbar-thumb">',_("@Components/Avatar/template.html.twig",{app:t,avatar:n,modifier:"ub",hideImg:!1,showGenius:i,geniusMembership:e,size:"34x34",disableLazy:!0}),"</div>\n"])}})}),e("@Components/NavbarDropdowns/templates/my-account-content.html.twig",function(){return n.t({$main:function(e){var t=e.isLoggedIn,n=e.username,i=e.showGreeting,o=e.refPrefix,e=e.menu;return y([(t=v.default(t,!1),""),(n=v.default(n,""),""),(i=v.default(i,!0),""),(o=v.default(o,!1),""),y(f(t)?[f(i)?y(["<p><strong>",g(v.trans("Hello, %username%",{"%username%":n})),"</strong></p>"]):"",'<ul class="dropdown-menu small">\n        <li class="divider"></li>',u(e,function(e,t){return e?y(["<li",f(b(b(t,"flags"),"is_selected"))?' class="active"':"",'>\n                <a href="',g(b(b(t,"url"),"path")),g(f(b(t,"ref"))?"?ref="+(f(o)?h(o)+"_":"")+h(b(t,"ref")):""),'">\n                    ',g(b(t,"title")),f(b(b(t,"flags"),"has_label"))?y([y("genius"==b(t,"label_raw")?['<img src="//',g(l("CDN")),'/layout/all/images/logo/genius/logo.svg" class="label-genius" alt="',g(v.trans("eMAG Genius")),'">']:"expired"==b(t,"label_raw")?['<span class="genius-expired"><i class="em em-error_fill"></i> ',g(b(t,"label")),"</span>"]:['<span class="label label-success text-uppercase mrg-lft-xxs">',g(b(t,"label")),"</span>"])]):"","</a>\n            </li>"]):""}),'<li class="divider"></li>\n        <li>\n            <a href="/user/logout?ref=ua_logout" class="js-logout-btn">',g("Изход"),"</a>\n        </li>\n    </ul>"]:['<div class="custom-dropdown-body">\n        <i class="em em-user_fill"></i>\n        <span class="small">',g("Влез в акаунта си и се възползвай от предимствата!"),'</span>\n    </div>\n    <div class="dropdown-footer">\n        <a href="/user/login?ref=hdr_login_btn" class="btn btn-primary btn-emag btn-sm">\n            <i class="em em-forward"></i>',g("влез в акаунт"),'</a>\n        <a href="/user/login?ref=hdr_signup_btn" class="btn btn-link btn-sm">',g("Нов акаунт"),"</a>\n    </div>"])])}})}),e("@Components/NavbarDropdowns/templates/my-cart-added.html.twig",function(){return n.t({$main:function(e){return y(['<div class="table-layout in-cart-notification">\n    <div class="table-cell col-xs-3 text-center">\n        <i class="em em-cart_fill"></i>\n    </div>\n    <div class="table-cell col-xs-9">',g("Продуктът беше добавен в количката."),"</div>\n</div>\n"])}})}),e("@Components/NavbarDropdowns/templates/bf-cart-content-timer.html.twig",function(){return n.t({$main:function(e){var t=e.bf_product_count,e=e.bf_timer;return y([(t=v.default(t,0),""),(e=v.default(e,"00:00:00"),""),'<div class="bf-cart-offer-notice">\n    <div class="bf-cart-offer-info">\n        ',v.trans("You have %products% in your cart with limited offer!",{"%products%":"<span>"+h(v.trans("%count% product|%count% products",{"%count%":t}))+"</span>"}),'\n    </div>\n    <div class="bf-cart-timer js-bf-cart-timer">',g(e),"</div>\n</div>\n"])}})}),e("@Components/Pricing/templates/new-price.html.twig",function(){return n.t({$main:function(e){var t=e.class_list,n=e.offer,i=e.price_from,e=e.smallest_price;return y([(t=f(t)?" "+h(t):"",""),(n=v.default(n,{}),""),(n=v.default(b(b(n,"price"),"current"),0),""),(i=v.default(i,!1),""),(e=v.default(e,{}),""),'<p class="product-new-price',g(t),'">',f(n)?y([y(f(i)?[v.trans("%from% %price%",{"%from%":'<span class="font-size-sm">'+h("от")+"</span>","%price%":v.raw(f(b(e,"current"))?v.moneyFormat(b(e,"current")):v.moneyFormat(n))})]:[v.moneyFormat(n)])]):"","</p>"])}})}),e("@Components/Pricing/templates/resealed-parent-price.html.twig",function(){return n.t({$main:function(e){e=e.offer;return y([(e=v.default(e,{}),""),f(v.default(b(b(b(e,"price"),"recommended_retail_price"),"is_visible"),!1))?y(["Ново",": ",v.moneyFormat(b(b(b(e,"price"),"recommended_retail_price"),"amount"))]):""])}})}),e("@Components/Pricing/templates/lowest-price-30-days.html.twig",function(){return n.t({$main:function(e){var t=e.offer,n=e.show_tooltip;return y([(t=v.default(t,{}),""),(n=null!=n&&n,""),(v.default(b(b(t,"price"),"discount"),{}),""),f(v.default(b(b(b(t,"price"),"lowest_price_30_days"),"is_visible"),!1))&&0<v.default(b(b(b(t,"price"),"lowest_price_30_days"),"amount"),0)?y([(e=y(['<i class="em em-info" data-phino="Dropdown" data-ph-align="W SW E SE" data-ph-content="',"Намалена цена (показва се като задраскана цена) представлява най-ниската цена, на която е продаван продукта през последните 30 дни.",'" data-ph-open-on="',g(f(l("IS_MOBILE"))?"click":"hover"),'"></i>']),""),(t="<s>"+h(v.raw(v.moneyFormat(b(b(b(t,"price"),"lowest_price_30_days"),"amount"))))+"</s>",""),"\r\n\r\n    ","","\r\n\r\n    ",y(["\r\n        ",f(l("IS_MOBILE"))&&f(n)?y(["\r\n            ",e,"\r\n        "]):"","\r\n\r\n        ",t,"\r\n\r\n        ",!f(l("IS_MOBILE"))&&f(n)?y(["\r\n            ",e,"\r\n        "]):"","\r\n    "])]):""])}})}),e("@Components/Pricing/templates/recommended-retail-price.html.twig",function(){return n.t({$main:function(e){var t=e.offer,n=e.show_tooltip,i=e.is_bundle;return y([(t=v.default(t,{}),""),(n=null!=n&&n,""),"",(e=v.raw(f(i=null!=i&&i)?"Това е сумата от цените на продуктите, продавани поотделно. Пакетната продажна цена е показана по -долу.":"Препоръчителна цена от доставчик. Продажната цена е обявена по-долу"),""),(i=h(v.raw(f(i)?"Без отстъпка":"ПЦД"))+": ",""),f(v.default(b(b(b(t,"price"),"recommended_retail_price"),"is_visible"),!1))?y([(e=y(['<i class="em em-info" data-phino="Dropdown" data-ph-align="W SW E SE" data-ph-content="',g(e),'" data-ph-open-on="',g(f(l("IS_MOBILE"))?"click":"hover"),'"></i>']),""),f(l("IS_MOBILE"))&&f(n)?y(["\r\n        ",e,"\r\n    "]):"","\r\n\r\n    ",g(i),v.moneyFormat(b(b(b(t,"price"),"recommended_retail_price"),"amount")),"\r\n\r\n    ",!f(l("IS_MOBILE"))&&f(n)?y(["\r\n        ",e,"\r\n    "]):""]):""])}})}),e("@Components/Pricing/templates/rrp-and-lp30d.html.twig",function(){return n.t({$main:function(e){var t=e.show_tooltip,n=e.is_bundle,i=e.offer;return y(["",(n=null!=n&&n,""),(e=y([_("@Components/Pricing/templates/lowest-price-30-days.html.twig",{offer:i,show_tooltip:t=null!=t&&t})]),""),(t=y([_("@Components/Pricing/templates/recommended-retail-price.html.twig",{offer:i,is_bundle:n,show_tooltip:t})]),""),y(f(v.default(b(b(b(i,"price"),"lowest_price_30_days"),"is_visible"),!1))&&f(v.default(b(b(b(i,"price"),"recommended_retail_price"),"is_visible"),!1))?[g(e)]:[g(t),"\r\n    ",g(e)])])}})}),e("@Components/Pricing/templates/deal.html.twig",function(){return n.t({$main:function(e){var t=e.show_deal,e=e.offer;return y([(t=v.default(t,!1),""),f(b(b(e,"flags"),"has_discount"))&&f(t)&&f(b(b(b(e,"price"),"discount"),"is_visible"))?y(['<p class="product-this-deal">\r\n    ',v.capitalize(b(b(b(e,"price"),"discount"),"label")),": ",g(v.raw("percent"==b(b(b(e,"price"),"discount"),"type")?h(b(b(b(e,"price"),"discount"),"percent"))+"%":v.moneyFormat(b(b(b(e,"price"),"discount"),"absolute")))),"\r\n</p>"]):""])}})}),e("@Components/Pricing/template.html.twig",function(){return n.t({$main:function(e){var t,n=e.flags,i=e.offer,o=e.has_resealed,a=e.used_and_unavailable,s=e.has_unfair_price,r=e.show_deal,c=e.show_rrp_cmmp,l=e.is_bundle,d=e.is_resealed,u=e.multiple_offer_count,p=e.current_price_prefix,m=e.smallest_price,h=e.show_tooltip;return y([(n=v.default(n,{}),""),(i=v.default(i,{}),""),(o=v.default(o,!1),""),(a=v.default(a,!1),""),(s=v.default(s,!1),""),(r=v.default(r,!1),""),(c=null==c||c,""),(l=null!=l&&l,""),(d=v.default(d,!1),""),(u=v.default(u,0),""),(p=v.default(p,""),""),(m=v.default(m,{}),""),(t=f(v.default(b(b(i,"flags"),"has_bundle_first"),!1))&&!(f(o)||f(a)),""),(h=null!=h&&h,""),(e=f(r)&&!f(s)&&f(b(b(i,"flags"),"has_discount"))&&f(b(b(b(i,"price"),"discount"),"is_visible")),""),(n=y([_("@Components/Pricing/templates/new-price.html.twig",{offer:f(t)?b(i,"bundle_first"):i,class_list:f(e)?"has-deal":"",price_from:v.default((f(b(n,"is_family"))||f(b(n,"has_family")))&&f(b(b(i,"price"),"is_min")),!1),smallest_price:m})]),""),(h=y([f(c)?y(['<p class="pricing rrp-lp30d">',y(f(d)?[_("@Components/Pricing/templates/resealed-parent-price.html.twig",{offer:f(t)?b(i,"bundle_first"):i})]:[_("@Components/Pricing/templates/rrp-and-lp30d.html.twig",{offer:f(t)?b(i,"bundle_first"):i,is_bundle:l,show_tooltip:h})]),"</P>"]):""]),""),y(f(o)||f(a)||f(s)&&!f(l)&&1<u?[f(o)||f(a)?y(['<p class="pricing rrp">',_("@Components/Pricing/templates/resealed-parent-price.html.twig",{offer:f(t)?b(i,"bundle_first"):i}),"</P>"]):"",_("@Components/Pricing/templates/new-price.html.twig",{offer:i,class_list:f(s)?"unfair-price":"",price_from:!0,smallest_price:m})]:[g(h),f(p)?y(['\r\n        <p class="product-price-prefix">',g(p),"</p>\r\n    "]):"",g(n)]),f(s)?"":y([_("@Components/Pricing/templates/deal.html.twig",{offer:i,show_deal:r})])])}})}),e("@Components/NavbarDropdowns/templates/my-cart-content.html.twig",function(){return n.t({$main:function(e){var t=e.isRequestDone,n=e.linesData,i=e.totalProducts,o=e.total,a=e.subtotal,s=e.bf_product_count,r=e.bf_timer,e=e.layout_data;return y([(t=v.default(t,!1),""),(n=v.default(n,[]),""),(i=v.default(i,0),""),(v.default(o,0),""),(a=v.default(a,0),""),(s=v.default(s,0),""),(r=v.default(r,null),""),f(b(e,"is_bf"))&&0<s&&f(r)?y([_("@Components/NavbarDropdowns/templates/bf-cart-content-timer.html.twig",{layout_data:e,bf_product_count:s,bf_timer:r})]):"",y(f(t)?[y(f(v.length(n))?['<div class="nav-product-list-wrapper">\n            <p class="font-size-xs text-primary text-center">',g(v.upper("Наскоро добавени")),'</p>\n            <div class="nav-product-list">\n                <div class="nav-product-list-group">',u(n,function(e,n){var i,o;return e?y(['<div class="nav-product-container ',null!=b(n,"line_bundles")&&f(v.length(b(n,"line_bundles")))?y(["is-bundle"]):"",'">\n                            ',y(null!=b(n,"line_bundles")&&f(v.length(b(n,"line_bundles")))?[(e=b(n,"line_bundles"),""),f(b(n,"display_as_metro"))?y([(i=b(n,"multiplier"),""),(o=b(n,"quantity"),""),(e=[b(b(n,"line_bundles"),0)],"")]):"",'<div class="nav-title-bundle-line bundle-title">',g("Промо пакет"),"</div>",u(e,function(e,t){return e?y(['<div class="nav-product-line">\n                                        ','\n                                        <a href="',g(b(t,"link")),'?ref=cart_item" class="nav-product-line_link">\n                                            ','\n                                            <div class="nav-product-line_image">\n                                                <div class="thumbnail-wrapper">\n                                                    <div class="thumbnail">\n                                                        <img src="',g(b(t,"image")),'" alt="Product Thumbnail">\n                                                    </div>\n                                                </div>\n                                            </div>\n\n                                            ','\n                                            <div class="nav-product-line_title">\n                                                ',"\n                                                ",g(f(i)?h(i)+"x ":""),b(t,"name"),"</div>\n                                        </a>\n\n                                        ",'\n                                        <div class="nav-product-line_qty">x\n                                            ',"\n                                            ",g(f(o)?o:b(t,"quantity")),"\n                                        </div>\n\n                                        ",f(b(e,"first"))?y(['\n                                            <div class="nav-product-line_price">',_("@Components/Pricing/template.html.twig",{offer:{price:{current:b(n,"line_total")}},show_rrp_cmmp:!1,show_deal:!1}),"</div>"]):"","</div>\n\n                                    ",f(v.length(b(t,"services")))?y([u(b(t,"services"),function(e,t){return e?y(['<div class="font-size-xs pad-sep-xs text-primary strong">',g(b(b(t,"serviceProductInfo"),"mini_cart_label")),'</div>\n                                            <div class="nav-product-line">\n                                                ','\n                                                <a href="',g(b(t,"link")),'" class="nav-product-line_link">\n                                                    ','\n                                                    <div class="nav-product-line_image">\n                                                        <div class="thumbnail-wrapper">\n                                                            <div class="thumbnail">\n                                                                <img src="',g(b(t,"image")),'" alt="Product Thumbnail">\n                                                            </div>\n                                                        </div>\n                                                    </div>\n\n                                                    ','\n                                                    <div class="nav-product-line_title">',b(t,"name"),"</div>\n                                                </a>\n\n                                                ",'\n                                                <div class="nav-product-line_qty">x',g(b(t,"quantity")),"</div>\n\n                                                ",'\n                                                <div class="nav-product-line_price">',_("@Components/Pricing/template.html.twig",{offer:{price:{current:b(t,"priceWithVat")}},show_rrp_cmmp:!1,show_deal:!1}),"</div>\n                                            </div>"]):""})]):"",f(v.length(b(t,"gifts")))?y([u(b(t,"gifts"),function(e,t){return e?y(['<div class="font-size-xs pad-sep-xs text-primary strong">+',g("Подарък"),'</div>\n                                            <div class="nav-product-line">\n                                                ','\n                                                <a href="',g(b(t,"link")),'" class="nav-product-line_link">\n                                                    ','\n                                                    <div class="nav-product-line_image">\n                                                        <div class="thumbnail-wrapper">\n                                                            <div class="thumbnail">\n                                                                <img src="',g(b(t,"image")),'" alt="Product Thumbnail">\n                                                            </div>\n                                                        </div>\n                                                    </div>\n\n                                                    ','\n                                                    <div class="nav-product-line_title">',b(t,"name"),"</div>\n                                                </a>\n\n                                                ",'\n                                                <div class="nav-product-line_qty">x',g(b(t,"quantity")),"</div>\n                                            </div>"]):""})]):"",f(b(e,"last"))?"":y(['<div class="clearfix">\n                                            <div class="nav-product-line_plus">\n                                                <span class="plus-bundle">+</span>\n                                            </div>\n                                        </div>'])]):""})]:['<div class="nav-product-line">\n                                    ','\n                                    <a href="',g(b(b(n,"line_main"),"link")),'?ref=cart_item" class="nav-product-line_link">\n                                        ','\n                                        <div class="nav-product-line_image">\n                                            <div class="thumbnail-wrapper">\n                                                <div class="thumbnail">\n                                                    <img src="',g(b(b(n,"line_main"),"image")),'" alt="Product Thumbnail">\n                                                </div>\n                                            </div>\n                                        </div>\n\n                                        ','\n                                        <div class="nav-product-line_title">',b(b(n,"line_main"),"name"),"</div>\n                                    </a>\n\n                                    ",'\n                                    <div class="nav-product-line_qty">x',g(b(b(n,"line_main"),"quantity")),"</div>\n\n                                    ",'\n                                    <div class="nav-product-line_price">',_("@Components/Pricing/template.html.twig",{offer:{price:{current:b(n,"line_total")}},show_rrp_cmmp:!1,show_deal:!1}),"</div>\n                                </div>\n\n                                ",f(v.length(b(b(n,"line_main"),"services")))?y([u(b(b(n,"line_main"),"services"),function(e,t){return e?y(['<div class="font-size-xs pad-sep-xs text-primary strong">',g(b(b(t,"serviceProductInfo"),"mini_cart_label")),'</div>\n                                        <div class="nav-product-line">\n                                            ','\n                                            <a href="',g(b(t,"link")),'" class="nav-product-line_link">\n                                                ','\n                                                <div class="nav-product-line_image">\n                                                    <div class="thumbnail-wrapper">\n                                                        <div class="thumbnail">\n                                                            <img src="',g(b(t,"image")),'" alt="Product Thumbnail">\n                                                        </div>\n                                                    </div>\n                                                </div>\n\n                                                ','\n                                                <div class="nav-product-line_title">',b(t,"name"),"</div>\n                                            </a>\n\n                                            ",'\n                                            <div class="nav-product-line_qty">x',g(b(t,"quantity")),"</div>\n\n                                            ",'\n                                            <div class="nav-product-line_price">',_("@Components/Pricing/template.html.twig",{offer:{price:{current:b(t,"priceWithVat")}},show_rrp_cmmp:!1,show_deal:!1}),"</div>\n                                        </div>"]):""})]):"",0<v.length(b(b(n,"line_main"),"gifts"))?y([u(b(b(n,"line_main"),"gifts"),function(e,t){return e?y(['<div class="font-size-xs pad-sep-xs text-primary strong">+',g("Подарък"),'</div>\n                                        <div class="nav-product-line">\n                                            ','\n                                            <a href="',g(b(t,"link")),'?ref=cart_item" class="nav-product-line_link">\n                                                ','\n                                                <div class="nav-product-line_image">\n                                                    <div class="thumbnail-wrapper">\n                                                        <div class="thumbnail">\n                                                            <img src="',g(b(t,"image")),'" alt="Product Thumbnail">\n                                                        </div>\n                                                    </div>\n                                                </div>\n\n                                                ','\n                                                <div class="nav-product-line_title">',b(t,"name"),"</div>\n                                            </a>\n\n                                            ",'\n                                            <div class="nav-product-line_qty">x',g(b(t,"quantity")),"</div>\n                                        </div>"]):""})]):""]),'\n                            <button type="button" class="btn btn-xs nav-product-line_remove gtm_mg160119538" data-line-id="',g(b(n,"id")),'" data-line-service="',g(v.default(b(b(n,"line_main"),"service_applied_for"),null)),'"><i class="em em-close gtm_mg160119538" title="',g("Премахни от количката"),'"></i></button>\n                        </div>']):""}),"</div>\n            </div>\n\n            ",'\n            <div class="nav-product-total small">\n                <span class="nav-product-total-title">',g("ОБЩО"),': </span>\n                <span class="nav-product-total-pieces">',g(v.trans("%count% product|%count% products",{"%count%":i})),'</span>\n                <span class="nav-product-total-price">',v.moneyFormat(a),'</span>\n            </div>\n        </div>\n        <a href="/cart/products?ref=cart" class="btn btn-primary btn-emag btn-sm btn-block"><i class="em em-forward"></i> ',g("Виж количката"),"</a>"]:['<p class="text-center small">',g("Нямаш нито един продукт в количката"),'</p>\n        <div class="divider"></div>\n        <a href="/cart/products?ref=cart" class="btn btn-primary btn-emag btn-sm btn-block"><i class="em em-forward"></i> ',g("Виж количката"),"</a>"])]:['<div class="pad-btm-xl loader-inside">\n        <div class="preloader"></div>\n    </div>'])])}})}),e("@Components/NavbarDropdowns/templates/my-cart-removed.html.twig",function(){return n.t({$main:function(e){return y(['<div class="table-layout in-cart-notification">\n    <div class="table-cell col-xs-3 text-center">\n        <i class="em em-cart_fill"></i>\n    </div>\n    <div class="table-cell col-xs-9">',g("Продуктът беше премахнат от количката."),"</div>\n</div>\n"])}})}),e("@Components/NavbarDropdowns/templates/my-wishlist-added.html.twig",function(){return n.t({$main:function(e){return y(['<div class="table-layout favorites-notification">\n    <div class="table-cell col-xs-3 text-center">\n        <i class="em em-fav_fill"></i>\n    </div>\n    <div class="table-cell col-xs-9">',g("Продуктът беше добавен в любими"),"</div>\n</div>\n"])}})}),e("@Components/NavbarDropdowns/templates/my-wishlist-content.html.twig",function(){return n.t({$main:function(e){var t=e.isLoggedIn,n=e.isRequestDone,i=e.itemsData,o=e.favUrlRoute;return y([(v.default(t,!1),""),(n=v.default(n,!1),""),(i=v.default(i,[]),""),(o=v.default(o,""),""),(e=y(['<div class="pad-sep-xs pad-hrz-xs">\n        <div class="pad-btm-xl loader-inside">\n            <div class="preloader"></div>\n        </div>\n    </div>']),""),(t=y(['<div class="small text-center favorites-no-products pad-sep-xs pad-hrz-xs">',g("Нямаш любими продукти"),"</div>"]),""),(o=y(['<div class="nav-product-list-wrapper">\n        <p class="font-size-xs text-primary text-center">',g(v.upper("Наскоро добавени")),'</p>\n        <div class="nav-product-list">\n            <div class="nav-product-list-group">',u(i,function(e,t){var n,i,o,a,s,r;return e?y([(n=b(t,"product_details"),""),(i=b(n,"offer"),""),(o=v.default(b(b(i,"flags"),"has_bundle_first"),!1),""),(a=b(n,"name"),""),f(o)?y([(s=h("Промо пакет")+": ",""),y(f(b(b(b(i,"bundle_first"),"flags"),"has_display_as_metro"))?[(a=h(s)+(f(b(b(i,"bundle_first"),"multiplier"))?h(b(b(i,"bundle_first"),"multiplier"))+" x ":"")+h(a),"")]:[(r=b(b(i,"bundle_first"),"items"),""),(e=b(b(r,0),"name"),""),(r=b(b(r,1),"name"),""),(a=h(s)+h(e)+h(r),"")])]):"",(r={currency:b(b(b(b(i,"price"),"currency"),"name"),"default"),product_name:b(n,"name"),offerid:b(i,"id"),productid:b(n,"id"),price:b(b(i,"price"),"current"),category_trail:b(b(n,"category"),"trail"),scm_super_category:b(n,"scm_super_category")},""),'<div class="nav-product-container',g(!f(b(b(i,"flags"),"may_be_ordered"))&&!f(b(b(n,"flags"),"is_family"))||f(b(b(i,"flags"),"only_in_showroom"))?"":" nav-product-buyable"),'">\n                        <div class="nav-product-line">\n                            <div class="nav-product-line_link">\n                                ','\n                                <a href="',g(b(b(n,"url"),"path")),'?ref=hdr-favorite_products" class="nav-product-line_image">\n                                    <div class="thumbnail-wrapper">\n                                        <div class="thumbnail">\n                                            <img src="',g(b(b(n,"image"),"original")),'" alt="Product Thumbnail">\n                                        </div>\n                                    </div>\n                                </a>\n\n                                ','\n                                <div class="nav-product-line_title">\n                                    <p class="nav-product-line_prod mrg-btm-none"><a href="',g(b(b(n,"url"),"path")),'?ref=hdr-favorite_products" class="no-underline">',g(a),"</a></p>",f(b(b(n,"flags"),"is_family"))?y(['<a data-product-id="',g(b(n,"id")),'" href="',g(b(b(n,"url"),"path")),'?ref=hdr-favorite_products#add-to-cart" class="gtm_rp180219 btn btn-link btn-xs btn-link-add-to-cart js-add-family-to-cart pad-hrz-none">\n                                            <i class="em em-cart_fill"></i>\n                                            ',g("Избери размер"),"</a>"]):f(b(b(i,"flags"),"may_be_ordered"))?y(['<form action="/newaddtocart?source=front&ref_zone=FavoritesTooltip&ref=fav_hdr_add-to-cart-btn" method="post">\n                                            <input type="hidden" name="product[]" value="',g(b(i,"id")),'">',f(o)&&null!=b(b(i,"bundle_first"),"package_config")?y(['<input type="hidden" name="promoconfig" value="',g(b(b(i,"bundle_first"),"package_config")),'">']):"",'<button type="submit" class="btn btn-link btn-xs btn-link-add-to-cart pad-hrz-none js-add-to-cart gtm_mg160119536">\n                                                <i class="em em-cart_fill gtm_mg160119536"></i>\n                                                ',g("Добави в количката"),"</button>\n                                        </form>"]):"","</div>\n                            </div>\n\n                            ",'\n                            <div class="nav-prod-itemDetails-toolbox pull-right text-right">\n                                <div class="nav-product-line_price">',_("@Components/Pricing/template.html.twig",{offer:{price:{current:f(o)?b(b(b(i,"bundle_first"),"price"),"current"):b(b(i,"price"),"current")}},show_rrp_cmmp:!1,show_deal:!1}),'</div>\n                                <button type="button" class="btn btn-xs nav-remove-favorite-product nav-product-line_remove gtm_mg160119537" data-product-id="',g(b(n,"id")),'" data-product="',g(v.json_encode(r)),'" data-list-id="',g(b(t,"list_id")),'"><i class="em em-close gtm_mg160119537" title="',g("Добавено в Любими"),'"></i></button>\n                            </div>\n                        </div>\n                    </div>']):""}),'</div>\n        </div>\n    </div>\n\n    <a href="',g(o),'" class="btn btn-link btn-sm btn-block btn-view-all">\n        <i class="em em-forward"></i>\n        ',g("Виж всички любими продукти"),"</a>"]),""),y(f(n)?[y(f(v.length(i))?[g(o)]:[g(t)])]:[g(e)])])}})}),e("@Components/NavbarDropdowns/templates/my-wishlist-removed.html.twig",function(){return n.t({$main:function(e){return y(['<div class="table-layout favorites-notification">\n    <div class="table-cell col-xs-3 text-center">\n        <i class="em em-fav"></i>\n    </div>\n    <div class="table-cell col-xs-9">',g("Продуктът беше премахнат от списъка с любими."),"</div>\n</div>\n"])}})}),e("@Components/OneSignal/template.html.twig",function(){return n.t({$main:function(e){return y(['<div class="table-layout browser-notification">\n    <div class="table-cell col-xs-3 text-center">\n        <i class="em em-bell"></i>\n    </div>\n    <div class="table-cell col-xs-9">\n        <p>',"Приеми известията и улови офертите на деня!",'</p>\n        <div class="mrg-top-xs">\n            <a href="javascript:;" class="btn btn-link btn-sm js-later-onesignal">',n.trans("later"),'</a>\n            <button type="button" class="btn btn-primary btn-sm js-open-onesignal">',n.trans("Subscribe"),"</button>\n        </div>\n    </div>\n</div>\n"])}})}),e("@Components/Megamenu/templates/megamenu-details.html.twig",function(){var t=n.t({$main:function(e){var s,i=e.items,r=e.layout,c=e.flags,l=e.separators,e=e.departmentId;return y([(s=t,""),"",u(["menu_links","quick_nav"],function(e,n,t){var a;return e?y([m.in(n,i)&&f(b(i,n))&&f(b(r,h(n)+"_size"))?y([(a=!1,""),'<ul class="megamenu-section megamenu-section-',g(n),f(b(b(c,n),"has_large_heading"))?y([" megamenu-section-has-large-heading"]):"",'">',u(b(i,n),function(e,i,t){var o;return e?y([t<b(r,h(n)+"_size")?y([f(b(b(c,n),t))&&f(b(b(b(c,n),t),"has_large_heading"))?y([(a=!0,"")]):"","","",'<li class="megamenu-column',g(""),m.in(t,b(l,n))?y([" megamenu-column-right-border"]):"",f(a)?y([" megamenu-column-large-top-padding"]):"",'">',(o=!0,""),m.in(t,b(l,n))?y([(a=!1,"")]):"",g(""),u(i,function(e,t,n){return e?y([f(b(t,"is_heading"))?y([f(o)?"":y(["</div> "])]):0<n&&f(b(b(i,p(n)-1),"is_heading"))?y(['<div class="megamenu-group collapse megamenu-group-',g(b(b(i,p(n)-1),"id")),'">',(o=!1,"")]):"",g(b(s,"displayMegamenuItem")(b(t,"id"),b(t,"title"),b(t,"link"),b(t,"label"),b(t,"is_heading"),b(t,"is_large_heading"),b(t,"is_first_relative_item"),f(b(t,"is_heading"))&&p(v.length(i))-1>n&&!f(b(b(i,p(n)+1),"is_heading")))),n!=p(v.length(i))-1||f(o)?"":y(["</div>"])]):""}),"</li>"]):""]):""}),"</ul>"]):""]):""}),f(b(r,"banner_size"))?y(['<div class="megamenu-banner" id="tpb_megamenu_',g(e),'"></div>']):""])}});return t.displayMegamenuItem=function(e,t,n,i,o,a,s,r){return y(["<",g(null!=n&&null!=b(n,"uri")?v.raw('a href="'+h(b(n,"uri"))+'"'):"div"),' class="megamenu-item',f(a)?y([" megamenu-item-large-heading"]):f(o)?y([" megamenu-item-heading"]):"",f(s)?y([" megamenu-item-first-relative"]):"",'" data-id="',g(e),'"',f(r)?y([' data-phino="CollapseOne" data-ph-target=".megamenu-group-',g(e),'"']):"",">",g(t),null!=i&&null!=b(i,"text")?y(['<span class="label',y("promo"==b(i,"type")?[" label-danger"]:[" label-success"]),'">',g(b(i,"text")),"</span>"]):"","</",g(null!=n&&null!=b(n,"uri")?"a":"div"),">"])},t}),e("@Components/ProductShowroomReservation/ShowroomSchedule/template.html.twig",function(){return n.t({$main:function(e){e=e.schedule;return y(['<div class="title">',g(v.trans("Program")),":</div>",f(b(e,"monday"))&&f(b(e,"friday"))?y(['<div class="description">',"понеделник"," - ","петък",': <span class="pull-right">',g(v.slice(b(b(e,"monday"),"start"),0,5))," - ",g(v.slice(b(b(e,"friday"),"end"),0,5)),"</span></div>"]):"",f(b(e,"saturday"))?y(['<div class="description">',"събота",': <span class="pull-right">',g(v.slice(b(b(e,"saturday"),"start"),0,5))," - ",g(v.slice(b(b(e,"saturday"),"end"),0,5)),"</span></div>"]):"",f(b(e,"sunday"))?y(['<div class="description">',"неделя",': <span class="pull-right">',g(v.slice(b(b(e,"sunday"),"start"),0,5))," - ",g(v.slice(b(b(e,"sunday"),"end"),0,5)),"</span></div>"]):""])}})}),e("@Components/ProductShowroomReservation/ShowroomInfo/template.html.twig",function(){return n.t({$main:function(e){var t=e.name,n=e.address,i=e.coordinates,e=e.schedule;return y(['<div class="col-xs-12 col-sm-4 item location text-left font-semi-bold">\n    <div class="icon-holder">\n        <img src="//',g(l("CDN")),'/layout/ro/static-upload/icon_showroom.svg" alt="Showroom"/>\n    </div>\n    <div class="name-holder">',t,'</div>\n</div>\n\n<div class="col-xs-12 col-sm-4 item address text-left">\n    <div class="title">',"Адрес",':</div>\n    <div class="description address-placeholder">',n,'</div>\n    <div class="font-regular underline">\n        <a href="',g("https://maps.google.com/?q=loc:"+h(b(i,"lat"))+","+h(b(i,"long"))),'" target="_blank" class="map-url">',"Отвори с Google Maps",'</a>\n    </div>\n</div>\n\n<div class="col-xs-12 col-sm-4 item schedule text-left">',_("@Components/ProductShowroomReservation/ShowroomSchedule/template.html.twig",{schedule:e}),"</div>"])}})}),e("@Components/ProductShowroomReservation/template.html.twig",function(){return n.t({$main:function(e){var t=e.offerId,e=e.localities;return y(['<div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-label="',g("Затвори"),'"><i\n                class="em em-close"></i></button>\n    <h4 class="modal-title">',"Резервация на продукт",'</h4>\n</div>\n<form method="POST" id="product-reservation-modal-container">\n    <div class="modal-body">\n        <input type="hidden" name="offerId" value="',g(t),'">\n\n        <div>\n            ',"Този продукт може да бъде взет само от посочения по-долу eMAG шоурум. При вземане на продукта ще можеш да избереш начин на плащане и данни за фактуриране. ",'\n        </div>\n\n        <h4 class="mrg-top-xs font-semi-bold">',"Избери място за доставка",'</h4>\n\n        <div class="row localities-container">\n            <div class="col-xs-12 col-md-6">\n                <div class="form-group">\n                    <label for="localities" class="mrg-top-xs font-bold font-size-sm">',"Град",'</label>\n                    <select id="localities" class="form-control js-modal-localities" name="locality_name"\n                            data-phino="Select" required>\n                        <option value="" selected disabled>',"Избери","</option>",u(e,function(e,t){return e?y(['<option value="',g(b(t,"name")),'">',b(t,"name"),"</option>"]):""}),'</select>\n                </div>\n            </div>\n\n            <div class="col-xs-12 col-md-6">\n                <div class="form-group">\n                    <label class="mrg-top-xs mrg-top-xs font-bold font-size-sm" for="modal-showroom-id">',"Showroom",'</label>\n                    <select class="form-control js-modal-showroom" id="modal-showroom-id" name="showroom_id" data-phino="Select" required>\n                        <option value="" selected disabled>',"Избери",'</option>\n                    </select>\n                </div>\n            </div>\n        </div>\n\n        <div class="showroom-info-container">\n            <div class="info-message text-center align-middle">\n                ',"Избери шоурум от списъка по-горе ",'\n            </div>\n\n            <div class="row showroom-info-data hidden"></div>\n        </div>\n\n    </div>\n\n    <div class="modal-footer submit">\n        <div class="text-center">\n            <div class="form-group">\n            <span class="checkbox-custom font-size-sm font-regular">\n                <input type="checkbox" id="agree_reservation" name="agree_reservation" required/>\n                <label for="agree_reservation"><span class="agree-terms font-regular">','Съгласен съм с Общите  <a href="/info/usloviza-za-polzvane/" target=new>условия </a> на eMAG','</span></label>\n            </span>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="col-md-offset-3 col-md-6 col-sm-offset-2 col-sm-8 col-xs-12">\n                <button type="submit" class="btn btn-primary btn-emag btn-lg btn-block saveReservation">\n                    <i class="em em-showroom-complex"> </i>',"Резервирай в шоурума ",'\n                </button>\n            </div>\n        </div>\n    </div>\n</form>\n\n<div class="modal-footer close-container no-border text-center">\n    <a href="#" class="btn btn-default btn-md close-modal success-action hidden" data-dismiss="modal">',"детайли на поръчката",'</a>\n    <a href="#" class="btn btn-default btn-md close-modal fail-action hidden" data-dismiss="modal">',"обратно към страницата","</a>\n</div>\n"])}})}),e("@Components/ProductShowroomReservation/templates/action-response.html.twig",function(){return n.t({$main:function(e){var t=e.hasError,n=e.showroom,i=e.address,e=e.user;return y([(t=v.default(t,!1),""),(n=v.default(n,""),""),(v.default(i,""),""),(i=v.default(b(n,"schedule"),{}),""),(e=v.default(e,{}),""),'<div class="response-container ',g(f(t)?"error":"success"),'">\n    <div class="d-flex justify-center align-items-center flex-direction-column ',g(f(t)?"show":"hide"),'">\n        <span class="em em-close danger" aria-hidden="true"></span>\n        <h4 class="font-semi-bold font-size-md">',g("Възникна проблем. Моля, опитай отново."),'</h4>\n        <h4 class="font-size-md">',g("За съжаление продуктът не може да бъде резервиран "),"</h4>\n        <p>",g("Трябват ни няколко минути, за да разрешим проблема. Моля, върни се по-късно, за да резервираш желания продукт в шоурума. "),'</p>\n    </div>\n\n    <div class="d-flex justify-center align-items-center flex-direction-column ',g(f(t)?"hide":"show"),'">\n        <span class="em em-check success" aria-hidden="true"></span>\n        <h4 class="font-semi-bold mrg-btm-none">',"Продуктът е запазен ",", ",b(e,"name"),'</h4>\n        <div class="mrg-top-sm">\n            <div class="text-muted pickup-text">',"Лично вземане от:",'</div>\n            <div class="icon-holder mrg-sep-xs">\n                <img src="//',g(l("CDN")),'/layout/ro/static-upload/icon_showroom.svg" alt="Showroom"/>\n            </div>\n            <div class="showroom-name">',b(n,"name"),'</div>\n        </div>\n        <div class="address-info-container d-flex mrg-top-sm pad-hrz-lg">\n            <div class="box">\n                <div class="text-muted">',"Адрес",":</div>\n                <div>\n                    ",b(n,"address")," ",b(b(n,"locality"),"name"),", ",b(b(b(n,"locality"),"region"),"name"),'\n                </div>\n                <div><a href="',g("https://maps.google.com/?q=loc:"+h(b(b(n,"coordinates"),"lat"))+","+h(b(b(n,"coordinates"),"long"))),'" target="_blank" class="map-url">',"Отвори с Google Maps",'</a></div>\n            </div>\n            <div class="box">',_("@Components/ProductShowroomReservation/ShowroomSchedule/template.html.twig",{schedule:i}),"</div>\n        </div>\n    </div>\n</div>"])}})}),e("@Components/Pricing/templates/legal-price.html.twig",function(){return n.t({$main:function(e){var t,n,i,o,a=e.offer,s=e.class_name;return y([(t=v.default(b(b(a,"flags"),"show_legal_price"),!1),""),(n=v.default(b(a,"display_type"),""),""),(i=v.default(b(b(a,"price"),"legal"),0),""),(o=v.default(b(b(a,"legal_unit"),"name"),""),""),(e=v.default(b(b(a,"legal_unit"),"value"),1),""),(s=v.default(s,""),""),(a=!1,""),m.in("font-size-",s)?y([(a=!0,"")]):"",f(t)&&"supermarket"!=n?y([(o=1<e?h(e)+h(o):o,""),'<p class="legal-price-label',g(f(a)?"":" font-size-ms"),g(f(s)?" "+h(s):""),' ">',g(v.trans("Price/%unit%",{"%unit%":o})),": ",v.moneyFormat(i),"</p>"]):""])}})}),e("@Components/ProductBadges/template.html.twig",function(){return n.t({$main:function(e){var t=e.appData,n=e.productData,i=e.classList,o=e.defaultDisplayBadges,a=e.maxBadges,s=e.unifiedBadges,r=e.discountBadges,c=e.isMainGallery,e=e.FASHION_VARIATION;return y([(t=v.default(t,[]),""),(n=v.default(n,[]),""),(i=v.default(i,""),""),(o=v.default(o,!1),""),(a=v.default(a,2),""),(s=null!=s?s:v.slice(v.default(b(b(n,"offer"),"unified_badges"),[]),0,a),""),(s=v.filter(s,function(e){return"Video review"!=b(e,"label")&&"commercial"!=b(e,"type")&&136!=b(b(e,"background_color"),"r")&&136!=b(b(e,"background_color"),"g")&&136!=b(b(e,"background_color"),"b")}),""),(t=v.first(v.filter(v.default(b(b(n,"offer"),"unified_badges"),[]),function(e){return"commercial"==b(e,"type")&&239==b(b(e,"background_color"),"r")&&33==b(b(e,"background_color"),"g")&&0==b(b(e,"background_color"),"b")})),""),f(t)?"":y([(t=v.first(v.filter(v.default(b(b(n,"offer"),"unified_badges"),[]),function(e){return"commercial"==b(e,"type")&&34==b(b(e,"background_color"),"r")&&167==b(b(e,"background_color"),"g")&&240==b(b(e,"background_color"),"b")})),"")]),f(t)?"":y([(t=v.first(v.filter(v.default(b(b(n,"offer"),"unified_badges"),[]),function(e){return"characteristic"==b(e,"type")&&136==b(b(e,"background_color"),"r")&&136==b(b(e,"background_color"),"g")&&136==b(b(e,"background_color"),"b")})),"")]),(r=v.slice(v.default(r,[]),0,a),""),(a=v.default(b(b(b(n,"offer"),"flags"),"is_genius_eligible"),!1),""),(c=v.default(c,!1),""),(e=f(c)&&f(v.default(e,!1)),""),(o=f(v.default(b(b(b(n,"offer"),"flags"),"has_unified_badges"),o))&&f(s),""),f(o)||f(r)||f(e)||f(t)?y(['<div class="product-badge-box js-product-badge-box ',g(f(o)||f(t)||f(l("IS_MOBILE"))&&f(a)?"":"hidden "),g(i),'">',f(e)?y([f(a)?y(['<div class="product-badge-container">\n                    <div class="product-badge fashion-genius-badge">\n                        <div class="product-badge-label">\n                            <i class="em em-genius-text"></i>\n                        </div>\n                    </div>\n                </div>']):"",(n=b(b(n,"offer"),"price"),""),"percent"==v.default(b(b(n,"discount"),"type"),null)?y(['<div class="product-badge-container">\n                    <div class="product-badge fashion-discount-badge">\n                        <div class="product-badge-label">\n                            -',g(b(b(n,"discount"),"percent")),"%\n                        </div>\n                    </div>\n                </div>"]):""]):"",f(e)&&f(l("IS_MOBILE"))||!f(v.length(s))?"":y(['<div class="js-product-unified-badges">',u(s,function(e,t){return e?y(["commercial"!=b(t,"type")?y(['<div class="product-badge-container js-product-badge-container" data-product-type="',g(b(t,"type")),'">\n                        <div class="product-badge product-badge--',g(b(t,"type")),'" style="background-color: rgb(',g(b(b(t,"background_color"),"r")),", ",g(b(b(t,"background_color"),"g")),", ",g(b(b(t,"background_color"),"b")),');">',f(v.default(b(t,"indicator")))?y(['<span class="product-badge-indicator">',g(b(t,"indicator")),"</span>"]):"",'<div class="product-badge-label">\n                                ',g("our_recommendation"==b(t,"type")?b(t,"label"):v.lower(b(t,"label"))),"\n                            </div>",null!=b(t,"image")&&f(b(t,"image"))?y(['<div class="product-badge-image" style="background-image: url(',g(b(b(t,"image"),"original")),')"></div>']):"","</div>\n                    </div>"]):""]):""}),"</div>"]),f(v.length(r))?y(['<div class="js-product-discount-badges hidden">',u(r,function(e,t){return e?y(['<div class="product-badge-container js-product-badge-container" data-product-type="',g(b(t,"type")),'">\n                    <div class="product-badge product-badge--',g(b(t,"type")),'" style="background-color: rgb(',g(b(b(t,"background_color"),"r")),", ",g(b(b(t,"background_color"),"g")),", ",g(b(b(t,"background_color"),"b")),');">',f(v.default(b(t,"indicator")))?y(['<span class="product-badge-indicator">',g(b(t,"indicator")),"</span>"]):"",'<div class="product-badge-label">',b(t,"label"),"</div>",null!=b(t,"image")&&f(b(t,"image"))?y(['<div class="product-badge-image" style="background-image: url(',g(b(b(t,"image"),"original")),')"></div>']):"","</div>\n                </div>"]):""}),"</div>"]):"",f(t)?y(['<div class="product-badge-container" data-product-type="',g(b(t,"type")),'">\n                <div class="product-badge product-badge--',g(b(t,"type")),'" style="background-color: rgb(',g(b(b(t,"background_color"),"r")),", ",g(b(b(t,"background_color"),"g")),", ",g(b(b(t,"background_color"),"b")),');">\n                    <span class="product-badge-label">',g(b(t,"label")),"</span>\n                </div>\n            </div>"]):"","</div>"]):""])}})})}(EM.TMPL),PH.merge(EM.translations,{Cancel:"Откажи","This field is required":"Полето е задължително","Invalid email":"грешен имейл!","Incorrect number":"Неправилен телефонен номер","Only digits allowed":"Разрешени са само цифри","Too short":"твърда къса","Invalid file type selected":"невалиден файл","Incorrect phone number":"Телефонният номер не е валиден","This CNP is not valid":"неправилно въведено ЕГН","Value mismatch":"Данните не съвпадат","Invalid IBAN":"Невалидна банкова сметка",January:"януари",February:"февруари",March:"Март",April:"април",May:"Май",June:"юни",July:"Юли",August:"Август",September:"Септември",October:"октомври",November:"ноември",December:"декември",Sunday:"неделя",Monday:"понеделник",Tuesday:"вторник",Wednesday:"сряда",Thursday:"четвъртък",Friday:"петък",Saturday:"събота",Su:"нд",Mo:"пн",Tu:"вт",We:"ср",Th:"чт",Fr:"пт",Sa:"сб",today:"днес","Something went wrong. Please try again later.":"Възникна проблем. Моля, опитай отново.","Uh oh! An error occurred. The request could not be completed!":"Моля да опиташ отново по-късно!","To sign up, an email address is required":"За абониране, е необходим имейл адрес","Subscribe to the Newsletter and keep up-to-date with the latest offers!":"Получавай актуалните ни оферти. Абонирай се!","eMAG Newsletter Subscription":"Абонамент за бюлетина на eMAG","Subscribe to the newsletter!":"Абонирай ме за бюлетина","The selected date is invalid.":"Избраната дата не е валидна","I am over 16":"Аз съм над 16 години","I am under 16":"Аз съм под 16 години","Your settings have been updated to previous selection":"Твоите настройки са запазени до последния избор.","Preferences saved":"Предпочитанията са запазени","Functional Cookies":"Функционални бисквитки","Strictly necessary for the functioning of our website":"Строго необходими за функционирането на нашия уебсайт",gdpr_modal_functional_tab_text:"<p>Функционалните бисквитки са от съществено значение за функционирането на уебсайта и трябва да бъдат винаги включени. Те съответстват на и подпомагат вашите действия. Благодарение на тези бисквитки:</p>\n    <ul>\n        <li>Имате достъп до всички секции на уебсайта и можете да влезете в акаунта си</li>\n        <li>Можете да зададете и запаметите опции за поверителност</li>\n        <li>Можете да направите поръчката си безопасно и сигурно</li>\n    </ul>\n    <p>%view_more_btn%</p>","view less":"виж по-малко","view more":"виж повече","Analytics Cookies":"Бисквитки за анализ","Measuring, optimisation and improvement of our services":"Измерване, оптимизиране и подобряване на нашите услуги",gdpr_modal_analysis_tab_text:"<p>Аналитичните бисквитки (Analytics cookies) са анонимни бисквитки, които ни съобщават, в съвкупност, кои са най-посещаваните страници, потребителските ви пътувания и действията на широки категории потребители. Благодарение на аналитичните бисквитки можем да оценим ефективността на нашия уебсайт и да подобрим вашето изживяване онлайн. Използвайки тези технологии можем:</p>\n    <ul>\n        <li>Да подобрим най-важните функции въз основа на обобщени данни за използване на онлайн средата</li>\n        <li>Да определим ключовите типове поведение въз основа на обобщени данни</li>\n        <li>Да оценим ефективността на дадена рекламна кампания</li>\n    </ul>\n    <p>%view_more_btn%</p>","Advertising Cookies":"Pекламни бисквитки","Keeping you up to date with our latest offers":"Винаги актуални с нашите най-нови оферти",gdpr_modal_advertising_tab_text:"<p>Този вид бисквитки се използват за показване на банери за най-добри оферти и особено за адаптиране и персонализиране на съдържание. Използвайки тези бисквитки, ще се възползвате от ефективно насочени кампании и персонализирани предложения за пазаруване. С тези бисквитки:</p>\n    <ul>\n        <li>Имате бързо известяване за най-добрите оферти и за подходящи продукти точно като за вас</li>\n        <li>Вие се възползвате от персонализирани кампании</li>\n        <li>Получавате съдържание с по-високо качество</li>\n    </ul>\n    <p>%view_more_btn%</p>","Preference settings":"Вашите предпочитания за бисквитки",Select:"Избери","Hello, %username%":"Здравей, %username%",gdpr_modal_your_preferences_tab_text:"<p>Бисквитки? Вероятно сте чували за тях. Бисквитките са малки текстови файлове, които съхраняват вашите настройки и предпочитания, за да имате достъп до уебсайта. Ние ги използваме, за да подобрим вашето онлайн изживяване и да персонализираме съдържанието, което ви предлагаме всеки ден. Някои от тях са задължителни, като строго функционалните бисквитки, които позволяват функционирането на сайта. Във всеки раздел на този прозорец можете да изберете какви бисквитки да включите.</p>\n    <p>Не забравяйте, че на уебсайта на eMAG бисквитките ви помагат:</p>\n    <ul>\n        <li>да получите най-добрите оферти и препоръки</li>\n        <li>да бъдете уведомени, когато любимите ви продукти са на по-ниска цена</li>\n        <li>да се насладите на по-добро сърфиране и пазаруване</li>\n    </ul>","We use cookies and similar technologies to display site content and improve navigation experience. In %link% section you can find details and management options.":"Ние използваме „бисквитки“ и други подобни инструменти, за показване съдържанието на сайта и \nподобряване на потребителското изживяване. Повече информация за „бисквитките“ и опциите за управлението им  може да намерите в раздела %link%","%count% product|%count% products":"%count% продукт|%count% Продукта","You have %products% in your cart with limited offer!":"Имаш %products% в количката на специална оферта","%from% %price%":"%from% %price%","Price/%unit%":"Цена/%unit%"});
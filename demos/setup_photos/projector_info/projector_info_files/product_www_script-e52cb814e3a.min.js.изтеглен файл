PH.merge(EM.translations,{Free:"Безплатна","Please select at least 2 products":"Трябва да избереш най-много 2 продукта","You can compare up to 4 items!":"Можеш да сравниш най-много 4 продукта!","The delivery estimate will be available after sending the order.":"След като изпратиш поръчката ще получиш очаквана дата за доставка.","Choose a pickup point from the list":"Избери място за вземане","Delivery estimate currently unavailable":"В момента няма очакваната дата за доставка","Starting from today, after %hour%":"Днес от %hour%",tomorrow:"утре","You can pick it up today, after %hour%":"Можеш да го вземеш днес, след %hour%","You can pick up the product right now":"Вече можеш да вземеш продукта","You can pick it up tomorrow, after %hour%":"Можеш да го вземеш утре, след %hour%","You can pick it up starting from %estimate%, after %hour%":"Можеш да го вземеш започвайки от %estimate%, след %hour%","today, after %hour%":"днес, след %hour%","tomorrow, after %hour%":"утре, след %hour%",Choose:"Избери",today:"днес","The product has been successfully removed!":"Продуктът беше скрит от списъка","Your review has been added":"Ревюто беше добавено и изпратен към модератор!","Your comment has been added":"Коментарът беше добавен и изпратен към модератор!","Your question has been sent to moderation":"Въпросът беше добавен и изпратен към модератор!","Your answer has been sent to moderation":"Твоят отговор беше добавен и изпратен към модератор","Delivery estimate":"Очаквана дата за доставка","Back to product":" Обратно към продукта","Use this pick-up point once":"Избери място за вземане","The product was added to cart":"Продуктът беше добавен в количката","Product was removed from cart.":"Продуктът беше премахнат от количката.","%count%% positive notes":"%count%% Позитивни ревюта","eMAG customers reviews":"Ревюта от eMAG клиенти","positive notes":"Позитивни ревюта","Rate product":"Оцени продукта","Not recommended":"Не се препоръчва",Poor:"Слаб",Average:"Средно",Good:"Добър",Excellent:"Отличен","%count% day delivery|%count% days delivery":"Доставка до %count% ден|Доставка до %count% дни","Warranty %count% month|Warranty %count% months":"Гаранция %count% месец|Гаранция %count% месеца","from %value% / month":"от %value% / месец","%from% %price%":"%from% %price%","Price/%unit%":"Цена/%unit%","%count% offer|%count% offers":"%count% оферта|%count% оферти","%count% year|%count% years|%count% years":"%count% година|%count% години","%count% month|%count% months|%count% months":"%count% месец|%count% месеца","Delivery %weekday%":"Доставка %weekday%","Choose from %count% delivery point available in your area|Choose from %count% delivery points available in your area":"Избери от %count% място за вземане на поръчката, налично в твоята зона |Избери от %count% места за вземане на поръчката, налични в твоята зона | Избери от %count% места за вземане на поръчката, налични в твоята зона","choose from %count% pickup points":"Избери от %count% места за вземане","Today, starting from %hour%":"Днес от %hour%","Tomorrow, starting from %hour%":"Утре от %hour%","from %price%":"от %price%","%count% day return|%count% days return":"%count% ден, за връщане|%count% дни, за връщане","You save %value%&#37;":"Спестяваш %value%&#37;","You save %value%":"Спестяваш %value%"}),function(a){var K=a.bool,v=a.empty,Z=a.escape_html,Q=a.filter,A=a.for,S=a.func,ee=a.include,I=a.merge,E=a.number,te=a.operator,ae=a.out,e=a.register,T=a.slice,ne=a.string,ie=a.index,oe=a.global;e("@Components/ScreenOrientationNotifier/template.html.twig",function(){return a.t({$main:function(e){e=e.description_text;return ae(['<div class="screen-orientation-notifier js-screen-orientation-notifier-overlay hide">\n    <div class="container">\n        <img src="//',Z(oe("CDN")),'/layout/all/images/rotate-device-export.svg" alt="',Z("Завърти устройството"),'" />\n        <div class="title mrg-sep-xs">',Z("Завърти устройството"),'</div>\n        <div class="description">',Z(e),"</div>\n    </div>\n</div>\n"])}})}),e("@Components/GalleryProduct/templates/modal.html.twig",function(){return a.t({$main:function(e){return ae(['<div class="modal-header">\n    <button class="close"><i class="em em-close"></i></button>\n    <h4 class="modal-title hidden-sm hidden-xs"></h4>\n</div>\n<div class="in-modal-gallery">\n    <div class="modal-body"></div>\n</div>\n'])}})}),e("@Components/GalleryProduct/templates/template_modal-preview_book.html.twig",function(){return a.t({$main:function(e){var t=e.title,e=e.source;return ae(['<div class="modal-header pdf-preview-modal-title">\n    <span class="preview-info">',Z("реглед"),':</span> <span class="preview-title">',Z(t),'</span>\n    <button type="button" class="close" data-dismiss="modal" aria-label="',Z("Затвори"),'"><i class="em em-close"></i></button>\n</div>\n\n<div class="modal-body pdf-preview-modal-body">\n    <iframe src="',Z(e),'#toolbar=0&navpanes=0&statusbar=0&view=Fit;readonly=true; disableprint=true;" width="100%" height="100%"></iframe>\n</div>\n'])}})}),e("@Pages/Product/components/Safebuy/Badge/template.html.twig",function(){return a.t({$main:function(e){var t=e.width,a=e.type,n=e.className,i=e.style;return ae(["","",(e=E(98)/E(22),""),(t=K(t)||"badge"==a?Q.round(Q.default(t,98)):null,""),(e=K(t)||"badge"==a?Q.round(E(Q.default(t,98))/E(e)):null,""),(n=K(n)?[n]:[],""),(n=K(t)?n:Q.merge(n,["img-holder"]),""),(e=K(t)?{width:t,height:e}:{},""),(e=K(i)?Q.merge(e,{style:i}):e,""),(e=K(Q.length(n))?Q.merge(e,{class:Q.trim(Q.join(n," "))}):e,""),(e=Q.join(Q.map(e,function(e,t){return ne(t)+'="'+ne(e)+'"'})," "),""),'<img src="https://',Z(oe("CDN")),'/layout/ro/static-upload/safebuy-icon.svg" alt="safebuy" ',e,">\n"])}})}),e("@Components/StarRating/template.html.twig",function(){return a.t({$main:function(e){var t,a=e.rating,n=e.size,i=e.text,o=e.inputName,s=e.input,r=e.required,l=e.inputAttributes,d=e.gtm,c=e.ratingNumber;return ae([(t="star-rating",""),"",(a=Q.default(a,0),""),e="",null!=n?ae([(n=" "+ne(t)+"-"+ne(n),"")]):"",null!=i?ae([""]):"",(o=Q.default(o,"star"),""),null!=s?ae([(e=ne(e)+" "+ne(t)+"-input","")]):"",null==r?ae([(r=!1,"")]):"",(l=Q.default(l,{}),""),(d=" "+ne(Q.default(d,"")),""),ae(null!=s?['<div class="',Z(t)," ",Z(t),"-input ",Z(n)," ",Z(e),Z(d),'">\r\n        <div class="',Z(t),"-inner",Z(d),'">',A(te[".."](1,5),function(e,t){return e?ae(['<button type="button" class="em em-star_fill',Z(d),Z(t==1+E(Q.round(E(5)-E(a),0,"ceil"))?" active":""),'" data-rating="',Z(E(5)-E(t)+1),'"></button>']):""}),'</div>\r\n        <input type="hidden" name="',Z(o),'" value="',Z(a),'"',K(r)?ae(["required"]):"","\r\n            ",Q.join(Q.map(l,function(e,t){return ne(t)+"='"+ne(e)+"'"})," "),"\r\n        >\r\n    </div>",null!=i?ae(['<div class="',Z(t),'-text">',i,"</div>"]):""]:['<div class="',Z(t)," ",Z(t),"-read rated-",Z(a)," ",Z(n)," ",Z(e),Z(d),'">\r\n        <div class="',Z(t),"-inner",Z(d),'" style="width: ',Z(E(a)*(100/E(5))),'%"></div>\r\n    </div>',null!=i?ae(['<div class="',Z(t),"-text",Z(d),'">\r\n            <span class="hidden-xs',Z(d),'">',i,"</span>",null!=c?ae(['<span class="visible-xs-inline-block',Z(d),'">(',Z(c),")</span>"]):"","</div>"]):""])])}})}),e("@Pages/Product/partials/seller-rating-tooltip.html.twig",function(){return a.t({$main:function(e){var t=e.id,a=e.sellerName,n=e.rating,e=e.path;return ae(['<script type="text/html" class="seller-rating-tooltip-',Z(t),'">\n    <div class="seller-rating-inner-container">\n        <button type="button" class="close-seller-rating"><i class="em em-close"></i></button>\n        <h4 class="seller-name mrg-sep-none">',Z(a),'</h4>\n        <div class="seller-rating">',ee("@Components/StarRating/template.html.twig",{rating:ie(n,"rating"),size:"sm"}),'<span class="font-bold rating-value">',Z(ie(n,"rating")),"</span>\n        </div>",K(ie(n,"positive_share_rating"))?ae(['<div class="mrg-top-xs">',Q.trans("%number% positive ratings in the last %months% months",{"%number%":ne(Q.round(ie(n,"positive_share_rating")))+"%","%months%":12}),"</div>"]):"",'<p class="seller-details-link font-size-sm mrg-top-xs"><i class="em em-forward"></i> <a href="',Z(e),'?ref=see_vendor_details">',Z(Q.trans("see seller details")),"</a></p>\n    </div>\n<\/script>\n"])}})}),e("@Components/PanelOffers/templates/gifts.html.twig",function(){return a.t({$main:function(e){var a=e.gifts,n=e.offerId;return ae([(a=Q.default(a,[]),""),(n=Q.default(n,""),""),K(Q.length(a))?ae(['<div class="product-page-gifts other-offers-gifts mrg-top-xs" data-other-offers-gifts>\n        <div class="list-group collapse-elements" id="other-offers-gifts-',Z(n),'">',A(a,function(e,t){return e?ae(['<div class="collapse-gift">\n                    <div class="product-page-gift-option" data-gift="gift-',Z(n),"-",Z(ie(e,"index")),'">\n                            <div class="radio-custom">',ae(1<Q.length(a)?['<input type="radio" name="giftconfig" id="gift-',Z(n),"-",Z(ie(e,"index")),'" value="',Z(ie(t,"package_config")),'" ',1==ie(e,"index")?ae([' checked="true" ']):"",'>\n                                    <label for="gift-',Z(n),"-",Z(ie(e,"index")),'"><span class="sr-only">',"Избери този подарък","</span></label>"]:['<input type="hidden" name="giftconfig" value="',Z(ie(t,"package_config")),'">']),'</div>\n                        <div class="list-group-item ',Z(1<Q.length(a)?"selectable":""),' pad-btm-none pad-top-xs">\n                            ',A(ie(t,"items"),function(e,t){return e?ae(['\n                                <div class="row table-layout pad-btm-xs">\n                                    <div class="table-cell table-head hidden-sm hidden-md col-lg-3">\n                                        <div class="thumbnail-wrapper">\n                                            <div class="thumbnail">\n                                                <img src="',Z(Q.getSize(ie(ie(t,"image"),"resized_images"),"80x80")),'" alt="Product image"/>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="table-cell col-xs-12 col-lg-9">\n                                        <div class="product-title">\n                                            <span class="text-muted text-uppercase">+ ',Z("Подарък"),"</span> ",Z(ie(t,"name")),'</div>\n                                        <div class="small">\n                                            <span class="text-muted">',Z("Стойност:"),'</span> <span class="strong">',Q.moneyFormat(ie(ie(t,"price"),"current")),"</span>\n                                        </div>\n                                    </div>\n                                </div>\n                            "]):""}),"\n                        </div>\n                    </div>\n                </div>"]):""}),"</div>\n        ",2<Q.length(a)?ae(['\n            <a href="#" class="panel-footer font-size-base visible-inline-block"\n                data-phino="CollapsiblePanels"\n                data-ph-target="other-offers-gifts-',Z(n),'"\n                data-ph-collapsibles=".collapse-gift"\n                data-ph-init-count="2"\n                data-ph-page-size="4"\n                data-ph-init-label="<span class=\'small\'>+ ',"Виж повече","</span>\"\n                data-ph-end-label=\"<span class='small'>+ ","Затвори","</span>\"\n            ><span class='small'>+ ","Виж повече","</span></a>\n        "]):"","\n    </div>"]):""])}})}),e("@Components/PanelOffers/templates/details.html.twig",function(){return a.t({$main:function(e){var t,a=e.offer,n=e.productName,i=e.productImage,o=e.moduleStatus,s=e.showGeniusBadge,r=e.emptyImg;return ae([(a=Q.default(a,[]),""),(e=Q.default(ie(ie(a,"vendor"),"rating"),{rating:0,reviews_count:0}),""),(n=Q.default(n,null),""),(i=Q.default(i,[]),""),(o=Q.default(o,{}),""),(s=Q.default(s,!1),""),(Q.default(r,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),""),'<div class="table-cell-sm va-middle po-size-mdsc-md po-size-smsc-md po-size-xssc-full pad-hrz-sm po-pad-btm-xssc-sm">\n    <div class="table-xs">\n        <div class="table-cell-xs va-top product-thumbnail">\n            <div class="thumbnail-wrapper pad-hrz-none pad-sep-none">\n                <div class="thumbnail" title="Product Title">\n                    <img src="',Z(Q.getSize(ie(i,"resized_images"),"80x80")),'" alt="Product image">\n                </div>\n            </div>\n        </div>\n        <div class="table-cell-xs va-middle po-size-xssc-full">',(s=ae([K(ie(ie(a,"flags"),"may_be_ordered"))?ae(['<p class="other-offers-badges-container ',Z(K(ie(o,"Safebuy"))?"mrg-top-xxs mrg-btm-none":""),'">\n                        <span class="label label-',Z(ie(ie(a,"availability"),"code")),'">',ae(K(ie(ie(a,"availability"),"days_estimation"))&&te.in(ie(ie(a,"availability"),"code"),["in_stock","limited_stock","limited_stock_qty","in_stock_provider"])?[Z(Q.trans("%count% day delivery|%count% days delivery",{"%count%":ie(ie(a,"availability"),"days_estimation")}))]:[Z(ie(ie(a,"availability"),"text"))]),"</span>\n\n                        ",K(Q.length(ie(a,"gifts")))?ae(['\n                            <span class="mrg-hrz-xs label label-limited_stock">\n                                <i class="em em-gift_fill"></i>\n                            </span>\n                        ']):"","\n\n                        ",K(s)&&K(Q.default(ie(ie(a,"flags"),"is_genius_eligible"),!1))?ae(['\n                            <span class="label-genius">\n                                <img src="',Z(ie(a,"url_genius")),'" alt="',Z(Q.trans("eMAG Genius")),'">\n                            </span>\n                        ']):"","\n\n                        ",K(ie(o,"Safebuy"))?ae([ee("@Pages/Product/components/Safebuy/Badge/template.html.twig",{width:89,className:"mrg-sep-xxs"})]):"","\n                    </p>"]):""]),""),(t=ae([ae(K(n)?['<span class="po-text-small po-text-ellipsis individual-offer-title">',Z(n),"</span>"]:[(t=1==ie(ie(a,"vendor"),"id")||1!=ie(ie(a,"vendor"),"id")&&!K(ie(ie(a,"flags"),"is_fulfilment_by_emag")),""),'\n                    <div class="po-text-small inline-block">\n                        ',Z(K(t)?"Предлаган и с доставка от":"Предлаган от "),"\n                        ",(n=ae(["\n                            <strong>",Z(ie(ie(ie(a,"vendor"),"name"),"display")),"</strong>\n                        "]),""),"\n\n                        ",ae(K(ie(o,"show_seller_ratings_in_product_pages"))&&K(ie(ie(ie(a,"vendor"),"rating"),"rating"))?['\n                            <a href="',Z(ie(ie(ie(a,"vendor"),"url"),"path")),'?ref=see_vendor_page_so">',Z(n),'</a>\n\n                            <span class="seller-rating-container js-seller-rating-container" data-phino="Dropdown" data-ph-position="bottom center" data-ph-open-on="',Z(K(oe("IS_MOBILE"))?"click":"hover"),'" data-ph-target=".seller-rating-tooltip-',Z(ie(ie(a,"vendor"),"id")),'">\n                                ',Z(ie(e,"rating")),'\n                                <i class="em em-star_fill"></i>\n                            </span>',ee("@Pages/Product/partials/seller-rating-tooltip.html.twig",{sellerName:ie(ie(ie(a,"vendor"),"name"),"display"),rating:ie(ie(a,"vendor"),"rating"),path:ie(ie(ie(a,"vendor"),"url"),"path"),id:ie(ie(a,"vendor"),"id")})]:1!=ie(ie(a,"vendor"),"id")?['\n                            <a href="',Z(ie(ie(ie(a,"vendor"),"url"),"path")),'?ref=see_vendor_page_so">\n                                ',Z(n),"\n                            </a>\n                        "]:["\n                            ",Z(n),"\n                        "]),"\n                    </div>\n                    ",K(t)?"":ae(['\n                        <div class="po-text-small">\n                            ',Z("Предлаган от"),"\n                            <strong>eMAG</strong>\n                        </div>\n                    "])])]),""),ae(K(ie(o,"Safebuy"))?[Z(t),"\n                ",Z(s)]:[Z(s),"\n                ",Z(t)]),K(Q.length(ie(a,"gifts")))?ae([ee("@Components/PanelOffers/templates/gifts.html.twig",{gifts:ie(a,"gifts"),offerId:ie(a,"id")})]):"","</div>\n    </div>\n</div>\n"])}})}),e("@Components/PanelOffers/templates/benefits.html.twig",function(){return a.t({$main:function(e){var t=e.locale,e=e.offer;return ae([(t=Q.default(t,""),""),(e=Q.default(e,[]),""),'<div class="table-cell-sm va-middle po-size-mdsc-sm po-size-smsc-sm po-size-xssc-full po-pad-xl po-pad-btm-xssc-sm">',K(ie(ie(e,"flags"),"has_warranty"))?ae([A(ie(e,"warranties"),function(e,t,a){return e?ae(["individual"==a&&K(t)?ae(['<div>\n                    <span class="jewel"><i class="em em-check"></i></span>\n                    <span class="po-text-small">\n                        ',"\n                        ",ae("-1"==ie(t,"period")?["\n                            ",Z("Включена гаранция")," ",Z(ie(t,"text")),"\n                        "]:["\n                            ",Z(Q.trans("Warranty %count% month|Warranty %count% months",{"%count%":ie(t,"period")})),"\n                        "]),"\n                    </span>\n                </div>"]):""]):""})]):"",K(ie(ie(e,"flags"),"has_pickup"))&&1!=ie(ie(e,"vendor"),"id")&&"ro"==t?ae(['<div>\n            <span class="jewel"><i class="em em-check"></i></span>\n            <span class="po-text-small">',a.trans("Personal pickup from easybox available 24/7"),"</span>\n        </div>"]):"",A(Q.default(ie(e,"labels"),[]),function(e,t){return e?ae(['<div>\n            <span class="jewel"><i class="em em-check"></i></span>\n            <span class="po-text-small">',Z(ie(t,"name")),"</span>\n        </div>"]):""}),"</div>"])}})}),e("@Components/Pricing/templates/new-price.html.twig",function(){return a.t({$main:function(e){var t=e.class_list,a=e.offer,n=e.price_from,e=e.smallest_price;return ae([(t=K(t)?" "+ne(t):"",""),(a=Q.default(a,{}),""),(a=Q.default(ie(ie(a,"price"),"current"),0),""),(n=Q.default(n,!1),""),(e=Q.default(e,{}),""),'<p class="product-new-price',Z(t),'">',K(a)?ae([ae(K(n)?[Q.trans("%from% %price%",{"%from%":'<span class="font-size-sm">'+ne("от")+"</span>","%price%":Q.raw(K(ie(e,"current"))?Q.moneyFormat(ie(e,"current")):Q.moneyFormat(a))})]:[Q.moneyFormat(a)])]):"","</p>"])}})}),e("@Components/Pricing/templates/resealed-parent-price.html.twig",function(){return a.t({$main:function(e){e=e.offer;return ae([(e=Q.default(e,{}),""),K(Q.default(ie(ie(ie(e,"price"),"recommended_retail_price"),"is_visible"),!1))?ae(["Ново",": ",Q.moneyFormat(ie(ie(ie(e,"price"),"recommended_retail_price"),"amount"))]):""])}})}),e("@Components/Pricing/templates/lowest-price-30-days.html.twig",function(){return a.t({$main:function(e){var t=e.offer,a=e.show_tooltip;return ae([(t=Q.default(t,{}),""),(a=null!=a&&a,""),(Q.default(ie(ie(t,"price"),"discount"),{}),""),K(Q.default(ie(ie(ie(t,"price"),"lowest_price_30_days"),"is_visible"),!1))&&0<Q.default(ie(ie(ie(t,"price"),"lowest_price_30_days"),"amount"),0)?ae([(e=ae(['<i class="em em-info" data-phino="Dropdown" data-ph-align="W SW E SE" data-ph-content="',"Намалена цена (показва се като задраскана цена) представлява най-ниската цена, на която е продаван продукта през последните 30 дни.",'" data-ph-open-on="',Z(K(oe("IS_MOBILE"))?"click":"hover"),'"></i>']),""),(t="<s>"+ne(Q.raw(Q.moneyFormat(ie(ie(ie(t,"price"),"lowest_price_30_days"),"amount"))))+"</s>",""),"\r\n\r\n    ","","\r\n\r\n    ",ae(["\r\n        ",K(oe("IS_MOBILE"))&&K(a)?ae(["\r\n            ",e,"\r\n        "]):"","\r\n\r\n        ",t,"\r\n\r\n        ",!K(oe("IS_MOBILE"))&&K(a)?ae(["\r\n            ",e,"\r\n        "]):"","\r\n    "])]):""])}})}),e("@Components/Pricing/templates/recommended-retail-price.html.twig",function(){return a.t({$main:function(e){var t=e.offer,a=e.show_tooltip,n=e.is_bundle;return ae([(t=Q.default(t,{}),""),(a=null!=a&&a,""),"",(e=Q.raw(K(n=null!=n&&n)?"Това е сумата от цените на продуктите, продавани поотделно. Пакетната продажна цена е показана по -долу.":"Препоръчителна цена от доставчик. Продажната цена е обявена по-долу"),""),(n=ne(Q.raw(K(n)?"Без отстъпка":"ПЦД"))+": ",""),K(Q.default(ie(ie(ie(t,"price"),"recommended_retail_price"),"is_visible"),!1))?ae([(e=ae(['<i class="em em-info" data-phino="Dropdown" data-ph-align="W SW E SE" data-ph-content="',Z(e),'" data-ph-open-on="',Z(K(oe("IS_MOBILE"))?"click":"hover"),'"></i>']),""),K(oe("IS_MOBILE"))&&K(a)?ae(["\r\n        ",e,"\r\n    "]):"","\r\n\r\n    ",Z(n),Q.moneyFormat(ie(ie(ie(t,"price"),"recommended_retail_price"),"amount")),"\r\n\r\n    ",!K(oe("IS_MOBILE"))&&K(a)?ae(["\r\n        ",e,"\r\n    "]):""]):""])}})}),e("@Components/Pricing/templates/rrp-and-lp30d.html.twig",function(){return a.t({$main:function(e){var t=e.show_tooltip,a=e.is_bundle,n=e.offer;return ae(["",(a=null!=a&&a,""),(e=ae([ee("@Components/Pricing/templates/lowest-price-30-days.html.twig",{offer:n,show_tooltip:t=null!=t&&t})]),""),(t=ae([ee("@Components/Pricing/templates/recommended-retail-price.html.twig",{offer:n,is_bundle:a,show_tooltip:t})]),""),ae(K(Q.default(ie(ie(ie(n,"price"),"lowest_price_30_days"),"is_visible"),!1))&&K(Q.default(ie(ie(ie(n,"price"),"recommended_retail_price"),"is_visible"),!1))?[Z(e)]:[Z(t),"\r\n    ",Z(e)])])}})}),e("@Components/Pricing/templates/deal.html.twig",function(){return a.t({$main:function(e){var t=e.show_deal,e=e.offer;return ae([(t=Q.default(t,!1),""),K(ie(ie(e,"flags"),"has_discount"))&&K(t)&&K(ie(ie(ie(e,"price"),"discount"),"is_visible"))?ae(['<p class="product-this-deal">\r\n    ',Q.capitalize(ie(ie(ie(e,"price"),"discount"),"label")),": ",Z(Q.raw("percent"==ie(ie(ie(e,"price"),"discount"),"type")?ne(ie(ie(ie(e,"price"),"discount"),"percent"))+"%":Q.moneyFormat(ie(ie(ie(e,"price"),"discount"),"absolute")))),"\r\n</p>"]):""])}})}),e("@Components/Pricing/template.html.twig",function(){return a.t({$main:function(e){var t,a=e.flags,n=e.offer,i=e.has_resealed,o=e.used_and_unavailable,s=e.has_unfair_price,r=e.show_deal,l=e.show_rrp_cmmp,d=e.is_bundle,c=e.is_resealed,u=e.multiple_offer_count,p=e.current_price_prefix,m=e.smallest_price,f=e.show_tooltip;return ae([(a=Q.default(a,{}),""),(n=Q.default(n,{}),""),(i=Q.default(i,!1),""),(o=Q.default(o,!1),""),(s=Q.default(s,!1),""),(r=Q.default(r,!1),""),(l=null==l||l,""),(d=null!=d&&d,""),(c=Q.default(c,!1),""),(u=Q.default(u,0),""),(p=Q.default(p,""),""),(m=Q.default(m,{}),""),(t=K(Q.default(ie(ie(n,"flags"),"has_bundle_first"),!1))&&!(K(i)||K(o)),""),(f=null!=f&&f,""),(e=K(r)&&!K(s)&&K(ie(ie(n,"flags"),"has_discount"))&&K(ie(ie(ie(n,"price"),"discount"),"is_visible")),""),(a=ae([ee("@Components/Pricing/templates/new-price.html.twig",{offer:K(t)?ie(n,"bundle_first"):n,class_list:K(e)?"has-deal":"",price_from:Q.default((K(ie(a,"is_family"))||K(ie(a,"has_family")))&&K(ie(ie(n,"price"),"is_min")),!1),smallest_price:m})]),""),(f=ae([K(l)?ae(['<p class="pricing rrp-lp30d">',ae(K(c)?[ee("@Components/Pricing/templates/resealed-parent-price.html.twig",{offer:K(t)?ie(n,"bundle_first"):n})]:[ee("@Components/Pricing/templates/rrp-and-lp30d.html.twig",{offer:K(t)?ie(n,"bundle_first"):n,is_bundle:d,show_tooltip:f})]),"</P>"]):""]),""),ae(K(i)||K(o)||K(s)&&!K(d)&&1<u?[K(i)||K(o)?ae(['<p class="pricing rrp">',ee("@Components/Pricing/templates/resealed-parent-price.html.twig",{offer:K(t)?ie(n,"bundle_first"):n}),"</P>"]):"",ee("@Components/Pricing/templates/new-price.html.twig",{offer:n,class_list:K(s)?"unfair-price":"",price_from:!0,smallest_price:m})]:[Z(f),K(p)?ae(['\r\n        <p class="product-price-prefix">',Z(p),"</p>\r\n    "]):"",Z(a)]),K(s)?"":ae([ee("@Components/Pricing/templates/deal.html.twig",{offer:n,show_deal:r})])])}})}),e("@Components/Pricing/templates/legal-price.html.twig",function(){return a.t({$main:function(e){var t,a,n,i,o=e.offer,s=e.class_name;return ae([(t=Q.default(ie(ie(o,"flags"),"show_legal_price"),!1),""),(a=Q.default(ie(o,"display_type"),""),""),(n=Q.default(ie(ie(o,"price"),"legal"),0),""),(i=Q.default(ie(ie(o,"legal_unit"),"name"),""),""),(e=Q.default(ie(ie(o,"legal_unit"),"value"),1),""),(s=Q.default(s,""),""),(o=!1,""),te.in("font-size-",s)?ae([(o=!0,"")]):"",K(t)&&"supermarket"!=a?ae([(i=1<e?ne(e)+ne(i):i,""),'<p class="legal-price-label',Z(K(o)?"":" font-size-ms"),Z(K(s)?" "+ne(s):""),' ">',Z(Q.trans("Price/%unit%",{"%unit%":i})),": ",Q.moneyFormat(n),"</p>"]):""])}})}),e("@Components/PanelOffers/templates/price.html.twig",function(){return a.t({$main:function(e){var t=e.hasDiscount,a=e.price,n=e.containerClass,i=e.priceClass,o=e.eCredit,s=e.hasECredit,r=e.offerId,l=e.gtmClass,d=e.shippingCost,c=e.show_deal,u=e.is_resealed,p=e.show_rrp_cmmp,m=e.is_bundle,e=e.offer;return ae([(Q.default(t,!1),""),(a=Q.default(a,[]),""),(n=Q.default(n,null),""),(Q.default(i,null),""),(o=Q.default(o,[]),""),(s=Q.default(s,!1),""),(r=Q.default(r,null),""),(l=Q.default(l,null),""),(d=Q.default(d,-1),""),(c=Q.default(c,!1),""),(u=Q.default(u,!1),""),(p=null!=p&&p,""),(m=null!=m&&m,""),'<div class="table-cell-sm va-middle po-size-mdsc-sm po-size-smsc-sm po-size-xssc-full po-pad-xl po-text-small ',Z(n),'">',ee("@Components/Pricing/template.html.twig",{offer:e,show_deal:c,is_resealed:u,show_rrp_cmmp:p,is_bundle:m}),ee("@Components/Pricing/templates/legal-price.html.twig",{offer:e,class_name:"mrg-btm-none"}),'\n\n    <p class="',-1==d?ae(["hidden "]):"",'po-shipping-cost-container js-po-shipping-cost-container">\n        ',Z("Доставка"),": ",'<span class="js-po-shipping-cost-value',0==d?ae([" text-success"]):"",'">',-1!=d?ae([ae(0==d?[Z("Безплатна")]:[Q.moneyFormat(d)])]):"","</span>\n    </p>\n\n    ",K(s)?ae(['\n        <input type="hidden" name="ecredit_product" value="">\n        <input type="hidden" name="ecredit_installments" value="">\n        <button type="button" class="btn btn-link btn-sm pad-hrz-none pad-sep-none trigger-ecredit-modal-resealed po-text-small ',Z(l),'" data-offer-id="',Z(r),'" data-new-price="',Z(ie(a,"current")),'">\n            <strong>',Z("Вноски"),"</strong>\n            ",Q.trans("from %value% / month",{"%value%":Q.raw(Q.moneyFormat(ie(ie(o,"best_installment"),"value")))}),"\n        </button>\n    "]):"","\n</div>\n"])}})}),e("@Components/PanelOffers/templates/action-button.html.twig",function(){return a.t({$main:function(e){var a=e.inputName,t=e.inputValue,n=e.multipleOffers,i=e.offerId,o=e.labelData,s=e.gtmClass,r=e.configData,l=e.extraClass,d=e.mayBeOrdered,c=e.anchorId,u=e.hasEcredit,p=e.moduleStatus,m=e.price,f=e.onlyInShowroom,h=e.showroomsData,e=e.btnClass;return ae([(a=Q.default(a,"product[]"),""),(t=Q.default(t,null),""),(n=Q.default(n,[]),""),(i=Q.default(i,null),""),(o=Q.default(o,"Добави в количката"),""),(s=Q.default(s,null),""),(r=Q.default(r,null),""),(l=Q.default(l,""),""),(d=null==d||d,""),(c=Q.default(c,null),""),(u=Q.default(u,!1),""),(p=Q.default(p,{}),""),(m=Q.default(m,[]),""),(f=Q.default(f,!1),""),(h=Q.default(h,{}),""),'<div class="block-sm table-cell-md va-middle po-size-mdsc-sm mar-hrz-sm-smsc pad-hrz-sm-mdsc po-product-button ',Z(l),'">',ae(K(f)?['<button type="button" class="btn btn-default ',Z(e),' btn-block po-text-small js-trigger-product-showroom-reservation-modal yeahReserveThisProduct"\n            data-offerid="',Z(i),'"\n            data-localities="',Z(Q.json_encode(h)),'">',Z("Резервирай в шоурума "),"</button>"]:[ae(K(d)?[ae(K(Q.length(n))?[A(n,function(e,t){return e?ae(['<input type="hidden" name="',Z(a),'" value="',Z(t),'">']):""})]:['<input type="hidden" name="',Z(a),'" value="',Z(t),'">']),'<button type="submit" class="btn btn-default btn-sm btn-block bundle-product-buy-button po-text-small ',Z(s),'" data-config="',Z(r),'" data-offer-id="',Z(i),'">',Z(o),"</button>",K(ie(p,"Ecredit_Other_Offers_Flag"))&&"other-offers-list"===c&&K(u)?ae(['<button type="button" class="btn btn-default btn-sm btn-block po-text-small trigger-ecredit-modal-resealed gtm_7waj0vch" data-offer-id="',Z(i),'" data-new-price="',Z(ie(m,"current")),'" data-product-type="other-offer">\n                    ',Z("Купи на изплащане"),'\n                </button>\n                <input type="hidden" name="ecredit_product" value="">\n                <input type="hidden" name="ecredit_installments" value="">']):""]:['<button type="submit" class="btn btn-default btn-sm btn-block po-text-small" disabled>',Z(o),"</button>"])]),"</div>"])}})}),e("@Components/PanelOffers/templates/list.html.twig",function(){return a.t({$main:function(e){var t=e.appData,a=e.vendor,n=e.locale,i=e.offersData,o=e.formAction,s=e.productName,r=e.productImage,l=e.moduleStatus,d=e.anchorId,c=e.showGeniusBadge,u=e.categoryId,p=e.legalUnit,m=e.offerDisplayType,f=e.bundleFirstFlags,h=e.gtmActionButton,v=e.gtmPrice,g=e.gtmDetails;return ae([(Q.default(t,{}),""),(Q.default(a,{}),""),(n=Q.default(n,""),""),(i=Q.default(i,[]),""),(o=Q.default(o,null),""),(s=Q.default(s,null),""),(r=Q.default(r,[]),""),(l=Q.default(l,{}),""),(d=Q.default(d,null),""),(c=Q.default(c,!1),""),(Q.default(u,null),""),(p=Q.default(p,{}),""),(m=Q.default(m,"default"),""),(Q.default(f,{}),""),(h=Q.default(h,"gtm_629eqg"),""),(v=Q.default(v,null),""),(g=Q.default(g,null),""),A(i,function(e,t,a){return e?ae(['<div class="panel-body pad-sep-sm pad-hrz-none js-po-offer" data-offer-id="',Z(ie(t,"id")),'" data-vendor-id="',Z(ie(ie(t,"vendor"),"id")),'">\n        <form action="',Z(o),'" method="post">\n            <div class="table-md po-row">',ee("@Components/PanelOffers/templates/details.html.twig",{offer:t,productImage:Q.default(ie(t,"image"),r),productName:Q.default(ie(t,"name"),s),gtmClass:g,moduleStatus:l,showGeniusBadge:c}),ee("@Components/PanelOffers/templates/benefits.html.twig",{offer:t,locale:n}),ee("@Components/PanelOffers/templates/price.html.twig",{offer:{display_type:Q.default(ie(t,"display_type"),m),bundle_first:ie(t,"bundle_first"),flags:ie(t,"flags"),price:ie(t,"price"),legal_unit:Q.default(ie(t,"legal_unit"),p)},hasDiscount:ie(ie(t,"flags"),"has_discount"),price:ie(t,"price"),gtmClass:v,shippingCost:Q.default(ie(t,"shippingCost"),-1)}),ee("@Components/PanelOffers/templates/action-button.html.twig",{inputName:"product[]",inputValue:ie(t,"id"),offerId:ie(t,"id"),labelData:K(ie(ie(t,"flags"),"may_be_ordered"))?"Добави в количката":"pазпродадено",gtmClass:h,mayBeOrdered:ie(ie(t,"flags"),"may_be_ordered"),anchorId:d,hasEcredit:ie(ie(t,"flags"),"has_ecredit"),moduleStatus:l,price:ie(t,"price"),onlyInShowroom:ie(ie(t,"flags"),"only_in_showroom"),showroomsData:ie(ie(t,"availability"),"showrooms")}),"</div>\n        </form>\n    </div>"]):""})])}})}),e("@Components/PanelOffers/templates/title.html.twig",function(){return a.t({$main:function(e){var t=e.isCollapsed,a=e.title,n=e.countData,e=e.panelId;return ae([(t=Q.default(t,!1),""),(a=Q.default(a,null),""),(n=Q.default(n,0),""),(e=Q.default(e,null),""),(n=ae([0<n?ae(["\n        <small>(",Z(Q.trans("%count% offer|%count% offers",{"%count%":n})),")</small>"]):""]),""),ae(K(t)?['<a href="#" class="panel-heading no-underline clearfix" data-phino="CollapseOne" data-ph-target="#',Z(e),'">\n        <span class="panel-title pull-left">',Z(a),'</span>\n        <i class="pull-right em icon-arrow"></i>\n        <div class="panel-title pull-right">',Z(n),"</div>\n    </a>"]:['<h3 class="title',Z(K(oe("IS_MOBILE"))?" mobile-title":""),' mrg-sep-none pad-top-xs pad-btm-xs pad-hrz-sm">\n        ',Z(a),"\n        ",Z(n),"\n    </h3>"])])}})}),e("@Components/PanelOffers/templates/toggle-button.html.twig",function(){return a.t({$main:function(e){var t=e.initLabel,a=e.midLabel,n=e.endLabel,i=e.gtmClass,o=e.isAsync,s=e.initCount,r=e.pageSize,l=e.collapsiblesSelector,d=e.noCount,e=e.panelId;return ae([(t=Q.default(t,"Виж повече"),""),(a=Q.default(a,"Виж повече"),""),(n=Q.default(n,"Затвори"),""),(i=Q.default(i,null),""),(o=Q.default(o,!1),""),(s=Q.default(s,1),""),(r=Q.default(r,4),""),(l=Q.default(l,".panel-body"),""),(d=Q.default(d,!1),""),'<div>\n    <a href="#" class="',Z(K(o)?"js-load-more":"")," panel-heading po-panel-toggler ",Z(i),'"\n        ',K(o)?"":ae(["\n            ",K(oe("IS_MOBILE"))?"":ae(['\n                data-phino="CollapsiblePanels"\n            ']),'\n            data-ph-target="',Z(e),'"\n            data-ph-collapsibles="',Z(l),'"\n            data-ph-init-count="',Z(s),'" data-ph-page-size="',Z(r),"\"\n            data-ph-init-label=\"<i class='caret'></i>",Z(t),Z(K(d)?"":" ($N)"),"\"\n            data-ph-mid-label=\"<i class='caret'></i>",Z(a),Z(K(d)?"":" ($N)"),"\"\n            data-ph-end-label=\"<i class='caret caret-up'></i>",Z(n),'"\n        ']),"\n    ><i class='caret'></i>",Z(t),"</a>\n</div>\n"])}})}),e("@Components/PanelOffers/template.html.twig",function(){return a.t({$main:function(e){var t=e.locale,a=e.appData,n=e.vendor,i=e.hasOffers,o=e.isCollapsed,s=e.title,r=e.anchorId,l=e.countData,d=e.offersData,c=e.initLabel,u=e.endLabel,p=e.formAction,m=e.productName,f=e.productImage,h=e.isAsync,v=e.moduleStatus,g=e.showGeniusBadge,_=e.panelId,y=e.listTemplate,b=e.categoryId,w=e.legalUnit,P=e.offerDisplayType,E=e.bundleFirstFlags,M=e.gtmToggleButton,k=e.gtmActionButton,x=e.gtmPrice,C=e.gtmDetails,D=e.initCount,H=e.pageSize,e=e.collapsiblesSelector;return ae([(t=Q.default(t,""),""),(a=Q.default(a,""),""),(n=Q.default(n,""),""),(i=Q.default(i,!1),""),(o=Q.default(o,!1),""),(s=Q.default(s,null),""),(r=Q.default(r,null),""),(l=Q.default(l,0),""),(d=Q.default(d,[]),""),(c=Q.default(c,null),""),(u=Q.default(u,null),""),(p=Q.default(p,null),""),(m=Q.default(m,null),""),(f=Q.default(f,[]),""),(h=Q.default(h,!1),""),(v=Q.default(v,{}),""),(g=Q.default(g,!1),""),(_=Q.default(_,"panel-offer-"+ne(S.random())),""),(y=Q.default(y,"@Components/PanelOffers/templates/list.html.twig"),""),(b=Q.default(b,null),""),(w=Q.default(w,{}),""),(P=Q.default(P,"default"),""),(E=Q.default(E,{}),""),(M=Q.default(M,null),""),(k=Q.default(k,null),""),(x=Q.default(x,null),""),(C=Q.default(C,null),""),K(i)?ae(['\n    <div class="container panel-offers-container js-panel-offers-container',Z(K(oe("IS_MOBILE"))?" show-only-first-offer":""),'"',K(r)?ae([' id="',Z(r),'"']):"",">",K(r)?ae(['<a id="-',Z(r),'" class="scroll-anchor"></a>']):"",'<div class="',Z(K(o)?"panel panel-default":""),'">',ee("@Components/PanelOffers/templates/title.html.twig",{title:s,countData:l,isCollapsed:o,panelId:_}),'<div class="',Z(K(o)?"collapse":"panel panel-default collapse-elements"),'" id="',Z(_),'"\n                ',K(h)?ae(['\n                    data-async-template="',Z(y),'"\n                    data-panel-id="',Z(_),'"\n                    data-form-action="',Z(p),'"\n                    data-product-name="',Z(m),'"\n                    data-product-image="',Z(Q.json_encode(f)),'"\n                    data-gtm-price="',Z(x),'"\n                    data-gtm-details="',Z(C),'"\n                    data-gtm-action-button="',Z(k),'"\n                    data-count="',Z(l),'"\n                    data-anchor-id="',Z(r),'"\n                    data-genius-badge="',Z(K(g)?"1":"0"),'"\n                ']):"",'>\n                    <div class="list-placeholder">',ee(y,{appData:a,vendor:n,locale:t,offersData:d,legalUnit:w,offerDisplayType:P,bundleFirstFlags:E,formAction:p,productImage:f,productName:m,gtmPrice:x,gtmDetails:C,gtmActionButton:k,moduleStatus:v,showGeniusBadge:g,anchorId:r,categoryId:b}),"</div>",K(o)&&!K(h)||l<=1&&Q.length(d)<=1?"":ae([ee("@Components/PanelOffers/templates/toggle-button.html.twig",{panelId:_,initLabel:c,endLabel:u,gtmClass:M,isAsync:h,initCount:Q.default(D,null),pageSize:Q.default(H,null),collapsiblesSelector:Q.default(e,".panel-body")})]),"</div>\n        </div>\n    </div>\n"]):"","\n"])}})}),e("@Components/Compare/templates/compare-container.html.twig",function(){return a.t({$main:function(e){return ae(['<div class="product-compare-container">\n    <ul class="product-comparison-list"></ul>\n    <div class="product-comparison-trigger">\n        <a href="#" class="btn btn-sm btn-info" id="compare-link">\n            <span>',"Сравни",'</span>\n            <i class="em em-check"></i>\n        </a>\n    </div>\n</div>'])}})}),e("@Components/Compare/templates/compare-item.html.twig",function(){return a.t({$main:function(e){e=e.item;return ae(['<li class="product-comparison-item">\n    <div class="thumbnail-wrapper">\n        ',K(e)&&K(ie(e,"img"))?ae(['\n            <span class="thumbnail"',K(ie(e,"title"))?ae([' title="',Z(ie(e,"title")),'"']):"",'>\n                <img src="',Z(ie(e,"img")),'" alt="',Z(ie(e,"alt")),'">\n            </span>\n        ']):"","\n    </div>\n    ",K(e)&&K(ie(e,"img"))?ae(['\n        <button class="remove-item" data-id="',Z(ie(e,"id")),'">×</button>\n    ']):"","\n</li>"])}})}),e("@Components/Compare/template.html.twig",function(){return a.t({$main:function(e){return ae([])}})}),e("@Components/LiveAgentAnimatedChatButton/button.html.twig",function(){return a.t({$main:function(e){return ae(['<div id="liveagent_animated_chat_button_online" class="live-chat-btn-base live-chat-animated-btn">\n    <button class="btn-link start-chat-btn-wrap js-start-chat-btn">\n        <p class="chat-message">',Q.trans("Can't decide? Let me help!"),'</p>\n        <p class="start-chat-btn inline-block--top"><i class="em em-live-chat"></i><span>',Z(Q.trans("Start conversation")),'</span></p>\n    </button>\n    <button class="btn-link expand-collapse-chat-btn js-expand-collapse-chat">\n        <i class="em em-live-chat"></i>\n        <i class="font-size-sm em em-close"></i>\n    </button>\n</div>'])}})}),e("@Components/MapComponent/templates/modal.html.twig",function(){return a.t({$main:function(e){var t=e.title,e=e.btnLabel;return ae([(t=Q.default(t,null),""),"\n",(e=Q.default(e,"Затвори"),""),'\n\n<div class="modal-header">\n    <button type="button" class="close hidden-xs gtm_389rmzgxza" data-dismiss="modal" aria-label="',Z("Затвори"),'"><i class="em em-close"></i></button>\n    ',K(t)?ae(['\n    \t<h4 class="modal-title hidden-xs">',Z(t),"</h4>\n    "]):"",'\n    <h4 class="modal-title close',Z(K(t)?" visible-xs":""),'"><i class="em em-left font-size-base"></i> ',Z(e),'</h4>\n</div>\n\n<div class="modal-body"></div>\n'])}})}),e("@Components/Genius/ProductBenefits/template.html.twig",function(){return a.t({$main:function(e){var t=e.isGeniusMember,a=e.data,e=e.isTrial7;return ae([(t=Q.default(t,!1),""),(a=Q.default(ie(a,"genius_benefits"),!1),""),K(a)?ae(['<div class="emphasized-box emphasized-genius">\n        <div class="genius-benefits-box">\n            <i class="genius-benefits-icon"></i>\n            <div class="emphasized-content pad-sep-xs pad-hrz-xs">\n                <div class="semibold">',ie(a,"title"),'</div>\n\n                <div class="emphasize-description mrg-sep-xs">',ie(a,"subtitle"),"</div>",K(Q.length(ie(a,"benefits")))?ae(['<ul class="mrg-btm-xxs ',K(t)?ae(["member"]):"",'">\n                        ',A(ie(a,"benefits"),function(e,t){return e?ae(['\n                            <li class="em-check mrg-top-xxs">',ie(t,"text"),"</li>\n                        "]):""}),"\n                    </ul>\n                "]):"","\n\n                ",K(ie(a,"try_for_30_days_url"))&&!K(t)?ae(['\n                    <a href="',Z(K(e)?"/genius":ne(K(oe("IS_MOBILE"))?ie(ie(a,"try_for_30_days_url"),"mobile_base"):ie(ie(a,"try_for_30_days_url"),"desktop_base"))+ne(ie(ie(a,"try_for_30_days_url"),"path"))),'?ref=genius_pd_benefits-widget" class="double-angle font-size-ms semibold text-secondary">\n                        ',Q.spaceless(ae(["\n                            <span>",Z(K(e)?Q.trans("try Genius FREE"):Q.raw(ie(a,"try_for_30_days_title"))),"</span>\n                        "])),"\n                    </a>\n                "]):"","\n            </div>\n        </div>\n    </div>"]):""])}})}),e("@Components/FeedbackCenter/button.html.twig",function(){return a.t({$main:function(e){e=e.isMobile;return ae([(e=Q.default(e,!1),""),ae(K(e)?['<div class="row mrg-btm-sm">\n        <div class="col-md-4 col-md-offset-4">\n            <a class="btn btn-block btn-default btn-icon js-report-product-issue">\n                <i class="em em-exclamation-bubble"></i>\n                ',Z(Q.trans("Report issues with product description")),"\n            </a>\n        </div>\n    </div>"]:['<a class="btn btn-default btn-icon btn-sm js-report-product-issue">\n        <i class="em em-exclamation-bubble"></i>\n        ',Z(Q.trans("Report issues with product description")),"\n    </a>"])])}})}),e("@Components/FeedbackCenter/modal.html.twig",function(){return a.t({$main:function(e){e=e.feedbackCenter;return ae([(e=Q.default(e,null),""),K(e)?ae(['<div class="modal-report-product-issues">\n        <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal" aria-label="',Z("Затвори"),'"><i class="em em-close"></i></button>\n            <h4 class="modal-title">',Z(ie(e,"title")),'</h4>\n        </div>\n        <div class="modal-body">\n            <form action="" method="post" id="form-report-product-issues" class="js-form-report-product-issues">\n                <div class="row">\n                    <div class="col-md-12">',A(ie(e,"questions"),function(e,t){return e?ae(['<div class="form-group">\n                                <label for="answers-',Z(ie(t,"id")),'">',Z(ie(t,"question")),"</label>","choice"==ie(ie(t,"answers_values"),"type")?ae(['<select name="answers[',Z(ie(t,"id")),']"',' id="answers-',Z(ie(t,"id")),'"',' class="form-control"',' data-phino="Select"',' data-ph-empty-label="',Z(ie(t,"question")),'"',K(ie(t,"is_required"))?ae([' data-v-required="true"']):"",'>\n                                        <option selected value="">',Z(ie(t,"question")),"</option>",A(ie(ie(t,"answers_values"),"values"),function(e,t){return e?ae(['<option value="',Z(ie(t,"key")),'">',Z(ie(t,"name")),"</option>"]):""}),"</select>"]):"","text"==ie(ie(t,"answers_values"),"type")?ae(['<textarea name="answers[',Z(ie(t,"id")),']"',' id="answers-',Z(ie(t,"id")),'"',' class="form-control"',' maxlength="2000"',' rows="4"',K(ie(t,"is_required"))?ae([' data-v-required="true"']):"","></textarea>"]):"","</div>"]):""}),'<div class="form-group">\n                            <p class="info-report-product-issue-container">\n                                <i class="em em-info"></i>\n                                ',Z(Q.trans("Please do not include personal info")),'\n                            </p>\n                        </div>\n                    </div>\n\n                    <div class="col-xs-12 col-sm-12 col-md-4">\n                        <button type="submit" class="btn btn-primary btn-sm btn-block">',Z(Q.trans("Send issue report!")),"</button>\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>"]):""])}})}),e("@Components/ShoppingAssistantBanner/template.html.twig",function(){return a.t({$main:function(e){var t=e.configurator,a=e.className,n=e.ref_prefix;return ae([(t=Q.default(t,null),""),(e=Q.default(ie(t,"link"),"#"),""),(a=Q.default(a,""),""),(n=Q.default(n,""),""),K(t)?ae(['<div class="listing-panel listing-shopping-assistant-banner ',Z(a),'">\r\n        <div class="shopping-assistant-icon-wrap">\r\n            <img src="//',Z(oe("CDN")),'/layout/ro/static-upload/icon-shopping-assistant-no-bkg.svg" class="img-holder" alt="shopping assistant icon">\r\n        </div>\r\n        <div class="">\r\n            <div class="shopping-assistant-text-wrap">\r\n                <span>',"<strong>С Търсачката за продукти</strong>","</span>\r\n                <span>","намери лесно, това което искаш",'</span>\r\n            </div>\r\n            <a href="',Z(Q.addQueryParam(e,"ref",K(ie(t,"ref"))?ne(n)+ne(ie(t,"ref")):"")),'" class="mrg-lft-auto btn btn-rounded btn-secondary ',Z(K(oe("IS_MOBILE"))?"btn-sm":"btn-md"),' shopping-assistant-btn">',"Избери правилния продукт","</a>\r\n        </div>\r\n    </div>"]):""])}})}),e("@Components/EasyCare/templates/partials/header.html.twig",function(){return a.t({$main:function(e){return ae(['<div class="modal-header">\n    <button type="button" class="close gtm_hs832p1zim" data-dismiss="modal" aria-label="',Z("Затвори"),'"><i class="em em-close"></i></button>\n    <h4 class="modal-title">',Z(Q.trans("Service Casco EasyCare")),"</h4>\n</div>"])}})}),e("@Components/EasyCare/templates/step-1.html.twig",function(){return a.t({$main:function(e){var t=e.options,o=e.tracking,s=e.offerId;return ae([(t=Q.default(t,[]),""),(o=Q.default(o,{}),""),(s=Q.default(s,""),""),'<div class="step step-1">',ee("@Components/EasyCare/templates/partials/header.html.twig",I({},e,{ecOptions:t,tracking:o,offerId:s})),'<div class="modal-body">\n        <div class="ec-table-items">',A(t,function(e,t){var a,n,i;return e?ae([(a=["Валидност"],""),(n=E(ie(t,"value"))+E(Q.default(ie(e,"index"),1)),""),(i=E(ie(e,"index0"))+1,""),(e=ie(o,"product_"+ne(i)),""),K(n)?ae([(a=Q.merge(a,[Q.trans("%count% year|%count% years|%count% years",{"%count%":n})]),"")]):"",'<a href="#" class="ew-item ec-item ew-item-',Z(i)," js-choose-ec-casco ",Z(e),'" data-next-step="2" data-ew="',Z(i),'"\n                   data-service="',Z(ie(t,"id")),'"\n                   data-name="',ie(t,"name"),'"\n                   data-price="',Z(Q.default(ie(ie(t,"price"),"current"),null)),'" data-initial-price="',Z(Q.default(ie(ie(t,"price"),"initial"),null)),'"\n                   data-price-discount="',Z(ie(ie(ie(t,"price"),"discount"),"percent")),'" data-offer-id="',Z(s),'"\n                   data-upsell-id="',Z(Q.default(ie(t,"upsell_id"),"")),'"\n                >\n                    <div class="ec-title">',ie(t,"name"),'</div>\n\n                    <div class="ec-body pad-hrz-xs pad-sep-xs">\n                        <ul class="ec-benefits-list">\n                            <li class="benefit-yes">',Z(Q.trans("Covers approximately all types of damage and theft")),'</li>\n                            <li class="benefit-yes">',Z(Q.trans("The insurance policy is also valid abroad")),'</li>\n                        </ul>\n\n                        <div class="ec-pricing">\n                            <div class="price">',0<Q.default(ie(ie(ie(t,"price"),"discount"),"percent"),0)?ae(['<div class="price-discount">\n                                        <span class="old-price">',Q.moneyFormat(ie(ie(t,"price"),"initial")),'</span>\n                                        <span class="label label-danger">-',Z(ie(ie(ie(t,"price"),"discount"),"percent")),"%</span>\n                                    </div>"]):"","<div>",Q.moneyFormat(ie(ie(t,"price"),"current")),"</div>\n                            </div>\n                            <div>",Z(Q.join(a," ")),'</div>\n\n                            <button class="btn btn-block btn-default mrg-top-md">',Z(Q.trans("Choose Casco")),'</button>\n                            <div class="ec-item-checked">',Z("Добавено"),"</div>\n                        </div>\n                    </div>\n                </a>"]):""}),'</div>\n\n        <p class="ec-details pad-hrz-md mrg-top-xs mrg-btm-xs text-center">',Q.trans("For more details on insurance click here for IPID and click here for cover letter."),'</p>\n        <p class="ec-details text-muted mrg-btm-xs pad-hrz-xs text-center">',Q.trans("We recommend that you protect your purchase by choosing one of the casco insurance packages. This service package is offered by Allianz-Tiriac Asigurari."),"</p>\n    </div>\n</div>"])}})}),e("@Components/EasyCare/templates/step-2.html.twig",function(){return a.t({$main:function(e){return ae(['<div class="step step-2 hidden">',ee("@Components/EasyCare/templates/partials/header.html.twig",I({},e)),'<div class="modal-body">\n        <div class="row">\n            <div class="col-md-6 col-md-offset-3">\n                <h3 class="ec-title-easycare">',Z(Q.trans("Easycare modal selected title")),'</h3>\n\n                <h4 class="mrg-top-lg font-bold">',Z("Лични данни"),'</h4>\n\n                <form class="js-easycare-user-form">\n\n                    <div class="form-group">\n                        <label for="easycare-user-name" class="mrg-top-xs"><span class="text-muted">',Z(Q.trans("Last name")),'</span></label>\n                        <input type="text" class="form-control" id="easycare-user-name" value="" placeholder="',Z(Q.trans("last_name_placeholder")),'" name="name" required/>\n                    </div>\n\n                    <div class="form-group">\n                        <label for="easycare-user-last_name" class="mrg-top-xs"><span class="text-muted">',Z("Име"),'</span></label>\n                        <input type="text" class="form-control" id="easycare-user-last_name" value="" placeholder="',Z(Q.trans("first_name_placeholder")),'" name="last_name" required/>\n                    </div>\n\n                    <div class="form-group">\n                        <label for="easycare-user-cnp" class="mrg-top-xs"><span class="text-muted">',Z("Единен граждански номер (ЕГН): Моля, въведи своето ЕГН, не използвай ЕГН на роднина или приятел."),'</span></label>\n                        <input type="text" class="form-control" id="easycare-user-cnp" value="" placeholder="',Z(Q.trans("user_account_cnp_placeholder")),'" name="cnp" data-v-cnp="true" data-v-length="13" required/>\n                    </div>\n\n\n                    <div class="cnp-info mrg-top-xs mrg-btm-sm font-size-sm">',Q.trans("The CNP is requested by the insurance companies. In order to calculate the correct price, they have the legal obligation to verify the number of damages, found with the help of the CNP and the chassis series by querying the CSA / CEDAM database."),'</div>\n\n                    <div class="form-group agreement-checkbox">\n                        <div class="checkbox-custom inline-block--middle">\n                            <input type="checkbox" class="form-check-input" name="easycare-terms" value="" id="easycare-terms" required>\n                            <label for="easycare-terms">',Q.trans("I agree with the data processing"),'</label>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n\n    <div class="modal-footer">\n        <div class="row">\n            <div class="col-sm-5">\n                <button type="button" class="js-go-to-step font-size-sm btn btn-go-back gtm_bhr328syw7" data-next-step="1"><span class="em em-left" aria-hidden="true"></span> ',"Назад",'</button>\n            </div>\n            <div class="col-sm-6">\n                <button type="button" class="btn btn-primary btn-default btn-lg js-validate-user-form gtm_m93uttyrqk" data-next-step="3">',"Напред","</button>\n            </div>\n        </div>\n    </div>\n</div>"])}})}),e("@Components/EasyCare/templates/step-3.html.twig",function(){return a.t({$main:function(e){return ae(['<div class="step step-3 hidden">',ee("@Components/EasyCare/templates/partials/header.html.twig",I({},e)),'<div class="modal-body">\n        <div class="agreement-text">\n            ',Q.trans("easy care modal terms and conditions placeholder"),'\n        </div>\n    </div>\n\n    <div class="modal-footer">\n        <div class="agreement-info pad-btm-sm text-center">',Q.trans('To activate the "Finish" button you must read the Terms and Conditions'),'</div>\n        <div class="row">\n            <div class="col-sm-5"><button type="button" class="js-go-to-step font-size-sm btn btn-go-back gtm_bhr328syw7" data-next-step="2"><span class="em em-left" aria-hidden="true"></span> ',Z("Назад"),'</button></div>\n            <div class="col-sm-7"><button type="button" class="js-finish-easycare btn btn-primary btn-default btn-lg gtm_l7071s2mta" disabled>',Z(Q.trans("Finish")),"</button></div>\n        </div>\n    </div>\n</div>"])}})}),e("@Components/EasyCare/modal.html.twig",function(){return a.t({$main:function(e){var t=e.options,a=e.tracking,n=e.offerId;return ae([ee("@Components/EasyCare/templates/step-1.html.twig",{options:t,tracking:a,offerId:n}),ee("@Components/EasyCare/templates/step-2.html.twig",I({},e)),ee("@Components/EasyCare/templates/step-3.html.twig",I({},e))])}})}),e("@Components/ExtendedWarranty/modal.html.twig",function(){return a.t({$main:function(e){var n,i,o,s,t=e.app,a=e.offer,r=e.warranties,e=e.loop;return ae([(n=Q.default(ie(ie(t,"request"),"locale")),""),(i={1:"gtm_auxmgjm0",2:"gtm_vj5cu5ge",3:"gtm_u18o8l7v"},""),'<div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-label="',Z("Затвори"),'"><i class="em em-close"></i></button>\n    <h4 class="modal-title">',Z("Удължи гаранцията"),'</h4>\n</div>\n<div class="modal-body">\n    <div class="extended-warranty">\n        <div class="ew-table">',K(ie(ie(a,"flags"),"has_services"))&&K(ie(ie(a,"flags"),"has_warranty"))?ae([K(ie(ie(a,"warranties"),"individual"))?ae([(o=ie(ie(ie(ie(a,"warranties"),"individual"),"period_interval"),"years"),""),(s=ie(ie(ie(ie(a,"warranties"),"individual"),"period_interval"),"months"),"")]):K(ie(r,"judicial"))?ae([(o=ie(ie(ie(ie(a,"warranties"),"judicial"),"period_interval"),"years"),""),(s=ie(ie(ie(ie(a,"warranties"),"judicial"),"period_interval"),"months"),"")]):""]):"",(a=Q.merge([{name:Q.raw("<strong>Стандартна</strong> гаранция")}],Q.default(ie(ie(a,"services"),"extra_warranty"),[])),""),te.in(n,["ro","bg"])?ae(['<ul class="ew-benefits-list ew-benefits-',Z("ro"==n&&1==ie(e,"index")?"no":"yes"),' visible-xs visible-sm">',"ro"==n?ae(["\n                        <li>",Z(Q.trans("Express Service")),"</li>\n                        <li>",Z("Замяна на продукт"),"</li>\n                        <li",Z(1==ie(e,"index")?Q.raw(' class="ew-benefit-yes"'):""),">",Z("Безплатен транспорт"),"</li>"]):"bg"==n?ae(["<li>",Z("Гаранционни възможности *"),"</li>\n                        <li>",Z("Безплатен транспорт"),"</li>"]):"","</ul>"]):"",'<div class="ew-table">',A(a,function(e,t){var a;return e?ae([(a=["Валидност"],""),K(E(o)+E(ie(e,"index0")))?ae([(a=Q.merge(a,[Q.trans("%count% year|%count% years|%count% years",{"%count%":E(o)+E(ie(e,"index0"))})]),"")]):"",K(s)&&K(E(o)+E(ie(e,"index0")))?ae([(a=Q.merge(a,["и"]),"")]):"",K(s)?ae([(a=Q.merge(a,[Q.trans("%count% month|%count% months|%count% months",{"%count%":s})]),"")]):"",'<div class="ew-col ew-col-',Z(ie(e,"index")),Z(1==ie(e,"index")?" hidden-xs":""),'">\n                        <a href="#" class="ew-item ew-item-',Z(ie(e,"index0"))," ",Z(ie(i,ie(e,"index"))),'" data-ew="',Z(ie(e,"index0")),'" data-service="',Z(ie(t,"id")),'" data-name="',Z(ie(t,"name")),'" data-price="',Z(Q.default(ie(ie(t,"price"),"current"),null)),'" data-initial-price="',Z(Q.default(ie(ie(t,"price"),"initial"),null)),'" data-price-discount="',Z(Q.default(ie(ie(ie(t,"price"),"discount"),"percent"),null)),'">\n                            <p class="ew-item-title">',Z(ie(t,"name")),'</p>\n                            <div class="ew-item-body">',te.in(n,["ro","bg"])?ae(['<ul class="ew-benefits-list ew-benefits-',Z("ro"==n&&1==ie(e,"index")?"no":"yes"),' hidden-xs hidden-sm">',"ro"==n?ae(["\n                                            <li>",Z(Q.trans("Express Service")),"</li>\n                                            <li>",Z("Замяна на продукт"),"</li>\n                                            <li",Z(1==ie(e,"index")?Q.raw(' class="ew-benefit-yes"'):""),">",Z("Безплатен транспорт"),"</li>"]):"bg"==n?ae(["<li>",Z("Гаранционни възможности *"),"</li>\n                                            <li>",Z("Безплатен транспорт"),"</li>"]):"","</ul>"]):"",'<p class="ew-price d-flex justify-center visible-xs">\n                                    <span class="ew-discount">',0<Q.default(ie(ie(ie(t,"price"),"discount"),"percent"),null)?ae(["<s>",Q.moneyFormat(ie(ie(t,"price"),"initial")),'</s>\n                                            <span class="label label-danger">-',Z(ie(ie(ie(t,"price"),"discount"),"percent")),"%</span>"]):"",'</span>\n                                    <span class="',Z(0<Q.default(ie(ie(ie(t,"price"),"discount"),"percent"),null)?"ew-margin-price":""),'">\n                                        ',1==ie(e,"index")?ne("Включена")+"<sup>&nbsp;</sup>":Q.moneyFormat(ie(ie(t,"price"),"current")),'\n                                    </span>\n                                </p>\n                                <div class="ew-price hidden-xs">\n                                    <p class="ew-discount">',0<Q.default(ie(ie(ie(t,"price"),"discount"),"percent"),null)?ae(["<s>",Q.moneyFormat(ie(ie(t,"price"),"initial")),'</s>\n                                            <span class="label label-danger">-',Z(ie(ie(ie(t,"price"),"discount"),"percent")),"%</span>"]):"",'</p>\n                                    <p class="ew-price">',1==ie(e,"index")?ne("Включена")+"<sup>&nbsp;</sup>":Q.moneyFormat(ie(ie(t,"price"),"current")),'</p>\n                                </div>\n                                <p class="ew-availability hidden-xs">',Z(Q.join(a," ")),'</p>\n                                <span class="btn btn-block btn-default">',Z("Избери"),'</span>\n                                <div class="ew-item-checked">',Z("Добавено"),"</div>\n                            </div>\n                        </a>\n                    </div>"]):""}),'</div>\n        </div>\n        <div class="hidden-xs hidden-sm">',"ro"==n?ae(['<p class="ew-p">',"Удължи гаранционния срок с една или две години допълнително към законовата гаранция. Разполагате със същите права, както и в срока на законовата гаранция:",'</p>\n                <div class="ew-footer row">\n                    <div class="ew-footer-col col-sm-3">\n                        <div class="ew-footer-icon"><i class="em em-mechanism_fill"></i></div>\n                        <div class="ew-footer-title">',Z(Q.trans("Express Service")),'</div>\n                        <p class="ew-footer-body">',Z(Q.trans("You have priority in service. Solving within 5 days")),'</p>\n                    </div>\n                    <div class="ew-footer-col col-sm-3">\n                        <div class="ew-footer-icon"><i class="em em-home"></i></div>\n                        <div class="ew-footer-title">',Z(Q.trans("Zero effort")),'</div>\n                        <p class="ew-footer-body">',Z(Q.trans("No more roads! We come to you with the product repaired")),'</p>\n                    </div>\n                    <div class="ew-footer-col col-sm-3">\n                        <div class="ew-footer-icon"><i class="em em-free-delivery_fill"></i></div>\n                        <div class="ew-footer-title">',Z("Безплатен транспорт"),'</div>\n                        <p class="ew-footer-body">',Z("Ще вземем продукта и ще върнем след поправката изцяло за наша сметка."),'</p>\n                    </div>\n                    <div class="ew-footer-col col-sm-3">\n                        <div class="ew-footer-icon"><i class="em em-fav"></i></div>\n                        <div class="ew-footer-title">',Z(Q.trans("100% satisfaction")),'</div>\n                        <p class="ew-footer-body">',Z(Q.trans("Free replacement if the product has been repaired 3 times in 6 months")),"</p>\n                    </div>\n                </div>"]):"bg"==n?ae(['<p class="ew-p">',Z("* Гаранционните възможности са поправка, замяна на продукт, възстановяване на сума или намаляване на цена, съгласно предвиденото в закона."),'</p>\n                <p class="ew-p">',"Удължи гаранционния срок с една или две години допълнително към законовата гаранция. Разполагате със същите права, както и в срока на законовата гаранция:",'</p>\n                <div class="ew-footer row">\n                    <div class="ew-footer-col col-sm-4">\n                        <div class="ew-footer-icon"><i class="em em-mechanism_fill"></i></div>\n                        <div class="ew-footer-title">',Z("Онлайн формуляр за сервиз"),'</div>\n                        <p class="ew-footer-body">',Z("Не губи време! Попълни формата онлайн, ние ще вземем и върнем продукта."),'</p>\n                    </div>\n                    <div class="ew-footer-col col-sm-4">\n                        <div class="ew-footer-icon"><i class="em em-free-delivery_fill"></i></div>\n                        <div class="ew-footer-title">',Z("Безплатен транспорт"),'</div>\n                        <p class="ew-footer-body">',Z("Ще вземем продукта и ще върнем след поправката изцяло за наша сметка."),'</p>\n                    </div>\n                    <div class="ew-footer-col col-sm-4">\n                        <div class="ew-footer-icon"><i class="em em-fav"></i></div>\n                        <div class="ew-footer-title">',Z("Замяна на продукта"),'</div>\n                        <p class="ew-footer-body">',Z("Ще заменим продукта безплатно или ще ви възстановим или намалим сумата, която сте платили за него, ако е бил ремонтиран 3 пъти за общия срок на гаранцията."),"</p>\n                    </div>\n                </div>"]):"","</div>\n    </div>\n</div>\n"])}})}),e("@Components/ExtendedWarranty/modal-v2.html.twig",function(){return a.t({$main:function(e){var a,t=e.offer,e=e.app;return ae([(t=Q.default(ie(ie(t,"services"),"extra_warranty"),[]),""),(e=Q.default(ie(ie(e,"request"),"locale")),""),(a=["gtm_oopqqdwtnc","gtm_mhkfjdwbtnc"],""),'<div class="modal-slide-section modal-slide-section-light">\n    <button type="button" class="modal-slide-close close" data-dismiss="modal" aria-label=',Z("Затвори"),'>\n        <span class="font-size-ms semibold pad-rgt-xs hidden-xs">',Z("Затвори"),'</span><i class="em em-close"></i>\n    </button>\n    <div class="modal-slide-content semibold">\n        <div class="text-center">\n            <img class="modal-bnpl-logo" alt="logo" src="//',Z(oe("CDN")),'/layout/ro/static-upload/garantia-3.svg" />\n            <h4 class="semibold mrg-btm-sm">',Z(Q.trans("extra_warranty_title")),'</h4>\n        </div>\n    </div>\n    <div class="pad-hrz-md">\n        <div class="text-muted mrg-btm-xs">\n            ',"Удължи гаранционния срок с една или две години допълнително към законовата гаранция. Разполагате със същите права, както и в срока на законовата гаранция:","\n        </div>","ro"==e?ae(['\n            <div class="mrg-btm-xxs">\n                <span class="jewel jewel-secondary font-size-xs mrg-rgt-xs va-middle"><i class="em em-check"></i></span>\n                <span class="semibold va-middle">',Z(Q.trans("Express Service")),'</span>\n                <div class="pad-lft-md text-muted">',Z(Q.trans("You have priority in service. Solving within 5 days")),'</div>\n            </div>\n            <div class="mrg-btm-xxs">\n                <span class="jewel jewel-secondary font-size-xs mrg-rgt-xs va-middle"><i class="em em-check"></i></span>\n                <span class="semibold va-middle">',Z("Безплатен транспорт"),'</span>\n                <div class="pad-lft-md text-muted">',Z("Ще вземем продукта и ще върнем след поправката изцяло за наша сметка."),'</div>\n            </div>\n            <div class="mrg-btm-xxs">\n                <span class="jewel jewel-secondary font-size-xs mrg-rgt-xs va-middle"><i class="em em-check"></i></span>\n                <span class="semibold va-middle">',Z("Замяна на продукт"),'</span>\n                <div class="pad-lft-md text-muted">',Z(Q.trans("Free replacement if the product has been repaired 3 times in 6 months")),"</div>\n            </div>"]):"bg"==e?ae(['<div class="mrg-btm-xxs">\n                <span class="jewel jewel-secondary font-size-xs mrg-rgt-xs va-middle"><i class="em em-check"></i></span>\n                <span class="semibold va-middle">',Z("Онлайн формуляр за сервиз"),'</span>\n                <div class="pad-lft-md text-muted">',Z("Не губи време! Попълни формата онлайн, ние ще вземем и върнем продукта."),'</div>\n            </div>\n            <div class="mrg-btm-xxs">\n                <span class="jewel jewel-secondary font-size-xs mrg-rgt-xs va-middle"><i class="em em-check"></i></span>\n                <span class="semibold va-middle">',Z("Безплатен транспорт"),'</span>\n                <div class="pad-lft-md text-muted">',Z("Ще вземем продукта и ще върнем след поправката изцяло за наша сметка."),"</div>\n            </div>"]):"",'</div>\n</div>\n<div class="modal-slide-section text-center">\n    <div class="modal-slide-content pad-sep-xs">',A(Q.default(t,[]),function(e,t){return e?ae(['<div class="panel mrg-btm-sm">\n                <div class="panel-body pad-hrz-xs pad-top-sm pad-btm-xs">\n                    <div class="semibold mrg-btm-xxs">',Z(ie(t,"name")),'</div>\n                    <div class="semibold mrg-btm-sm font-size-lg">',Q.moneyFormat(ie(ie(t,"price"),"current")),'</div>\n                    <button class="btn btn-eprotect btn-block ew-item ew-item-',Z(ie(e,"index"))," ",Z(ie(a,ie(e,"index"))),'" data-dismiss="modal" data-ew="',Z(ie(e,"index")),'" data-service="',Z(ie(t,"id")),'" data-name="',Z(ie(t,"name")),'" data-price="',Z(Q.default(ie(ie(t,"price"),"current"),null)),'" data-initial-price="',Z(Q.default(ie(ie(t,"price"),"initial"),null)),'" data-price-discount="',Z(Q.default(ie(ie(ie(t,"price"),"discount"),"percent"),null)),'"><span class="font-size-md">',Z("Избери"),"</span></button>\n                </div>\n            </div>"]):""}),"</div>\n</div>"])}})}),e("@Pages/Product/components/PanelOffersBundle/templates/list.html.twig",function(){return a.t({$main:function(e){var r,l,d,t=e.appData,c=e.mainOffer,a=e.offersData,u=e.formAction,p=e.gtmActionButton,n=e.emptyImg,m=e.type,f=e.initCount,i=e.categoryId,h=e.bundleTracking,e=e.config;return ae([(Q.default(t,{}),""),(c=Q.default(c,[]),""),(a=Q.default(a,[]),""),(u=Q.default(u,null),""),(p=Q.default(p,""),""),(Q.default(n,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),""),(m=Q.default(m,""),""),(f=Q.default(f,1),""),(Q.default(i,null),""),(h=Q.default(h,null),""),(e=Q.default(e,null),""),(r=Q.default(ie(e,"hasCheckbox"),!1),""),(l=Q.default(ie(e,"hasItemPrice"),!1),""),(Q.default(ie(e,"hasItemOldPrice"),!1),""),(Q.default(ie(e,"hasItemPriceDiscount"),!1),""),(d=Q.default(ie(e,"hasNewItemOnMobile"),!1),""),A(a,function(e,i,o){var s;return e?ae([(e=ie(i,"bundles"),""),(s=ie(i,"vendor"),""),A(e,function(e,t){var n,a;return e?ae([(a=ie(t,"items"),""),(e=ie(t,"price"),""),(n=ie(t,"tracking"),""),"",'<div class="panel-body',Z(o<f?" hidden":"")," pad-top-sm pad-btm-none pad-hrz-none",Z(" multiple-items-"+ne(Q.length(a))),'" ',K(h)?ae([' data-recommendation-id="',Z(ie(h,"recid")),'" data-tracking-engine="',Z(ie(h,"provider")),'" data-scenario-index="',Z(ie(h,"scenarioIndex")),'" data-scenario-id="',Z(ie(h,"scenarioId")),'" data-tracking-alias="',Z(ie(h,"trackingAlias")),'" ']):"",'>\n            <form action="',Z(u),'" method="post" class="pad-btm-sm">\n                <div class="bf-offer pad-hrz-sm">\n                    <div class="bf-offer-items">',"OFFERS_BUNDLE"==m?ae(['<input type="hidden" name="promoconfig" value="',Z(ie(t,"package_config")),'">']):"",K(d)?ae(['<div class="bf-offer-item bf-offer-item-img">',A(a,function(e,t){return e?ae(['<a href="',Z(ne(ie(ie(t,"url"),"path"))+ne(n)),'" title="',Z(ie(t,"name")),'">\n                                        <div class="thumbnail-wrapper pad-hrz-none pad-sep-none">\n                                            <div class="thumbnail" href="',Z(ne(ie(ie(t,"url"),"path"))+ne(n)),'" title="',Z(ie(t,"name")),'">\n                                                <img src="',Z(Q.getSize(ie(ie(t,"image"),"resized_images"),"150x150")),'" alt="Product image">\n                                            </div>\n                                        </div>\n                                    </a>',K(ie(e,"last"))?"":ae(['<div class="bf-offer-jewel">+</div>'])]):""}),"</div>"]):"",A(a,function(e,t){var a;return e?ae([(i=null!=(a=ie(t,"offer"))?a:t,""),'<div class="bf-offer-item">',"FREQUENTLY_BOUGHT_TOGETHER"==m?ae([ae(K(r)?['<div class="checkbox-custom"',K(ie(e,"first"))?ae([" readonly"]):"",'>\n                                            <input type="checkbox" name="product[]" value="',Z(ie(i,"id")),'" id="',Z("item-"+ne(ie(i,"id"))),'" data-price="',Z(ie(ie(i,"price"),"current")),'" checked>\n                                            <label for="',Z("item-"+ne(ie(i,"id"))),'" class="inline-block--middle"></label>\n                                        </div>']:['<input type="hidden" name="product[]" value="',Z(ie(i,"id")),'">'])]):"",'<div class="bf-offer-item-inner">\n                                    <a href="',Z(ne(ie(ie(t,"url"),"path"))+ne(n)),'" title="',Z(ie(t,"name")),'" class="bf-offer-item-name">\n                                        <div class="thumbnail-wrapper pad-hrz-none pad-sep-none">\n                                            <div class="thumbnail" href="',Z(ne(ie(ie(t,"url"),"path"))+ne(n)),'" title="',Z(ie(t,"name")),'">\n                                                <img src="',Z(Q.getSize(ie(ie(t,"image"),"resized_images"),"150x150")),'" alt="Product image">\n                                            </div>\n                                        </div>\n                                        <div class="item-name font-size-sm">',Z(ie(t,"name")),"</div>\n                                    </a>",K(l)?ae(['<div class="item-price">',ee("@Components/Pricing/template.html.twig",{offer:i,show_deal:!0}),"</div>"]):"","</div>\n                            </div>",K(ie(e,"last"))?"":ae(['<div class="jewel-wrapper">\n                                    <div class="bf-offer-jewel">+</div>',"FREQUENTLY_BOUGHT_TOGETHER"==m?ae(['<div class="border"></div>']):"","</div>"])]):""}),'<div class="bf-offer-jewel">=</div>\n                        <div class="bf-offer-item bf-offer-price">\n                            <div class="bf-offer-item-inner',Z(2<Q.length(a)?" bf-multiple-items-inner":""),'">',ee("@Components/Pricing/template.html.twig",{offer:{flags:ie(t,"flags"),price:e},is_bundle:!0,show_deal:!0}),'<div class="pad-top-xs">\n                                    <button type="submit" class="btn btn-emag btn-primary bundle-product-buy-button ',Z(p),'" data-offer-id="',Z(ie(ie(a,0),"id")),'">\n                                        <i class="em em-cart_fill gtm_680klw"></i>\n                                        ',Z("Добави в количката"),"\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </form>\n            ",v(s)?"":ae(['\n                <div class="panel-bundle-vendor text-muted font-size-sm pad-hrz-sm">\n                    ',(a=1==ie(s,"id")||1!=ie(s,"id")&&!K(ie(ie(c,"flags"),"is_fulfilment_by_emag")),""),"\n                    ",Z(K(a)?"Промо пакет предлаган и с доставка от":"Промо пакет, предлаган от:"),"\n                    ",ae(1==ie(s,"id")?["\n                        <strong>",Z(ie(ie(s,"name"),"display")),"</strong>\n                    "]:['\n                        <a href="',Z(ie(ie(s,"url"),"path")),'">\n                            <strong>',Z(ie(ie(s,"name"),"display")),"</strong>\n                        </a>\n                    "]),"\n                </div>\n            "]),"\n        </div>"]):""})]):""})])}})}),e("@Pages/Product/components/PanelOffersBundle/templates/toggle.html.twig",function(){return a.t({$main:function(e){var t=e.initLabel,a=e.midLabel,n=e.endLabel,i=e.gtmClass,o=e.initCount,s=e.pageSize,r=e.collapsiblesSelector,l=e.noCount,e=e.panelId;return ae([(t=Q.default(t,"Виж повече"),""),(a=Q.default(a,"Виж повече"),""),(n=Q.default(n,"Затвори"),""),(i=Q.default(i,null),""),(o=Q.default(o,1),""),(s=Q.default(s,4),""),(r=Q.default(r,".panel-body"),""),(l=Q.default(l,!1),""),'<div>\n    <a href="#" class="panel-heading po-panel-toggler ',Z(i),'"\n        data-phino="CollapsiblePanels"\n        data-ph-target="',Z(e),'"\n        data-ph-collapsibles="',Z(r),'"\n        data-ph-init-count="',Z(o),'" data-ph-page-size="',Z(s),"\"\n        data-ph-init-label=\"<i class='caret'></i>",Z(t),Z(K(l)?"":" ($N)"),"\"\n        data-ph-mid-label=\"<i class='caret'></i>",Z(a),Z(K(l)?"":" ($N)"),"\"\n        data-ph-end-label=\"<i class='caret caret-up'></i>",Z(n),'">\n        ',Z(t),"\n    </a>\n</div>\n"])}})}),e("@Pages/Product/components/PanelOffersBundle/template.html.twig",function(){return a.t({$main:function(e){var t=e.appData,a=e.hasOffers,n=e.title,i=e.formAction,o=e.panelId,s=e.mainOffer,r=e.offersData,l=e.type,d=e.countData,c=e.initCount,u=e.categoryId,p=e.gtmActionButton;return ae([(t=Q.default(t,{}),""),"",(a=Q.default(a,!(e=["FREQUENTLY_BOUGHT_TOGETHER","OFFERS_BUNDLE"])),""),(n=Q.default(n,null),""),(i=Q.default(i,null),""),(o=Q.default(o,"panel-offer-"+ne(S.random())),""),(s=Q.default(s,[]),""),(r=Q.default(r,[]),""),(l=Q.default(l,""),""),(Q.default(d,0),""),(c=Q.default(c,1),""),(u=Q.default(u,null),""),K(a)&&te.in(l,e)?ae(['\n    <div class="container panel-offers-container bf-panel-offers-bundle">\n        <h3 class="title',Z(K(oe("IS_MOBILE"))?" mobile-title":""),' mrg-sep-none pad-top-xs pad-btm-xs pad-hrz-sm">',n,'</h3>\n\n        <div class="panel panel-default panel-offers-bundle" id="',Z(o),'" data-action="',Z(i),'" data-type="',Z(l),'">',0<Q.length(r)?ae([ee("@Pages/Product/components/PanelOffersBundle/templates/list.html.twig",{appData:t,mainOffer:s,offersData:r,formAction:i,gtmActionButton:p,type:l,initCount:c,categoryId:u}),ee("@Pages/Product/components/PanelOffersBundle/templates/toggle.html.twig",{initCount:c,panelId:o})]):"","</div>\n\n    </div>\n"]):"","\n"])}})}),e("@Pages/Product/components/SamedayDeliveryModal/template.html.twig",function(){return a.t({$main:function(e){var t=e.today,a=e.estimates,n=e.showDeliveryCosts;return ae(['<div class="modal-header">\n    <h4 class="modal-title hidden-xs">',Z(Q.trans("Today Delivery")),'</h4>\n    <button type="button" class="close hidden-xs" data-dismiss="modal" aria-label="',Z("Затвори"),'">\n        <i class="em em-close"></i>\n    </button>\n    <h4 class="modal-title close visible-xs">\n        <i class="em em-left font-size-md"></i>\n        ',Z("Назад"),'\n    </h4>\n</div>\n<div class="modal-body">\n    <div>\n        <div class="visible-xs">',Z("Добави продукта в количката и избери дата и час за доставка."),'</div>\n        <div class="hidden-xs mrg-btm-xs">\n            ',Z("Получаваш продукта си по-лесно!"),"\n            ",Z("Сега избираш кога да ти бъде доставена пратката."),'\n        </div>\n    </div>\n    <div class="mrg-btm-xs text-muted">',Z(Q.trans("Currently available intervals for this product:")),'</div>\n\n    <div class="sameday-delivery-day-header visible-xs visible-sm">\n        <div class="scheduled-delivery-day-name text-primary">\n            ',Z(Q.trans("Today Delivery")),'\n        </div>\n        <div class="scheduled-delivery-day-date">\n            ',Z(t),'\n        </div>\n    </div>\n\n    <ul class="sameday-delivery-list">',A(a,function(e,t){return e?ae(['<li class="sameday-delivery-interval ',K(ie(t,"available"))?"":ae(["sameday-delivery-interval-unavailable "]),'">\n            <div class="sameday-delivery-interval-placer">\n                <div class="sameday-delivery-hours">',K(ie(t,"start"))?ae([Z(ie(ie(t,"start"),0)),"<sup>",Z(ie(ie(t,"start"),1)),"</sup>"]):"",K(ie(t,"stop"))?ae(["<span> - </span>",Z(ie(ie(t,"stop"),0)),"<sup>",Z(ie(ie(t,"stop"),1)),"</sup>"]):"","</div>",K(n)?ae([ae(K(ie(t,"available"))?[0==ie(t,"tax")?ae(['<div class="sameday-delivery-price text-success">',Z("Безплатна"),"</div>"]):K(ie(t,"tax"))?ae(['<div class="sameday-delivery-price">',Q.moneyFormat(ie(t,"tax")),"</div>"]):""]:['<div class="text-muted sameday-delivery-unavailable">',Z("недостъпен"),"</div>"])]):"","</div>\n        </li>"]):""}),'</ul>\n\n    <div class="pad-top-sm pad-btm-xs hidden-xs">\n        ',Z("Добави продукта в количката и избери дата и час за доставка."),"\n    </div>\n</div>\n\n"])}})}),e("@Pages/Product/components/ComparedSimilarProducts/table.html.twig",function(){return a.t({$main:function(e){var t=e.vertical_display,a=e.compared_similar_products,n=e.spid,e=e.app;return ae(["",(t=Q.default(t,!800),""),'<section class="page-section page-section-light similar-products-section"\n    data-tracking-engine="',Z(ie(a,"provider")),'"\n    data-recommendation-id="',Z(ie(a,"recommendation_id")),'"\n    data-scenario-name="',Z(ie(a,"scenario_name")),'"\n    data-tracking-alias="',Z(ie(a,"tracking_alias")),'"\n    data-source-product-id="',Z(n),'"\n    data-scenario-index="6"\n    data-scenario-id="',Z(ie(a,"recommendation_scenario_id")),'"\n>\n    <div class="container">\n        <h2 class="page-section-title pad-btm-sm pad-top-xs">',Z("Сравни с подобни продукти"),'</h2>\n        <div class="compare-similar-products-wrapper collapse-offset collapse-offset-bottom" style="max-height: ',Z(800),'px; overflow-y: hidden;">',ee("@Components/CompareTable/"+(K(t)?"templates/vertical":"template")+".html.twig",{characteristics:ie(a,"characteristics"),products:ie(a,"product_collection"),app:e,hideText:!0,hideClose:!0,ref:ne(ie(a,"tracking_alias"))+"_6",provider:ie(a,"provider"),recid:ie(a,"recommendation_id"),addToCartGtm:"gtm_t1ue6zo1"}),'</div>\n        <p>\n            <a href="#" class="ph-widget ph-collapse-one ',Z(K(oe("IS_MOBILE"))?"btn btn-default btn-block":"small strong"),'" data-phino="CollapseOne" data-ph-init-size="',Z(800),'" data-ph-label-always="false" data-ph-target=".compare-similar-products-wrapper" tabindex="0">',Z("Виж повече"),"\n                ",K(oe("IS_MOBILE"))?"":ae(['\n                    <i class="caret"></i>\n                ']),"</a>\n        </p>\n    </div>\n</section>"])}})}),e("@Pages/Product/components/AutoAddToCart/template.html.twig",function(){return a.t({$main:function(e){var t=e.offer,a=e.product_id,n=e.name,i=e.phone,o=e.email,s=e.app,e=e.terms_and_conditions;return ae(['<div class="modal-header">\r\n    <button type="button" class="close" data-dismiss="modal" aria-label="',Z("Затвори"),'"><i class="em em-close"></i></button>\r\n    <h4 class="modal-title">',Z("Поискай оферта"),'</h4>\r\n</div>\r\n<div class="modal-body pad-sep-xs auto-modal-content">\r\n    <div class="row">\r\n        <div class="col-xs-12 text-center">\r\n            <p class="text-label">',Z("Предлаган от "),":\r\n                ",ae(1==ie(ie(t,"vendor"),"id")?["\r\n                    ",Z(ie(ie(ie(t,"vendor"),"name"),"display")),"\r\n                "]:['\r\n                    <a href="',Z(ie(ie(ie(t,"vendor"),"url"),"path")),'" class="gtm_y7p5p5">',Z(ie(ie(ie(t,"vendor"),"name"),"display")),"</a>\r\n                "]),'\r\n            </p>\r\n        </div>\r\n    </div>\r\n    <div class="collapse-group">\r\n        <div class="auto-success-collapse hidden" data-phino="CollapseOne" data-ph-target="#auto-success"></div>\r\n        <div class="collapse" id="auto-success">\r\n            <div class="text-center pad-sep-sm">\r\n                <span class="jewel jewel-lg jewel-success">\r\n                    <i class="em em-check font-size-xl"></i>\r\n                </span>\r\n            </div>\r\n            <div class="text-center pad-btm-sm">\r\n                <h4>',Z("Твоята заявка беше регистрирана"),"</h4>\r\n                <p>",Z("В кратък срок служител ще се свърже с теб"),'</p>\r\n            </div>\r\n        </div>\r\n        <div class="auto-form-collapse hidden" data-phino="CollapseOne" data-ph-target="#auto-form"></div>\r\n        <form class="collapse in" id="auto-form">\r\n            <input type="hidden" name="product_id" value="',Z(a),'">\r\n            <p class="hidden danger small strong text-center text-danger" id="auto-error">',Z("Всички полета са задължителни"),'</p>\r\n            <div class="form-group">\r\n                <label class="control-label small" for="auto-name">',Z("Име и фамилия"),'</label>\r\n                <input class="form-control" name="last_name" type="text" id="auto-name" value="',Z(n),'" required>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="control-label small" for="auto-phone">',Z("Телефонен номер"),'</label>\r\n                <input class="form-control" name="phone" type="text" id="auto-phone" value="',Z(i),'" required>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="control-label small" for="auto-email">',Z("И-мейл"),'</label>\r\n                <input class="form-control" name="email" type="text" id="auto-email" value="',Z(o),'" required>\r\n            </div>\r\n            ',"ro"==ie(ie(s,"request"),"locale")?ae(['\r\n                <div class="form-group">\r\n                    <label class="control-label small" for="auto-select-county">',Z("Държава"),'</label>\r\n                    <select id="auto-select-county" name="region" class="form-control"\r\n                            data-phino="Select"\r\n                            data-ph-search="',Z("Търси"),'..." data-ph-search-prefix="true"\r\n                            required>\r\n                        <option disabled selected value>',Z("Избери"),'</option>\r\n                    </select>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="control-label small" for="auto-select-city">',Z("Град"),'</label>\r\n                    <select id="auto-select-city" name="locality" class="form-control"\r\n                        data-phino="Select"\r\n                        data-ph-search="',Z("Търси"),'..." data-ph-search-prefix="true"\r\n                        required>\r\n                        <option selected value>',Z("Избери област"),"</option>\r\n                    </select>\r\n                </div>\r\n            "]):"",'\r\n            <div class="form-group checkbox checkbox-custom">\r\n                <input type="checkbox" id="auto-check" name="terms" required>\r\n                <label for="auto-check">',Z("Приемам "),' <a target="_blank" download href="',Z(e),'">',Z("Условията за ползване"),'</a></label>\r\n            </div>\r\n            <div class="form-group">\r\n                <button class="btn btn-sm btn-primary btn-block" id="auto-send-btn" name="submit">',Z("Продължи"),"</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>\r\n"])}})}),e("@Pages/Product/components/ModalScheduledDelivery/template.html.twig",function(){return a.t({$main:function(e){var t=e.estimates,n=e.intervalCount,i=e.showDeliveryCosts;return ae(['<div class="modal-header">\n    <h4 class="modal-title hidden-xs">',Z("Планирана доставка"),'</h4>\n    <button type="button" class="close hidden-xs" data-dismiss="modal" aria-label="',Z("Затвори"),'">\n        <i class="em em-close"></i>\n    </button>\n    <h4 class="modal-title close visible-xs">\n        <i class="em em-left font-size-md"></i>\n        ',Z("Назад"),'\n    </h4>\n</div>\n<div class="modal-body">\n    <div>\n        <div class="visible-xs">',Z("Добави продукта в количката и избери дата и час за доставка."),'</div>\n        <div class="hidden-xs mrg-btm-xs">\n            ',Z("Получаваш продукта си по-лесно!"),"\n            ",Z("Сега избираш кога да ти бъде доставена пратката."),'\n        </div>\n    </div>\n    <div class="mrg-btm-xs text-muted">',Z(Q.trans("Currently available intervals for this product:")),'</div>\n\n    <div class="estimates-wrapper">','<div class="hidden hidden-xs hidden-sm btn btn-alt-lighter scheduled-delivery-scroll scheduled-delivery-scroll-left js-scheduled-delivery-scroll js-left">','<i class="em em-left"></i>','</div>\n\n        <div class="hidden-xs hidden-sm btn btn-alt-lighter scheduled-delivery-scroll scheduled-delivery-scroll-right js-scheduled-delivery-scroll js-right">','<i class="em em-right"></i>','</div>\n\n        <div class="scheduled-delivery-scroller js-scheduled-delivery-scroller">\n            <div class="estimates-container js-scheduled-delivery-container">\n                ',A(t,function(e,a,t){return e?ae([ie(e,"index")<8?ae(['<div class="scheduled-delivery-day">\n                            <div class="scheduled-delivery-day-header">\n                                <div class="scheduled-delivery-day-name text-primary">',(e=0==ie(a,"daysDiff")?"днес":1==ie(a,"daysDiff")?"утре":ie(a,"weekDay"),""),'<span class="hidden-xs hidden-sm text-capitalize">',Z(e),'</span>\n                                    <span class="hidden-md hidden-lg hidden-xl">\n                                       ',Z(Q.trans("Delivery %weekday%",{"%weekday%":e})),'\n                                    </span>\n                                </div>\n                                <div class="scheduled-delivery-day-date">',Z(t),'</div>\n                            </div>\n\n                            <div class="scheduled-delivery-interval-container">',A(te[".."](1,n),function(e,t){return e?ae(['<div class="scheduled-delivery-interval">','<div class="scheduled-delivery-interval-placer">',ae(null!=ie(ie(a,"intervals"),t)?[K(ie(ie(ie(a,"intervals"),t),"start"))?ae([Z(ie(ie(ie(ie(a,"intervals"),t),"start"),0)),"<sup>",Z(ie(ie(ie(ie(a,"intervals"),t),"start"),1)),"</sup>"]):"",K(ie(ie(ie(a,"intervals"),t),"stop"))?ae(["<span> - </span>",Z(ie(ie(ie(ie(a,"intervals"),t),"stop"),0)),"<sup>",Z(ie(ie(ie(ie(a,"intervals"),t),"stop"),1)),"</sup>"]):"",K(i)?ae([0==ie(ie(ie(a,"intervals"),t),"tax")?ae(['<div class="font-size-base text-success">',Z("Безплатна"),"</div>"]):K(ie(ie(ie(a,"intervals"),t),"tax"))?ae(['<div class="font-size-base text-muted">',Q.moneyFormat(ie(ie(ie(a,"intervals"),t),"tax")),"</div>"]):""]):""]:['<span class="font-size-base text-muted scheduled-delivery-unavailable">',Z("недостъпен"),"</span>"]),"</div>","</div>"]):""}),"</div>\n                        </div>"]):""]):""}),'</div>\n        </div>\n    </div>\n\n    <div class="pad-top-sm pad-btm-xs hidden-xs">\n        ',Z("Добави продукта в количката и избери дата и час за доставка."),"\n    </div>\n</div>\n\n"])}})}),e("@Pages/Product/components/HighlightsDeliveryEstimate/template.html.twig",function(){var P=a.t({$main:function(e){var t,a,n,i,o,s=e.data,r=e.locale,l=e.today,d=e.isVendor,c=e.isFdeEligible,u=e.showDeliveryCosts,p=e.firstSamedayDelivery,m=e.firstScheduledDelivery,f=e.hasPickup,h=e.has2hDelivery,v=e.has3hDelivery,g=e.hasSameDayDelivery,_=e.hasCourier6HDelivery,y=e.hasDeliveryEstimate,b=e.loadingData,w=e.isExpanded;return ae([(s=Q.default(s,{}),""),(r=Q.default(r,null),""),(l=Q.default(l,null),""),(d=Q.default(d,!1),""),(c=Q.default(c,!1),""),(u=Q.default(u,!1),""),(p=Q.default(p,null),""),(m=Q.default(m,null),""),(t=Q.default(ie(s,"has_tax"),!1),""),(f=Q.default(f,!1),""),(h=Q.default(h,!1),""),(v=Q.default(v,!1),""),(g=Q.default(g,!1),""),(_=Q.default(_,!1),""),(y=Q.default(y,!1),""),(b=Q.default(b,!1),""),(w=Q.default(w,!1),""),(a=P,""),(n=K(Q.default(ie(ie(ie(ie(ie(s,"estimates"),"courier"),0),"estimates"),"flexible_schedule"),null))&&K(h),""),(i=K(Q.default(ie(ie(ie(ie(ie(s,"estimates"),"courier"),0),"estimates"),"same_day"),null))&&K(g),""),(e=K(Q.default(ie(ie(ie(ie(ie(s,"estimates"),"courier"),0),"estimates"),"courier_6h"),null))&&K(_),""),(h=K(Q.default(ie(ie(ie(ie(ie(s,"estimates"),"courier"),0),"estimates"),"scheduled_delivery"),null))&&K(v),""),(g=K(f)&&!K(ie(s,"multiple_points"))&&K(ie(ie(s,"estimates"),"pickup")),""),(_=K(f)&&K(ie(s,"multiple_points")),""),(v=K(Q.default(ie(ie(ie(ie(ie(s,"estimates"),"courier"),0),"estimates"),"default"),null))||K(ie(s,"estimates"))&&K(ie(s,"locality"))&&!K(ie(s,"is_error"))&&!K(ie(ie(s,"estimates"),"courier"))&&!K(ie(ie(s,"estimates"),"pickup")),""),(o=0,""),A([n,i,h,g,v,_,e],function(e,t){return e?ae([K(t)?ae([(o=E(o)+1,"")]):""]):""}),o<2?ae([(w=!1,"")]):"",(y=ae([ae(K(b)?["loading"]:!K(ie(s,"estimates"))&&!K(ie(s,"locality"))||!K(ie(s,"estimates"))&&!K(d)&&!K(ie(s,"is_error"))||!K(ie(s,"locality"))&&K(d)&&(K(f)||K(c))&&!K(ie(s,"is_error"))?["no_estimate"]:K(w)?["show_all"]:K(g)?["pickup"]:K(e)&&K(Q.default(ie(ie(ie(ie(ie(ie(ie(ie(s,"estimates"),"courier"),0),"estimates"),"courier_6h"),0),"cost"),"discount"),null))?["courier6H"]:K(v)&&K(y)?["standard"]:["no_estimate"])]),""),'<div class="js-highlights-delivery-estimate-main highlights-delivery-estimate relative">\n    <p class="de-text-line mrg-btm-sm">\n        <span>',Z("Доставка в"),": </span>",K(ie(s,"locality"))?ae(['<a href="javascript:;" class="js-mc-modal-trigger gtm_fz1f0a font-size-ms dotted-link">\n                ',Z(ie(ie(s,"locality"),"sub_loc")),K(ie(ie(s,"locality"),"main_loc"))&&ie(ie(s,"locality"),"main_loc")!=ie(ie(s,"locality"),"sub_loc")?ae(['<span class="brackets-wrapper">',Z(ie(ie(s,"locality"),"main_loc")),"</span>"]):"","</a>"]):"",'</p>\n    <div class="de-box js-de-box">',"loading"==y?ae([Z(ie(a,"method_loading")())]):"no_estimate"==y?ae([Z(ie(a,"method_no_estimate")(a,s))]):"pickup"==y?ae([Z(ie(a,"method_pickup")(a,s,t,u,g,w))]):"courier6H"==y?ae([Z(ie(a,"method_courier_6h")(a,s,t,u,r,e,!0))]):"standard"==y?ae([Z(ie(a,"method_standard")(a,s,t,u,l,v,!0,1==o))]):"show_all"==y?ae([K(_)?ae([Z(ie(a,"method_pickup_alternatives")(a,s))]):"",Z(ie(a,"method_pickup")(a,s,t,u,g,w)),"\n\n            ",Z(ie(a,"method_tazz")(a,s,t,u,n)),'\n\n            <div class="de-courier">\n                <div class="de-method">\n                    <i class="de-icon de-icon-courier em"></i>\n                    <div class="de-content">\n                        ',Z(ie(a,"delivery_section_block")(Q.raw("Доставка с куриер"))),"\n                    </div>\n                </div>\n\n                ",Z(ie(a,"method_courier_6h")(a,s,t,u,r,e)),"\n                ",Z(ie(a,"method_same_day")(a,s,t,u,r,i,p)),"\n                ",Z(ie(a,"method_scheduled")(a,s,t,u,r,h,m)),"\n                ",Z(ie(a,"method_standard")(a,s,t,u,l,v)),"\n            </div>"]):"","no_estimate"!=y&&"loading"!=y?ae(['<div class="de-method ',null!=ie(ie(ie(s,"estimates"),"pickup"),"recommended_delivery_point")?ae(["collapse-panel"]):"",'">\n                <div class="de-content">',1<o?ae([null!=ie(ie(ie(s,"estimates"),"pickup"),"recommended_delivery_point")?ae(['\n                            <a href="javascript:;"',' class="js-mc-modal-trigger js-rec-esb-link rec-esb-link double-angle font-size-ms semibold text-secondary mrg-rgt-sm ',Z(K(w)?"hidden":""),'"',' data-recommended-point="',Z(ie(ie(ie(ie(ie(s,"estimates"),"pickup"),"recommended_delivery_point"),"delivery_point"),"name")),'">\n                                <span>',Z(Q.trans("see easybox")),"</span>\n                            </a>\n                        "]):"",'\n                        <a href="javascript:;" class="js-de-panel-toggler font-size-ms semibold text-secondary">\n                            <i class="caret',Z(K(w)?" caret-up":""),'"></i>\n                            ',Z(K(w)?"скрий":"виж всички методи за доставка"),"\n                        </a>"]):"","</div>\n            </div>"]):"","</div>\n</div>\n"])}});return P.delivery_price_block=function(e,t,a,n,i,o,s){return void 0===a&&(a=!1),void 0===n&&(n=!1),void 0===i&&(i=0),ae(['<div class="de-text-line font-size-ms mrg-btm-xxs">',K(e)?ae([K(a)?ae(['\n                <span class="label label-unavailable label-promo font-size-xs">',Z("Промоция"),"</span><br/>\n            "]):"","\n            ",K(n)?ae(['\n                <s class="semibold">',Q.moneyFormat(i),"</s>\n            "]):"",'\n            <span class="product-price semibold ',Z(K(t)?"":"text-success"),'">',"hu"!=o&&K(s)?ae(['<span class="text-muted">',Z("от"),"</span>"]):"","\n                ",Z(K(t)?Q.raw(Q.moneyFormat(t)):"Безплатна"),"hu"==o&&K(s)?ae(['<span class="text-muted">',Z("от"),"</span>"]):"","\n            </span>\n            ",K(n)?ae(['\n                <span class="semibold">',Z("от Genius"),"</span>\n            "]):""]):"","</div>"])},P.delivery_estimate_block=function(e,t){return void 0===e&&(e=""),ae(['<div class="de-text-line ',ae(K(t=void 0===t?!1:t)?["text-esb-crowded"]:["text-gray-dark"]),' font-size-ms">\n        ',K(t)?ae(["\n            <strong>",Z(Q.trans("crowded")),":</strong>\n        "]):"","\n        ",Z(e),"\n    </div>"])},P.delivery_section_block=function(e){return ae(['<div class="semibold mrg-btm-xxs">',Z(e=void 0===e?"":e),"</div>"])},P.delivery_method_block=function(e,t){return ae(['<div class="de-text-line text-truncate font-size-ms semibold ',K(t=void 0===t?!1:t)?ae(["text-gray-dark"]):"",'">\n        ',Z(e),"\n    </div>"])},P.method_no_estimate=function(e,a){return ae(['<div class="de-method">\n        <i class="de-icon em em-delivery_fill"></i>\n        <div class="de-content">\n            ',Z(ie(e,"delivery_section_block")(Q.raw("Виж методите за доставка за"))),'\n            <div class="form-group mrg-sep-xs">\n                <select class="form-control js-de-region" data-phino="Select" data-ph-empty-label="',Z("Избери област"),'" data-ph-search="',Z("Търси"),'..." data-ph-search-prefix="true">\n                    <option ',Z(K(Q.length(Q.default(ie(ie(a,"location"),"regions"),[])))?"":"selected"),' disabled value="">',Z("Избери област"),"</option>\n                    ",A(Q.default(ie(ie(a,"location"),"regions"),[]),function(e,t){return e?ae(["\n                        <option ",Z(ie(t,"id")==ie(ie(ie(ie(a,"location"),"selected"),"region"),"id")?"selected":""),' value="',Z(ie(t,"id")),'" data-region="',Z(Q.json_encode(t)),'">',Z(ie(t,"name")),"</option>\n                    "]):""}),'\n                </select>\n            </div>\n            <div class="form-group">\n                <select class="form-control js-de-city" data-phino="Select" data-ph-empty-label="',Z("Избери град"),'" data-ph-search="',Z("Търси"),'..." data-ph-search-prefix="false" ',K(Q.length(ie(ie(ie(ie(a,"location"),"selected"),"region"),"localities")))?"":ae([" disabled"]),">\n                    <option ",Z(K(Q.default(ie(ie(ie(ie(a,"location"),"selected"),"locality"),"id"),null))?"":"selected"),' disabled value="">',Z("Избери град"),"</option>\n                    ",A(Q.default(ie(ie(ie(ie(a,"location"),"selected"),"region"),"localities"),[]),function(e,t){return e?ae(["\n                        <option ",Z(ie(t,"id")==ie(ie(ie(ie(a,"location"),"selected"),"locality"),"id")?"selected":""),' value="',Z(ie(t,"id")),'" data-locality="',Z(Q.json_encode(t)),'">\n                            ',Z(ie(t,"sub_name")),Z(ie(t,"sub_name")!=ie(t,"name")?" ("+ne(ie(t,"name"))+")":""),"\n                        </option>\n                    "]):""}),"\n                </select>\n            </div>\n        </div>\n    </div>"])},P.method_pickup_alternatives=function(e,t){return ae(['<div class="de-method">\n        <i class="de-icon em de-icon-showroom"></i>\n        <div class="de-content">\n            ',Z(ie(e,"delivery_section_block")(Q.raw("Лично вземане от:"))),'\n\n            <a href="javascript:;" class="js-mc-modal-trigger js-delivery-estimate-show-map font-size-ms gtm_fz1f0a dotted-link">',ae(K(ie(t,"locality"))&&!K(ie(t,"localityHasPoints"))?[Z(Q.trans("Choose from %count% delivery point available in your area|Choose from %count% delivery points available in your area",{"%count%":ie(t,"multiple_points")}))]:[Z(Q.trans("choose from %count% pickup points",{"%count%":ie(t,"multiple_points")}))]),"</a>\n        </div>\n    </div>"])},P.method_pickup=function(e,t,a,n,i,o){var s,r,l,d,c,u;return ae([K(i)?ae([(s=Q.default(ie(ie(t,"estimates"),"pickup"),null),""),(r=ie(ie(ie(s,"estimates"),"default"),0),""),(l=null!=(d=ie(r,"tax"))?d:null,""),(i=K(a)&&!(null==l),""),(d=te.in(ie(ie(s,"delivery_point"),"type"),["deliveryPointShowroom","sameDayOfficeCourier","courierDeliveryOffice"])&&te.in(ie(ie(r,"cost"),"formula_type"),["EOS_FREE_CAMPAIGN","EOS_FREE_DELIVERY"]),""),(a={deliveryPointShowroom:"Showroom",courierDeliveryOffice:"Pickup",sameDayOfficeCourier:"Pickup"},""),ae(K(ie(t,"is_favorite"))?[(c="de-icon-favorite","")]:K(ie(t,"is_recommended"))?[(c="de-icon-recommended","")]:"personal"==ie(ie(s,"delivery_point"),"group")?[(c="de-icon-showroom","")]:te.in(ie(ie(s,"delivery_point"),"group"),["sameday-office-courier","sameday-office-courier-retur","sameday-office-hu-courier","sameday-office-hu-courier-retur"])?[(c="de-icon-easybox","")]:te.in(ie(ie(s,"delivery_point"),"group"),["rapido-office","econt-office","speedy-office"])?[(c="de-icon-pickup","")]:[(c="de-icon-office","")]),'<div class="de-method" data-method="pickup" data-method-name="',Z(ie(a,ie(ie(s,"delivery_point"),"type"))),'" data-cost="',Z(ie(ie(r,"cost"),"total")),'" data-start="',Z(K(ie(ie(s,"estimates"),"now"))?"":ie(r,"start")),'">\n            <i class="de-icon em ',Z(c)," ",Z(null!=ie(s,"recommended_delivery_point")?"crowded":""),'"></i>',ae(K(ie(ie(s,"estimates"),"now"))?[(u="Вече можеш да вземеш продукта","")]:K(ie(ie(s,"estimates"),"today"))?[(u=Q.trans("You can pick it up today, after %hour%",{"%hour%":ie(ie(s,"estimates"),"hour")}),"")]:K(ie(ie(s,"estimates"),"tomorrow"))?[(u=Q.trans("You can pick it up tomorrow, after %hour%",{"%hour%":ie(ie(s,"estimates"),"hour")}),"")]:K(ie(ie(s,"estimates"),"estimate"))&&K(ie(ie(s,"estimates"),"hour"))?[(u=Q.trans("You can pick it up starting from %estimate%, after %hour%",{"%estimate%":ie(ie(s,"estimates"),"estimate"),"%hour%":ie(ie(s,"estimates"),"hour")}),"")]:K(ie(ie(s,"estimates"),"estimate"))?[(u=ie(ie(s,"estimates"),"estimate"),"")]:[(u="В момента няма очакваната дата за доставка","")]),'<div class="de-content">\n                ',Z(ie(e,"delivery_section_block")(Q.raw("Лично вземане от:"))),"\n                ",Z(ie(e,"delivery_method_block")(ie(ie(s,"delivery_point"),"name"),null!=ie(s,"recommended_delivery_point"))),"\n                ",Z(ie(e,"delivery_estimate_block")(u,null!=ie(s,"recommended_delivery_point"))),"\n\n                ",ae(null!=ie(s,"recommended_delivery_point")?['\n                    <div class="de-text-line text-gray-dark font-size-ms">\n                        ',Z(Q.trans("Arrives faster at another nearby easybox")),"\n                    </div>\n                "]:["\n                    ",Z(ie(e,"delivery_price_block")(K(i)&&K(n),l,d,ie(ie(r,"cost"),"discount"),ie(ie(r,"cost"),"total_before_discount"))),"\n                "]),K(o)?ae([ae(null!=ie(s,"recommended_delivery_point")?['\n                        <a href="javascript:;"',' class="js-mc-modal-trigger js-rec-esb-link rec-esb-link double-angle font-size-ms semibold text-secondary block"',' data-recommended-point="',Z(ie(ie(ie(s,"recommended_delivery_point"),"delivery_point"),"name")),'">\n                            <span>',Z(Q.trans("see easybox")),"</span>\n                        </a>\n                    "]:['\n                        <a href="javascript:;" class="js-mc-modal-trigger js-delivery-estimate-show-map font-size-ms gtm_fz1f0a dotted-link">',Z("промени"),"</a>\n                    "])]):"","</div>\n        </div>"]):""])},P.method_tazz=function(e,t,a,n,i){var o;return ae([K(i)?ae([(o=ie(ie(ie(ie(ie(t,"estimates"),"courier"),0),"estimates"),"flexible_schedule"),""),(i=Q.default(ie(o,0),{}),""),(o=null!=(t=ie(i,"tax"))?t:null,""),(t=K(a)&&!(null==o),""),(a=te.in(ie(ie(i,"cost"),"formula_type"),["EOS_FREE_CAMPAIGN","EOS_FREE_DELIVERY"]),""),'<div class="de-method" data-method="flexible_schedule" data-method-name="Tazz" data-cost="',Z(ie(ie(i,"cost"),"total")),'" data-start="',Z(ie(i,"stop")),'">\n            <i class="de-icon em de-icon-tazz"></i>\n            <div class="de-content">\n                ',Z(ie(e,"delivery_section_block")(Q.raw(ie(ie(i,"texts"),"title")))),"\n                ",Z(ie(e,"delivery_estimate_block")(Q.raw(ie(ie(i,"texts"),"description")))),"\n                ",Z(ie(e,"delivery_price_block")(K(t)&&K(n),o,a,ie(ie(i,"cost"),"discount"),ie(ie(i,"cost"),"total_before_discount"))),"\n            </div>\n        </div>"]):""])},P.method_courier_6h=function(e,t,a,n,i,o,s){var r,l;return ae([K(o)?ae([(r=Q.first(ie(ie(ie(ie(ie(t,"estimates"),"courier"),0),"estimates"),"courier_6h")),""),(l=Q.default(Q.date(ie(r,"start"),"H:i"),!1),""),(t=null!=(o=ie(r,"tax"))?o:null,""),(o=K(a)&&!(null==t),""),(a=te.in(ie(ie(r,"cost"),"formula_type"),["EOS_FREE_CAMPAIGN","EOS_FREE_DELIVERY"]),""),'<div class="de-method" data-method="courier_6h" data-method-name="Courier6H" data-cost="',Z(ie(ie(r,"cost"),"total")),'">\n            <i class="de-icon em ',Z(K(s)?"de-icon-courier":"de-icon-bullet"),'"></i>\n            <div class="de-content">\n                ',Z(K(s)?ie(e,"delivery_section_block")(Q.raw("Доставка с куриер")):""),"\n                ",Z(ie(e,"delivery_method_block")(Q.raw(Q.trans("Today Delivery")))),K(l)?ae([Z(ie(e,"delivery_estimate_block")(Q.trans("starting with hour %hour%",{"%hour%":l})))]):"",Z(ie(e,"delivery_price_block")(K(o)&&K(n),t,a,ie(ie(r,"cost"),"discount"),ie(ie(r,"cost"),"total_before_discount"),i,!1)),"\n            </div>\n        </div>"]):""])},P.method_same_day=function(e,t,a,n,i,o,s){var r,l,d;return ae([K(o)?ae([(d=ie(ie(ie(ie(ie(t,"estimates"),"courier"),0),"estimates"),"same_day"),""),(o=ie(d,0),""),(r=null!=(t=ie(Q.last(d),"tax"))?t:null,""),(l=!0,""),A(d,function(e,t){return e?ae([r!=ie(t,"tax")?ae([(l=!1,"")]):"",r>ie(t,"tax")?ae([(r=ie(t,"tax"),"")]):""]):""}),(d=K(a)&&!(null==r),""),(a=te.in(ie(ie(o,"cost"),"formula_type"),["EOS_FREE_CAMPAIGN","EOS_FREE_DELIVERY"]),""),'<div class="de-method" data-method="same_day" data-method-name="Sameday" data-cost="',Z(ie(ie(o,"cost"),"total")),'" data-start="',Z(ie(o,"start")),'">\n            <i class="de-icon em de-icon-bullet"></i>\n            <div class="de-content">\n                ',Z(ie(e,"delivery_method_block")(Q.raw(Q.trans("Today Delivery")))),K(s)?ae([Z(ie(e,"delivery_estimate_block")(Q.trans("starting with hour %hour%",{"%hour%":s})))]):"",'<div class="de-text-line mrg-btm-xxs">\n                    <a href="javascript:;" class="js-open-sameday-delivery font-size-ms dotted-link">',Z("виж наличните дати за доставка "),"</a>\n                </div>\n\n                ",Z(ie(e,"delivery_price_block")(K(d)&&K(n),r,a,ie(ie(o,"cost"),"discount"),ie(ie(o,"cost"),"total_before_discount"),i,!K(l))),"\n            </div>\n        </div>"]):""])},P.method_scheduled=function(e,t,a,n,i,o,s){var r,l,d,c;return ae([K(o)?ae([(d=ie(ie(ie(ie(ie(t,"estimates"),"courier"),0),"estimates"),"scheduled_delivery"),""),(o=ie(d,0),""),(r=null!=(t=ie(Q.last(d),"tax"))?t:null,""),(l=!0,""),A(d,function(e,t){return e?ae([r!=ie(t,"tax")?ae([(l=!1,"")]):"",r>ie(t,"tax")?ae([(r=ie(t,"tax"),"")]):""]):""}),(d=K(a)&&!(null==r),""),(a=te.in(ie(ie(o,"cost"),"formula_type"),["EOS_FREE_CAMPAIGN","EOS_FREE_DELIVERY"]),""),ae(0==ie(s,"daysDiff")?[(c=Q.trans("Today, starting from %hour%",{"%hour%":ie(s,"start")}),"")]:1==ie(s,"daysDiff")?[(c=Q.trans("Tomorrow, starting from %hour%",{"%hour%":ie(s,"start")}),"")]:[(c=Q.trans("starting %day%, after %hour%",{"%day%":ie(s,"when"),"%hour%":ie(s,"start")}),"")]),'<div class="de-method" data-method="scheduled_delivery" data-method-name="Scheduled delivery" data-cost="',Z(ie(ie(o,"cost"),"total")),'" data-start="',Z(ie(o,"start")),'">\n            <i class="de-icon em de-icon-bullet"></i>\n            <div class="de-content">\n                ',Z(ie(e,"delivery_method_block")(Q.raw("Планирана доставка"))),K(s)&&"ro"!=i?ae([Z(ie(e,"delivery_estimate_block")(c))]):"",'<div class="de-text-line mrg-btm-xxs">\n                    <a href="javascript:;" class="js-open-scheduled-delivery font-size-ms gtm_sn11362018 dotted-link">',Z("виж наличните дати за доставка "),"</a>\n                </div>\n\n                ",Z(ie(e,"delivery_price_block")(K(d)&&K(n),r,a,ie(ie(o,"cost"),"discount"),ie(ie(o,"cost"),"total_before_discount"),i,K(r)&&!K(l))),"\n            </div>\n        </div>"]):""])},P.method_standard=function(e,t,a,n,i,o,s,r){var l,d,c;return ae([K(o)?ae([(l=ie(ie(ie(t,"estimates"),"courier"),0),""),(d=ie(ie(l,"estimates"),"default"),""),(o=ie(d,0),""),(d=null!=(t=ie(o,"tax"))?t:null,""),(t=K(a)&&!(null==d),""),(a=te.in(ie(ie(o,"cost"),"formula_type"),["EOS_FREE_CAMPAIGN","EOS_FREE_DELIVERY"]),""),ae(null!=ie(l,"estimate")?[ae(K(ie(o,"start"))&&Q.date(ie(o,"start"),"d")==Q.date(i,"d")?[(c=Q.trans("Starting from today, after %hour%",{"%hour%":Q.date(ie(o,"start"),"H:i")}),"")]:[(c=ie(l,"estimate"),"")])]:[(c="В момента няма очакваната дата за доставка","")]),'<div class="de-method',Z(K(r)?" mrg-top-xs":""),'" data-method="default" data-method-name="Standard delivery" data-cost="',Z(ie(ie(o,"cost"),"total")),'" data-start="',Z(ie(o,"start")),'">\n            <i class="de-icon em ',Z(K(s)?"de-icon-courier":"de-icon-bullet"),'"></i>\n            <div class="de-content">\n                ',Z(K(s)?ie(e,"delivery_section_block")(Q.raw("Доставка с куриер")):""),K(r)?ae(['<div class="pad-btm-xxs"></div>']):"",Z(ie(e,"delivery_method_block")(Q.raw("Доставка"))),"\n\n                ",Z(ie(e,"delivery_estimate_block")(Q.default(c,"В момента прогнозата за доставка не е налична "))),"\n\n                ",Z(ie(e,"delivery_price_block")(K(t)&&K(n),d,a,ie(ie(o,"cost"),"discount"),ie(ie(o,"cost"),"total_before_discount"))),"\n            </div>\n        </div>"]):""])},P.method_loading=function(){return ae(['<div class="preloader" style="display: block;"></div>'])},P}),e("@Pages/Product/components/Safebuy/Highlights/template.html.twig",function(){return a.t({$main:function(e){e=e.module_status;return ae([K(ie(e,"Safebuy"))?ae(['<div class="product-highlight highlight-safebuy relative semibold font-size-ms mrg-btm-xxs">',ee("@Pages/Product/components/Safebuy/Badge/template.html.twig",{type:"badge"}),Z(Q.trans("Buy without worries")),' - <a href="#" class="js-trigger-safebuy-modal dashed-link gtm_yhtbrtdtnc">',Z("виж повече"),"</a>\n    </div>"]):""])}})}),e("@Pages/Product/components/Safebuy/Modal/template.html.twig",function(){return a.t({$main:function(e){return ae(['<div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-label="',Z("Затвори"),'">\n        <i class="em em-close"></i>\n    </button>\n</div>\n<div class="modal-body-holder"></div>'])}})}),e("@Pages/Product/components/BNPL/template.html.twig",function(){return a.t({$main:function(e){var t=e.icon,a=e.notification,n=e.description,e=e.url_description;return ae(['<div class="mrg-btm-xs text-center product-bnpl-container d-flex align-items-center">\n    <div class="icon-holder"><img src="//',Z(oe("CDN")),Z(t),'" alt=""></div>\n    <div class="info-holder">\n        <div class="semibold font-size-sm">',Z(a),"</div>",K(n)?ae(['<p class="font-size-sm mrg-sep-none">',Z(n),"</p>"]):"",'<button class="btn-link pad-hrz-none js-bnpl-modal-trigger font-size-sm dotted-link gtm_zluydjkjgf">',Z(e),"</button>\n    </div>\n</div>\n"])}})}),e("@Pages/Product/components/BNPL/templates/modal.html.twig",function(){return a.t({$main:function(e){e=e.data;return ae(['<button type="button" class="modal-bnpl-close close mrg-sep-xs mrg-hrz-xs gtm_egiiqeweqz" data-dismiss="modal" aria-label="',"Затвори",'">\n    <i class="em em-close"></i>\n</button>\n\n<div class="modal-body pad-top-md text-center">',K(ie(e,"img_header"))?ae(['<img class="modal-bnpl-logo" alt="logo" src="//',Z(ne(oe("CDN"))+ne(ie(e,"img_header"))),'" />']):"",'<div class="font-size-xl semibold mrg-btm-xxs">',ie(e,"title"),'</div>\n    <div class="semibold mrg-btm-md">',ie(e,"description"),'</div>\n\n    <div class="d-flex align-items-center mrg-btm-sm modal-bnpl-container">\n        <div class="d-flex-item modal-bnpl-img-holder">',K(ie(e,"img_body_desktop"))?ae(['<img class="pad-rgt-md hidden-xs" alt="shopping" src="//',Z(ne(oe("CDN"))+ne(ie(e,"img_body_desktop"))),'" />']):"",K(ie(e,"img_body_mobile"))?ae(['<img class="w-100 visible-xs" alt="shopping" src="//',Z(ne(oe("CDN"))+ne(ie(e,"img_body_mobile"))),'" />']):"",'</div>\n        <div class="d-flex-item text-left">\n            <div class="modal-bnpl-step semibold mrg-btm-xxs">',Z(Q.trans("Step1_bnpl")),"</div>\n            <p>",ie(e,"step1"),'</p>\n\n            <div class="modal-bnpl-step semibold mrg-btm-xxs">',Z(Q.trans("Step2_bnpl")),"</div>\n            <p>",ie(e,"step2"),'</p>\n\n            <div class="modal-bnpl-step semibold mrg-btm-xxs">',Z(Q.trans("Step3_bnpl")),"</div>\n            <p>",ie(e,"step3"),"</p>\n        </div>\n    </div>\n</div>\n"])}})}),e("@Pages/Product/components/ExtraServices/template.html.twig",function(){return a.t({$main:function(e){var t=e.casco,a=e.extra_warranty,n=e.offer,i=e.resealed,e=e.multiple;return ae(['<div class="mrg-btm-sm product-extra-services-container product-page-atf">',K(t)||K(a)?ae(['<div class="semibold text-gray font-size-ms pad-btm-xs border-bottom">',Z(Q.trans("Protect your investment")),'</div>\n        <div class="ew-services" id="ew-inpage">\n            <input type="hidden" name="extra_warranty" value="0">\n            <input type="hidden" name="servicesType" value="service">\n            ','\n            <input type="hidden" name="service[]" value="" id="warranty-service">\n            ','\n            <input type="hidden" name="service_parrent_id" value="',Z(ie(n,"id")),'">\n            \n            <div class="ew-inpage-no">',K(t)?ae(['<div class="box pad-sep-xs border-bottom d-flex justify-space-between">\n                        <div class="mrg-rgt-xs">\n                            <img class="es-img-preview js-ew-icon" data-type="casco" alt="logo" src="//',Z(oe("CDN")),'/layout/ro/static-upload/eprotect-2.svg" />\n                        </div>\n                        <div class="flex-item">\n                            <p class="mrg-btm-xxs semibold js-ew-title" data-type="casco">',Z(Q.trans("eprotect_title")),'</p>\n                            <p class="mrg-btm-xxs text-gray font-size-ms js-ew-desc" data-type="casco">',Z(Q.trans("eprotect_desc")),'</p>\n\n                            <a href="javascript:;" class="gtm_mlpcrfbtnc js-es-eprotect-modal-trigger double-angle font-size-ms semibold text-secondary"><span>',Z(Q.trans("eprotect_btn")),"</span></a>\n                        </div>\n                    </div>"]):"",K(a)?ae(['<div class="box pad-sep-xs border-bottom d-flex justify-space-between">\n                        <div class="mrg-rgt-xs">\n                            <img class="es-img-preview js-ew-icon" data-type="extra_warranty" alt="logo" src="//',Z(oe("CDN")),'/layout/ro/static-upload/garantia-3.svg" />\n                        </div>\n                        <div class="flex-item">\n                            <p class="mrg-btm-xxs semibold js-ew-title" data-type="extra_warranty">',Z(Q.trans("extra_warranty_title")),'</p>\n                            <p class="mrg-btm-xxs text-gray font-size-ms js-ew-desc" data-type="extra_warranty">',Z(Q.trans("extra_warranty_desc")),'</p>\n\n                            <a href="#extended-warranty" class="gtm_hwsgalvtnc ew-inpage-extend double-angle font-size-ms semibold text-secondary" data-insurance-type="ExtendedWarranty"><span data-insurance-type="ExtendedWarranty">',Z(Q.trans("extra_warranty_btn")),"</span></a>\n                        </div>\n                    </div>"]):"",'</div>\n            <div id="ew-inpage-yes" class="hide">\n                <div class="box pad-sep-xs border-bottom d-flex justify-space-between">\n                    <div class="mrg-rgt-xs">\n                        <img id="ew-inpage-icon" class="es-img-preview" alt="logo" src="',Z(oe("EMPTY_IMG")),'" />\n                    </div>\n                    <div class="flex-item">\n                        <p class="mrg-btm-xxs semibold" id="ew-inpage-type"></p>\n                        <p class="mrg-btm-xxs text-gray font-size-ms" id="ew-inpage-desc"></p>\n\n                        <div class="d-flex justify-space-between semibold font-size-ms">\n                            <div id="ew-inpage-text"></div>\n                            <div>\n                                <span id="ew-inpage-oldprice" class="hide"></span>\n                                <span id="ew-inpage-discount" class="hide"></span>\n                                <span id="ew-inpage-price"></span>\n                                <a href="#" role="button" id="ew-inpage-delete" class="font-size-sm"><span class="jewel jewel-transparent border-danger"><i class="em em-close text-danger"></i></span></a>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>']):"",K(i)||K(e)?ae(['<div class="semibold text-gray font-size-ms pad-sep-xs border-bottom">',Z("Виж и"),":</div>"]):"",K(i)?ae(['<div class="box border-bottom">\n            <a href="javascript:;" class="gtm_brksalptnc d-flex justify-space-between align-items-center semibold no-underline pad-sep-xs text-gray-dark js-es-resealed-modal-trigger">\n                <div class="flex-item">\n                    ',Z(Q.trans("%count% resealed offer|%count% resealed offers",{"%count%":Q.length(i)})),'\n                    <div class="text-success font-size-ms">',Q.trans("from %price%",{"%price%":Q.moneyFormat(ie(ie(ie(i,0),"price"),"current"))}),'</div>\n                </div>\n                <i class="em em-right"></i>\n            </a>\n        </div>']):"",K(e)?ae(['<div class="box border-bottom">\n            <a href="javascript:;" class="gtm_uuudddatnc d-flex justify-space-between align-items-center semibold no-underline pad-sep-xs text-gray-dark js-es-other-offers-modal-trigger">\n                <div class="flex-item">\n                    ',Z(Q.trans("%count% other offer|%count% other offers",{"%count%":ie(e,"count")})),'\n                    <div class="text-danger font-size-ms">',Q.trans("from %price%",{"%price%":Q.moneyFormat(ie(e,"price"))}),'</div>\n                </div>\n                <i class="em em-right"></i>\n            </a>\n        </div>']):"",'<div class="pad-btm-xs"></div>\n</div>'])}})}),e("@Pages/Product/components/ExtraServices/templates/eProtect/step-1.html.twig",function(){return a.t({$main:function(e){var a,t=e.options,n=e.offerId;return ae([(a=["gtm_njudngstnc","gtm_vgfdmkrtnc"],""),'<div class="modal-slide-section modal-slide-section-light">\n    <button type="button" class="modal-slide-close close js-es-close" data-dismiss="modal" aria-label=',Z("Затвори"),'>\n        <span class="font-size-ms semibold pad-rgt-xs hidden-xs">',Z("Затвори"),'</span><i class="em em-close"></i>\n    </button>\n    <div class="modal-slide-content semibold">\n        <div class="text-center">\n            <img class="modal-bnpl-logo" alt="logo" src="//',Z(oe("CDN")),'/layout/ro/static-upload/eprotect-2.svg" />\n            <h4 class="semibold mrg-btm-sm">',Z(Q.trans("eprotect_title")),'</h4>\n        </div>\n        <div class="mrg-btm-xxs relative pad-lft-md text-gray">\n            <span class="es-jewel jewel jewel-secondary font-size-xs"><i class="em em-check"></i></span>\n            ',Z(Q.trans("Covers approximately all types of damage and theft")),'\n        </div>\n        <div class="mrg-btm-xxs relative pad-lft-md text-gray">\n            <span class="es-jewel jewel jewel-secondary font-size-xs"><i class="em em-check"></i></span>\n            ',Z(Q.trans("The insurance policy is also valid abroad")),'\n        </div>\n    </div>\n</div>\n<div class="modal-slide-section text-center">\n    <div class="modal-slide-content pad-sep-sm">',A(Q.default(t,[]),function(e,t){return e?ae(['<div class="panel mrg-btm-md">\n                <div class="panel-body pad-hrz-xs pad-top-sm pad-btm-xs">\n                    <div class="strong mrg-btm-xxs">',Z(ie(t,"name")),'</div>\n                    <div class="strong mrg-btm-xs font-size-lg">',Q.moneyFormat(ie(ie(t,"price"),"current")),'</div>\n                    <button class="btn btn-eprotect btn-block js-es-eprotect-option ',Z(ie(a,ie(e,"index"))),'" data-ew="',Z(ie(e,"index")),'" data-service="',Z(ie(t,"id")),'"\n                        data-name="',ie(t,"name"),'"\n                        data-price="',Z(Q.default(ie(ie(t,"price"),"current"),null)),'" data-initial-price="',Z(Q.default(ie(ie(t,"price"),"initial"),null)),'"\n                        data-price-discount="',Z(ie(ie(ie(t,"price"),"discount"),"percent")),'" data-offer-id="',Z(n),'"\n                        data-upsell-id="',Z(Q.default(ie(t,"upsell_id"),"")),'"><span class="font-size-md">',Z("Избери"),"</span></button>\n                </div>\n            </div>"]):""}),'</div>\n    <div class="modal-slide-content font-size-sm text-gray semibold">\n        <p>',Q.trans("For more details on insurance click here for IPID and click here for cover letter."),"</p>\n        <p>",Q.trans("We recommend that you protect your purchase by choosing one of the casco insurance packages. This service package is offered by Allianz-Tiriac Asigurari."),"</p>\n    </div>\n</div>"])}})}),e("@Pages/Product/components/ExtraServices/templates/eProtect/step-2.html.twig",function(){return a.t({$main:function(e){e=e.eProtectFD;return ae(['<div class="modal-slide-section modal-slide-section-light">\n    <button type="button" class="font-size-md btn btn-go-back js-easycare-step" data-step="1"><i class="em em-go-left" aria-hidden="true"></i></button>\n    <span class="font-size-md semibold">',Z(Q.trans("Your personal info")),'</span>\n    <button type="button" class="modal-slide-close close js-es-close" data-dismiss="modal" aria-label=',Z("Затвори"),'>\n        <span class="font-size-ms semibold pad-rgt-xs hidden-xs">',Z("Затвори"),'</span><i class="em em-close"></i>\n    </button>\n</div>\n\n<div class="panel text-left mrg-hrz-sm mrg-sep-sm pad-sep-sm">\n    <div class="panel-body">\n        <form class="js-easycare-user-form">\n            <div class="form-group">\n                <label for="easycare-user-name" class="semibold font-size-sm mrg-top-xxs">',Z(Q.trans("Last name")),':</label>\n                <input type="text" class="form-control" id="easycare-user-name" value="',Z(Q.default(ie(e,"last_name"),"")),'" placeholder="',Z(Q.trans("last_name_placeholder")),'" name="name" required/>\n            </div>\n\n            <div class="form-group">\n                <label for="easycare-user-last_name" class="semibold font-size-sm mrg-top-xxs">',Z("Име"),':</label>\n                <input type="text" class="form-control" id="easycare-user-last_name" value="',Z(Q.default(ie(e,"name"),"")),'" placeholder="',Z(Q.trans("first_name_placeholder")),'" name="last_name" required/>\n            </div>\n\n            <div class="form-group">\n                <label for="easycare-user-cnp" class="semibold font-size-sm mrg-top-xxs">',Z("Единен граждански номер (ЕГН): Моля, въведи своето ЕГН, не използвай ЕГН на роднина или приятел."),':</label>\n                <input type="text" class="form-control" id="easycare-user-cnp" value="',Z(Q.default(ie(e,"cnp"),"")),'" placeholder="',Z(Q.trans("user_account_cnp_placeholder")),'" name="cnp" data-v-cnp="true" data-v-length="13" required/>\n            </div>\n\n            <div class="cnp-info mrg-top-xs mrg-btm-sm font-size-sm">',Q.trans("The CNP is requested by the insurance companies. In order to calculate the correct price, they have the legal obligation to verify the number of damages, found with the help of the CNP and the chassis series by querying the CSA / CEDAM database."),'</div>\n\n            <div class="form-group agreement-checkbox mrg-btm-sm">\n                <div class="checkbox-custom inline-block--middle">\n                    <input type="checkbox" class="form-check-input" name="easycare-terms" value="1" ',Z(1==Q.default(ie(e,"easycare-terms"),"")?"checked":""),' id="easycare-terms" required>\n                    <label for="easycare-terms" class="semibold font-size-sm">',Q.trans("I agree with the data processing"),'</label>\n                </div>\n            </div>\n\n            <button type="submit" class="btn btn-eprotect gtm_m93uttyrqk">',"Напред","</button>\n        </form>\n    </div>\n</div>"])}})}),e("@Pages/Product/components/ExtraServices/templates/eProtect/step-3.html.twig",function(){return a.t({$main:function(e){return ae(['<div class="modal-slide-section modal-slide-section-sm modal-slide-section-light">\n    <button type="button" class="font-size-md btn btn-go-back js-easycare-step" data-step="2"><i class="em em-go-left" aria-hidden="true"></i></button>\n    <span class="font-size-md semibold">',Z(Q.trans("Terms and conditions")),'</span>\n    <button type="button" class="modal-slide-close close js-es-close" data-dismiss="modal" aria-label=',Z("Затвори"),'>\n        <span class="font-size-ms semibold pad-rgt-xs hidden-xs">',Z("Затвори"),'</span><i class="em em-close"></i>\n    </button>\n</div>\n\n<div class="js-es-scrollable-area es-scrollable-area">\n    <div class="panel text-left mrg-hrz-sm pad-sep-sm">\n        <div class="panel-body">\n            <div class="agreement-text">\n                ',Q.trans("easy care modal terms and conditions placeholder"),'\n            </div>\n        </div>\n    </div>\n</div>\n<div class="es-panel-footer text-center">\n    <div class="agreement-info pad-btm-xs">',Q.trans('To activate the "Finish" button you must read the Terms and Conditions'),'</div>\n    <button type="button" class="js-es-finish-easycare btn btn-eprotect gtm_l7071s2mta" disabled>',Z(Q.trans("Accept and continue")),"</button>\n</div>"])}})}),e("@Components/AddToCart/template.html.twig",function(){return a.t({$main:function(e){var t,a,n,i=e.appData,o=e.searchData,s=e.productData,r=e.productType,l=e.text,d=e.type,c=e.disabled,u=e.ref,p=e.sourceArea,m=e.gtm,f=e.inputs,h=e.ecredit,v=e.promoconfig,g=e.giftconfig,_=e.extraClass,y=e.size,b=e.layout,w=e.className;return ae([(i=Q.default(i,[]),""),(o=Q.default(o,null),""),(s=Q.default(s,null),""),(t=Q.default(ie(s,"offer"),[]),""),(r=Q.default(r,""),""),(a="btn",""),(n=Q.default(l,"preorder"==ie(ie(t,"availability"),"code")?"Предварителна поръчка":"Добави в количката"),""),(e=Q.default(d,"icon"),""),(l=Q.default(c,!1),""),(d=K(o)?K(ie(o,"fav_ref"))?"&ref="+ne(ie(o,"fav_ref")):"&ref=search_1":K(u)?"&ref="+ne(u):"",""),(c=K(ie(o,"ref_zone"))?"&ref_zone="+ne(ie(o,"ref_zone")):"",""),(p=K(p)?"&source_area="+ne(p):"",""),(m=Q.default(m,""),""),(f=Q.default(f,[]),""),(h=Q.default(h,null),""),(v=Q.default(v,null),""),(g=Q.default(g,null),""),(_=Q.default(_,""),""),K(Q.default(ie(o,"ads"),null))?ae([(d=Q.replace(Q.addQueryParam("",ie(o,"ads")),{"?":"&"}),"")]):"",u="",K(o)?ae([(u="&X-Product-Id="+ne(ie(o,"product_id"))+"&X-Search-Position="+ne(ie(o,"product_pos"))+"&X-Search-Page="+ne(ie(o,"page"))+"&X-Search-Id="+ne(ie(o,"search_id"))+"&X-Section="+ne(ie(o,"section"))+"&X-MB="+ne(ie(o,"is_mb")),"")]):"",(a=ne(a)+(K(y)?" btn-"+ne(y):""),""),(a=ne(a)+" "+("text"==e?"btn-default":"btn-primary btn-emag"+("micro"==e?"-micro":"")),""),(a=ne(a)+(K(b)&&"block"==b?" btn-block":""),""),(a=ne(a)+(K(w)?" "+ne(w):""),""),(a=ne(a)+(K(m)?" "+ne(m):""),""),K(ie(ie(t,"flags"),"only_in_showroom"))?ae([(a=ne(a)+" yeahReserveThisProduct js-trigger-product-showroom-reservation-modal btn-book-product-showroom","")]):"main"==r?ae([(a=ne(a)+" yeahIWantThisProduct","")]):"fd"==r?ae([(a=ne(a)+" yeahIWantThisProductFamily","")]):"",(a=ne(a)+(K(_)?" "+ne(_):""),""),ae(K(ie(ie(t,"flags"),"only_in_showroom"))?['<button type="button" class="',Z(a),'" data-offerid="',Z(ie(t,"id")),'"\n                data-localities="',Z(Q.json_encode(ie(ie(t,"availability"),"showrooms"))),'"><i class="em em-showroom-complex"></i>',Z("Резервирай в шоурума "),"</button>"]:["<form ",K(t)?ae(['data-id="',Z(ie(t,"id")),'"']):"",' action="',Z(ie(i,"old_site_endpoint")),"/newaddtocart?source=front",Z(d),Z(u),Z(c),Z(p),'" method="post" novalidate="true">',K(t)?ae(['<input type="hidden" name="product[]" value="',Z(ie(t,"id")),'">']):"",null!=v?ae(['<input type="hidden" name="promoconfig" value="',Z(v),'">']):"",null!=g?ae(['<input type="hidden" name="giftconfig" value="',Z(g),'">']):"",null!=h?ae(['<input type="hidden" name="ecredit_product" value="',Z(Q.default(ie(h,"product"),"")),'">\n        <input type="hidden" name="ecredit_installments" value="',Z(Q.default(ie(h,"installments"),"")),'">']):"",K(Q.length(f))?ae([A(f,function(e,t){return e?ae(['<input type="',Z(Q.default(ie(t,"type"),"hidden")),'" name="',Z(ie(t,"name")),'" value="',Z(Q.default(ie(t,"value"),"")),'" ',K(ie(t,"id"))?ae(['id="',Z(ie(t,"id")),'"']):""," ",K(ie(t,"class"))?ae(['class="',Z(ie(t,"class")),'"']):"",">"]):""})]):"",'<button type="submit" class="',Z(a),'" ',K(t)?ae(['data-offer-id="',Z(ie(t,"id")),'"']):""," ",K(s)&&K(ie(s,"category"))?ae(['data-category-id="',Z(ie(ie(s,"category"),"id")),'"']):""," ",K(l)?ae(["disabled"]):"","fd"==r?ae([' data-family="',Z(Q.json_encode(Q.default(ie(s,"family"),{}))),'"']):"",">",te.in(e,["icon","micro"])?ae(['\n            <i class="em em-cart_fill',Z(K(m)?" "+ne(m):""),'"></i>']):"","micro"!=e?ae([Z(n)]):"","</button>\n</form>"])])}})}),e("@Pages/Product/components/ExtraServices/templates/resealed.html.twig",function(){return a.t({$main:function(e){var t,a=e.offers,n=e.localeData,i=e.product,o=e.app;return ae([(a=Q.default(a,[]),""),(t=Q.default(ie(a,0),{}),""),(n=Q.default(n,null),""),'<div class="modal-slide-section modal-slide-section-light">\n    <button type="button" class="modal-slide-close close" data-dismiss="modal" aria-label=',Z("Затвори"),'>\n        <span class="font-size-ms semibold pad-rgt-xs hidden-xs">',Z("Затвори"),'</span><i class="em em-close"></i>\n    </button>\n    <div class="text-center">\n        <div class="modal-slide-content">\n            <img src=',Z(Q.getSize(ie(ie(i,"image"),"resized_images"),"80x80"))," alt=",Z(ie(i,"name")),' />\n        </div>\n\n        <div class="h3 semibold">',Z(Q.trans("Resealed offers for")),':</div>\n        <div class="mrg-btm-sm">',Z(ie(i,"name")),'</div>\n\n        <div class="semibold mrg-btm-xs">',Z(Q.trans("Why to choose a resealed product?")),'</div>\n\n        <div class="d-flex">',K(ie(ie(ie(t,"vendor"),"name"),"display"))?ae([(e=1==ie(ie(t,"vendor"),"id")||1!=ie(ie(t,"vendor"),"id")&&!K(ie(ie(t,"flags"),"is_fulfilment_by_emag")),""),'\n                <div class="d-inline-flex flex-item flex-direction-column">\n                    <div class="jewel jewel-success jewel-sm mrg-btm-xxs"><i class="em em-check"></i></div>\n                    <div class="po-text-small">\n                        ',Z(K(e)?"Предлаган и с доставка от":"Предлаган от "),"\n                        ",(i=ae(["\n                            <strong>",Z(ie(ie(ie(t,"vendor"),"name"),"display")),"</strong>\n                        "]),""),"\n                        ",ae(1!=ie(ie(t,"vendor"),"id")?['\n                            <a href="',Z(ie(ie(ie(t,"vendor"),"url"),"path")),'">',Z(i),"</a>\n                        "]:["\n                            ",Z(i),"\n                        "]),"\n                    </div>\n                </div>\n                ",K(e)?"":ae(['\n                    <div class="d-inline-flex flex-item flex-direction-column">\n                        <div class="jewel jewel-success jewel-sm mrg-btm-xxs"><i class="em em-check"></i></div>\n                        <div class="po-text-small">\n                            ',Z("Предлаган от"),"\n                            <strong>eMAG</strong>\n                        </div>\n                    </div>\n                "])]):"",K(ie(ie(t,"flags"),"has_warranty"))?ae([A(ie(t,"warranties"),function(e,t,a){return e?ae(["\n                    ","individual"==a&&K(t)?ae(['\n                        <div class="d-inline-flex flex-item flex-direction-column">\n                            <div class="jewel jewel-success jewel-sm mrg-btm-xxs"><i class="em em-check"></i></div>\n                            <div class="po-text-small">\n                                ',"\n                                ",ae("-1"==ie(t,"period")?["\n                                    ",Z("Включена гаранция")," ",Z(ie(t,"text")),"\n                                "]:["\n                                    ",Z(Q.trans("Warranty %count% month|Warranty %count% months",{"%count%":ie(t,"period")})),"\n                                "]),"\n                            </div>\n                        </div>\n                    "]):"","\n                "]):""})]):"","ro"==n?ae(['<div class="d-inline-flex flex-item flex-direction-column">\n                    <div class="jewel jewel-success jewel-sm mrg-btm-xxs"><i class="em em-check"></i></div>\n                    <div class="po-text-small">',Z(Q.trans("%count% day return|%count% days return",{"%count%":30})),"</div>\n                </div>"]):"",'</div>\n    </div>\n</div>\n\n<div class="modal-slide-section">\n    <div class="pad-sep-sm">',A(a,function(e,t){return e?ae(['<div class="panel">\n                <div class="panel-body font-size-ms">\n                    <div class="row">\n                        <div class="col col-xs-12 col-sm-8">\n                            <div class="semibold mrg-btm-xs">',ae("percent"==ie(ie(ie(t,"price"),"discount"),"type")?[Q.trans("You save %value%&#37;",{"%value%":ie(ie(ie(t,"price"),"discount"),"percent")})]:[Q.trans("You save %value%",{"%value%":Q.raw(Q.moneyFormat(ie(ie(ie(t,"price"),"discount"),"absolute")))})]),"</div>\n                            <div>\n                                ",ie(ie(t,"description"),"offer"),'\n                            </div>\n                        </div>\n                        <div class="col col-xs-12 col-sm-4">\n                            <div class="semibold text-right">\n                                <p class="product-old-price font-size-sm">',K(ie(ie(t,"flags"),"has_discount"))?ae(["Ново",": ",Q.moneyFormat(ie(ie(t,"price"),"initial"))]):"",'</p>\n                                <p class="text-success font-size-md">',Z(K(ie(ie(t,"price"),"current"))?Q.raw(Q.moneyFormat(ie(ie(t,"price"),"current"))):"&nbsp;"),"</p>\n                            </div>",ee("@Components/AddToCart/template.html.twig",{appData:o,productData:{offer:t},className:"semibold btn-secondary js-es-add-to-cart",gtm:"gtm_945rp09",text:"Добави в количката",layout:"block",type:"text",size:"sm",sourceArea:"resealed"}),"</div>\n                    </div>\n                </div>\n            </div>"]):""}),"</div>\n</div>"])}})}),e("@Pages/Product/partials/product-page-installments-block.html.twig",function(){return a.t({$main:function(e){var t=e.installmentsValue,e=e.offer;return ae(['<div class="ecredit-installment-block text-right">\n    <div class="font-semi-bold">',Z("Месечни вноски"),'</div>\n    <div class="price font-semi-bold">\n        ',a.trans("from %price%",{"%price%":"<span class='numeric'>"+ne(Q.raw(Q.moneyFormat(t)))+"</span>"}),'\n    </div>\n\n    <input type="hidden" name="ecredit_product" value="">\n    <input type="hidden" name="ecredit_installments" value="">\n\n    <a href="#" class="trigger-ecredit-modal gtm_jltr56" data-offer-id="',Z(ie(e,"id")),'">',Z("Виж повече"),"</a>\n</div>"])}})}),e("@Pages/Product/components/ExtraServices/templates/otherOffers.html.twig",function(){var s=a.t({$main:function(e){var t=e.offers,a=e.localeData,n=e.product,i=e.app,o=e.moduleStatus;return ae([(t=Q.default(t,[]),""),(Q.default(ie(t,0),{}),""),(a=Q.default(a,null),""),'<div class="modal-slide-section modal-slide-section-light">\n    <button type="button" class="modal-slide-close close" data-dismiss="modal" aria-label=',Z("Затвори"),'>\n        <span class="font-size-ms semibold pad-rgt-xs hidden-xs">',Z("Затвори"),'</span><i class="em em-close"></i>\n    </button>\n    <div class="text-center">\n        <div class="modal-slide-content">\n            <img src=',Z(Q.getSize(ie(ie(n,"image"),"resized_images"),"80x80"))," alt=",Z(ie(n,"name")),' />\n        </div>\n        \n        <div class="h3 semibold">',Z(Q.trans("%count% other offer|%count% other offers",{"%count%":Q.length(t)})),':</div>\n        <div class="mrg-btm-sm">',Z(ie(n,"name")),'</div>\n    </div>\n</div>\n\n<div class="modal-slide-section">\n    <div class="pad-sep-sm">',A(t,function(e,t){return e?ae(['<div class="panel">\n                <div class="panel-body font-size-ms">\n                    <div class="row">\n                        <div class="col col-xs-12 col-sm-8">\n                            <div class="semibold mrg-btm-xs">\n                                ',Z(ie(s,"deliveredBy")(t)),'\n                            </div>\n\n                            <div class="mrg-btm-xs">\n                                <span class="label label-',Z(ie(ie(t,"availability"),"code")),'">',ae(K(ie(ie(t,"availability"),"days_estimation"))&&te.in(ie(ie(t,"availability"),"code"),["in_stock","limited_stock","limited_stock_qty","in_stock_provider"])?[Z(Q.trans("%count% day delivery|%count% days delivery",{"%count%":ie(ie(t,"availability"),"days_estimation")}))]:[Z(ie(ie(t,"availability"),"text"))]),"</span>\n\n                                ",K(Q.length(ie(t,"gifts")))?ae(['\n                                    <span class="mrg-hrz-xs label label-limited_stock">\n                                        <i class="em em-gift_fill"></i>\n                                    </span>\n                                ']):"","\n\n                                ",K(Q.default(ie(ie(t,"flags"),"is_genius_eligible"),!1))?ae(['\n                                    <span class="label-genius">\n                                        <img src="',Z(ie(t,"url_genius")),'" alt="',Z(Q.trans("eMAG Genius")),'">\n                                    </span>\n                                ']):"","\n                            </div>\n                            \n                            ",Z(ie(s,"benefits")(t,a)),'\n                        </div>\n                        <div class="col col-xs-12 col-sm-4">\n                            ',Z(ie(s,"pricing")(t)),ee("@Components/AddToCart/template.html.twig",{appData:i,productData:{offer:t},className:"semibold btn-secondary"+(K(ie(ie(t,"flags"),"only_in_showroom"))?"":" js-es-add-to-cart"),gtm:"gtm_945rp09",text:K(ie(ie(t,"flags"),"may_be_ordered"))?"Добави в количката":"pазпродадено",layout:"block",type:"text",size:"sm",sourceArea:"other_offers",disabled:!K(ie(ie(t,"flags"),"may_be_ordered"))}),K(ie(o,"Ecredit_Other_Offers_Flag"))&&K(ie(ie(t,"flags"),"has_ecredit"))?ae(['<form action="/newaddtocart?source=front&source_area=other_offers">\n                                    <input type="hidden" name="product[]" value="',Z(ie(t,"id")),'">\n                                    <button type="button" class="btn btn-block btn-sm semibold btn-default mrg-top-xs trigger-ecredit-modal-resealed gtm_7waj0vch" data-offer-id="',Z(ie(t,"id")),'" data-new-price="',Z(ie(ie(t,"price"),"current")),'" data-product-type="other-offer">\n                                        ',Z("Купи на изплащане"),'\n                                    </button>\n                                    <input type="hidden" name="ecredit_product" value="">\n                                    <input type="hidden" name="ecredit_installments" value="">\n                                </form>']):"","</div>\n                    </div>\n                </div>\n            </div>"]):""}),"</div>\n</div>"])}});return s.deliveredBy=function(e){var t,a,n;return ae([(t=1==ie(ie(e,"vendor"),"id")||1!=ie(ie(e,"vendor"),"id")&&!K(ie(ie(e,"flags"),"is_fulfilment_by_emag")),""),(a=ie(ie(e,"vendor"),"rating"),""),(n=ae(["<strong>",Z(ie(ie(ie(e,"vendor"),"name"),"display")),"</strong>"]),""),'<div class="po-text-small inline-block">\n        ',Z(K(t)?"Предлаган и с доставка от":"Предлаган от "),"\n\n        ",ae(K(ie(a,"rating"))?['\n            <a href="',Z(ie(ie(ie(e,"vendor"),"url"),"path")),'?ref=see_vendor_page_so">',Z(n),'</a>\n\n            <span class="seller-rating-container js-seller-rating-container" data-phino="Dropdown" data-ph-position="bottom center" data-ph-open-on="',Z(K(oe("IS_MOBILE"))?"click":"hover"),'" data-ph-target=".seller-rating-tooltip-',Z(ie(ie(e,"vendor"),"id")),'">\n                ',Z(ie(a,"rating")),'\n                <i class="em em-star_fill"></i>\n            </span>',ee("@Pages/Product/partials/seller-rating-tooltip.html.twig",{sellerName:ie(ie(ie(e,"vendor"),"name"),"display"),rating:a,path:ie(ie(ie(e,"vendor"),"url"),"path"),id:ie(ie(e,"vendor"),"id")})]:1!=ie(ie(e,"vendor"),"id")?['\n            <a href="',Z(ie(ie(ie(e,"vendor"),"url"),"path")),'?ref=see_vendor_page_so">\n                ',Z(n),"\n            </a>\n        "]:["\n            ",Z(n),"\n        "]),"\n    </div>"])},s.benefits=function(e,t){return ae(["<div>",K(ie(ie(e,"flags"),"has_warranty"))?ae([A(ie(e,"warranties"),function(e,t,a){return e?ae(["individual"==a&&K(t)?ae(['<div>\n                        <span class="jewel jewel-transparent"><i class="em em-check text-success"></i></span>\n                        ',"\n                        ",ae("-1"==ie(t,"period")?["\n                            ",Z("Включена гаранция")," ",Z(ie(t,"text")),"\n                        "]:["\n                            ",Z(Q.trans("Warranty %count% month|Warranty %count% months",{"%count%":ie(t,"period")})),"\n                        "]),"\n                    </div>"]):""]):""})]):"",K(ie(ie(e,"flags"),"has_pickup"))&&1!=ie(ie(e,"vendor"),"id")&&"ro"==t?ae(['<div>\n                <span class="jewel jewel-transparent"><i class="em em-check text-success"></i></span>\n                ',Z(Q.trans("Personal pickup from easybox available 24/7")),"\n            </div>"]):"",A(Q.default(ie(e,"labels"),[]),function(e,t){return e?ae(['<div>\n                <span class="jewel jewel-transparent"><i class="em em-check text-success"></i></span>\n                ',Z(ie(t,"name")),"\n            </div>"]):""}),"</div>"])},s.pricing=function(e){var t,a,n;return ae([(t=K(ie(ie(e,"ecredit"),"best_installment"))||K(Q.default(K(ie(e,"card_installments"))&&K(ie(ie(ie(e,"card_installments"),"best_installment"),"value")),!1)),""),(a=K(ie(ie(ie(e,"ecredit"),"best_installment"),"value"))?ie(ie(ie(e,"ecredit"),"best_installment"),"value"):ie(ie(ie(e,"card_installments"),"best_installment"),"value"),""),(n=Q.default(ie(e,"shippingCost"),-1),""),'<div class="d-inline-flex w-100 mrg-btm-xs">\n        <div class="semibold text-right ',Z(K(t)?"w-50 mrg-rgt-xs":"w-100"),'">\n            <div class="text-danger font-size-md">',Z(K(ie(ie(e,"price"),"current"))?Q.raw(Q.moneyFormat(ie(ie(e,"price"),"current"))):""),"</div>\n        </div>\n\n        ",K(t)?ae(["\n            ",ee("@Pages/Product/partials/product-page-installments-block.html.twig",{installmentsValue:a,offer:e}),"\n        "]):"","\n    </div>",-1!=n?ae(['<div class="mrg-btm-xs">\n            + ',Z("Доставка")," ",'<span class="',Z(0==n?"text-success":""),'">',ae(0==n?['<span class="semibold">',Z("Безплатна"),"</span>"]:[Q.moneyFormat(n)]),"</span>\n        </div>"]):""])},s}),e("@Components/ProductShowroomReservation/ShowroomSchedule/template.html.twig",function(){return a.t({$main:function(e){e=e.schedule;return ae(['<div class="title">',Z(Q.trans("Program")),":</div>",K(ie(e,"monday"))&&K(ie(e,"friday"))?ae(['<div class="description">',"понеделник"," - ","петък",': <span class="pull-right">',Z(Q.slice(ie(ie(e,"monday"),"start"),0,5))," - ",Z(Q.slice(ie(ie(e,"friday"),"end"),0,5)),"</span></div>"]):"",K(ie(e,"saturday"))?ae(['<div class="description">',"събота",': <span class="pull-right">',Z(Q.slice(ie(ie(e,"saturday"),"start"),0,5))," - ",Z(Q.slice(ie(ie(e,"saturday"),"end"),0,5)),"</span></div>"]):"",K(ie(e,"sunday"))?ae(['<div class="description">',"неделя",': <span class="pull-right">',Z(Q.slice(ie(ie(e,"sunday"),"start"),0,5))," - ",Z(Q.slice(ie(ie(e,"sunday"),"end"),0,5)),"</span></div>"]):""])}})}),e("@Components/ProductShowroomReservation/ShowroomInfo/template.html.twig",function(){return a.t({$main:function(e){var t=e.name,a=e.address,n=e.coordinates,e=e.schedule;return ae(['<div class="col-xs-12 col-sm-4 item location text-left font-semi-bold">\n    <div class="icon-holder">\n        <img src="//',Z(oe("CDN")),'/layout/ro/static-upload/icon_showroom.svg" alt="Showroom"/>\n    </div>\n    <div class="name-holder">',t,'</div>\n</div>\n\n<div class="col-xs-12 col-sm-4 item address text-left">\n    <div class="title">',"Адрес",':</div>\n    <div class="description address-placeholder">',a,'</div>\n    <div class="font-regular underline">\n        <a href="',Z("https://maps.google.com/?q=loc:"+ne(ie(n,"lat"))+","+ne(ie(n,"long"))),'" target="_blank" class="map-url">',"Отвори с Google Maps",'</a>\n    </div>\n</div>\n\n<div class="col-xs-12 col-sm-4 item schedule text-left">',ee("@Components/ProductShowroomReservation/ShowroomSchedule/template.html.twig",{schedule:e}),"</div>"])}})}),e("@Pages/Product/components/AvailableShowrooms/components/Modal/template.html.twig",function(){return a.t({$main:function(e){e=e.showrooms;return ae([(e=Q.default(e,[]),""),'<div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-label="',Z("Затвори"),'"><i\n                class="em em-close"></i></button>\n    <h4 class="modal-title">',"Резервация на продукт",'</h4>\n</div>\n<div class="modal-description">',Q.trans("This product is available right now in the following locations:"),'</div>\n<div class="modal-body">\n    <div class="showroom-list">',A(e,function(e,t){return e?ae(['<div class="showroom-info-data row">',ee("@Components/ProductShowroomReservation/ShowroomInfo/template.html.twig",{name:ie(t,"name"),address:ie(t,"address"),coordinates:ie(t,"coordinates"),schedule:ie(t,"schedule")}),"</div>"]):""}),"</div>\n</div>\n"])}})}),e("@Components/ProductBadges/template.html.twig",function(){return a.t({$main:function(e){var t=e.appData,a=e.productData,n=e.classList,i=e.defaultDisplayBadges,o=e.maxBadges,s=e.unifiedBadges,r=e.discountBadges,l=e.isMainGallery,e=e.FASHION_VARIATION;return ae([(t=Q.default(t,[]),""),(a=Q.default(a,[]),""),(n=Q.default(n,""),""),(i=Q.default(i,!1),""),(o=Q.default(o,2),""),(s=null!=s?s:Q.slice(Q.default(ie(ie(a,"offer"),"unified_badges"),[]),0,o),""),(s=Q.filter(s,function(e){return"Video review"!=ie(e,"label")&&"commercial"!=ie(e,"type")&&136!=ie(ie(e,"background_color"),"r")&&136!=ie(ie(e,"background_color"),"g")&&136!=ie(ie(e,"background_color"),"b")}),""),(t=Q.first(Q.filter(Q.default(ie(ie(a,"offer"),"unified_badges"),[]),function(e){return"commercial"==ie(e,"type")&&239==ie(ie(e,"background_color"),"r")&&33==ie(ie(e,"background_color"),"g")&&0==ie(ie(e,"background_color"),"b")})),""),K(t)?"":ae([(t=Q.first(Q.filter(Q.default(ie(ie(a,"offer"),"unified_badges"),[]),function(e){return"commercial"==ie(e,"type")&&34==ie(ie(e,"background_color"),"r")&&167==ie(ie(e,"background_color"),"g")&&240==ie(ie(e,"background_color"),"b")})),"")]),K(t)?"":ae([(t=Q.first(Q.filter(Q.default(ie(ie(a,"offer"),"unified_badges"),[]),function(e){return"characteristic"==ie(e,"type")&&136==ie(ie(e,"background_color"),"r")&&136==ie(ie(e,"background_color"),"g")&&136==ie(ie(e,"background_color"),"b")})),"")]),(r=Q.slice(Q.default(r,[]),0,o),""),(o=Q.default(ie(ie(ie(a,"offer"),"flags"),"is_genius_eligible"),!1),""),(l=Q.default(l,!1),""),(e=K(l)&&K(Q.default(e,!1)),""),(i=K(Q.default(ie(ie(ie(a,"offer"),"flags"),"has_unified_badges"),i))&&K(s),""),K(i)||K(r)||K(e)||K(t)?ae(['<div class="product-badge-box js-product-badge-box ',Z(K(i)||K(t)||K(oe("IS_MOBILE"))&&K(o)?"":"hidden "),Z(n),'">',K(e)?ae([K(o)?ae(['<div class="product-badge-container">\n                    <div class="product-badge fashion-genius-badge">\n                        <div class="product-badge-label">\n                            <i class="em em-genius-text"></i>\n                        </div>\n                    </div>\n                </div>']):"",(a=ie(ie(a,"offer"),"price"),""),"percent"==Q.default(ie(ie(a,"discount"),"type"),null)?ae(['<div class="product-badge-container">\n                    <div class="product-badge fashion-discount-badge">\n                        <div class="product-badge-label">\n                            -',Z(ie(ie(a,"discount"),"percent")),"%\n                        </div>\n                    </div>\n                </div>"]):""]):"",K(e)&&K(oe("IS_MOBILE"))||!K(Q.length(s))?"":ae(['<div class="js-product-unified-badges">',A(s,function(e,t){return e?ae(["commercial"!=ie(t,"type")?ae(['<div class="product-badge-container js-product-badge-container" data-product-type="',Z(ie(t,"type")),'">\n                        <div class="product-badge product-badge--',Z(ie(t,"type")),'" style="background-color: rgb(',Z(ie(ie(t,"background_color"),"r")),", ",Z(ie(ie(t,"background_color"),"g")),", ",Z(ie(ie(t,"background_color"),"b")),');">',K(Q.default(ie(t,"indicator")))?ae(['<span class="product-badge-indicator">',Z(ie(t,"indicator")),"</span>"]):"",'<div class="product-badge-label">\n                                ',Z("our_recommendation"==ie(t,"type")?ie(t,"label"):Q.lower(ie(t,"label"))),"\n                            </div>",null!=ie(t,"image")&&K(ie(t,"image"))?ae(['<div class="product-badge-image" style="background-image: url(',Z(ie(ie(t,"image"),"original")),')"></div>']):"","</div>\n                    </div>"]):""]):""}),"</div>"]),K(Q.length(r))?ae(['<div class="js-product-discount-badges hidden">',A(r,function(e,t){return e?ae(['<div class="product-badge-container js-product-badge-container" data-product-type="',Z(ie(t,"type")),'">\n                    <div class="product-badge product-badge--',Z(ie(t,"type")),'" style="background-color: rgb(',Z(ie(ie(t,"background_color"),"r")),", ",Z(ie(ie(t,"background_color"),"g")),", ",Z(ie(ie(t,"background_color"),"b")),');">',K(Q.default(ie(t,"indicator")))?ae(['<span class="product-badge-indicator">',Z(ie(t,"indicator")),"</span>"]):"",'<div class="product-badge-label">',ie(t,"label"),"</div>",null!=ie(t,"image")&&K(ie(t,"image"))?ae(['<div class="product-badge-image" style="background-image: url(',Z(ie(ie(t,"image"),"original")),')"></div>']):"","</div>\n                </div>"]):""}),"</div>"]):"",K(t)?ae(['<div class="product-badge-container" data-product-type="',Z(ie(t,"type")),'">\n                <div class="product-badge product-badge--',Z(ie(t,"type")),'" style="background-color: rgb(',Z(ie(ie(t,"background_color"),"r")),", ",Z(ie(ie(t,"background_color"),"g")),", ",Z(ie(ie(t,"background_color"),"b")),');">\n                    <span class="product-badge-label">',Z(ie(t,"label")),"</span>\n                </div>\n            </div>"]):"","</div>"]):""])}})}),e("@Components/AddToFavorites/template.html.twig",function(){return a.t({$main:function(e){var t=e.productData,a=e.size,n=e.textAdd,i=e.textRemove,o=e.type,s=e.layout,r=e.gtm,l=e.ref,d=e.scm,c=e.isBold,u=e.extraClass,p=e.searchlog,m=e.allowFavorites;return ae([(t=Q.default(t,{}),""),(a=Q.default(a,""),""),"","",(n=Q.default(n,"Добави в Любими"),""),(i=Q.default(i,"Добавено в Любими"),""),(o=Q.default(o,"button"),""),(s=Q.default(s,""),""),(r=Q.default(r,""),""),(l=Q.default(l,""),""),(Q.default(d,{}),""),(c=Q.default(c,!1),""),(e="em em-fav"+(K(c)?" em-fav-bold":""),""),(u=Q.default(u,""),""),(p=Q.default(p,null),""),(d=Q.default(ie(t,"options_modal"),!1),""),"",(c=ne("add-to-favorites btn")+(te.in(a,["sm","lg","xl"])?" btn-"+ne(a):""),""),(c=ne(c)+(te.in(o,["button","icon","text"])?" btn-default":""),""),(c=ne(c)+(te.in(o,["button"])?" btn-icon":""),""),(c=ne(c)+(te.in(s,["block"])?" btn-"+ne(s):""),""),(c=ne(c)+(K(r)?" "+ne(r):""),""),(c=ne(c)+(K(d)?" add-to-favorites-family":""),""),(c=ne(c)+(K(u)?" "+ne(u):""),""),(u=' data-type="'+ne(o)+'"',""),(a=' data-size="'+ne(a)+'"',""),(m=Q.default(m,!1),""),K(m)?ae(['<button type="button" class="',Z(c),'" data-productid="',Z(ie(t,"productid")),'" data-offerid="',Z(ie(t,"offerid")),'"',u,a,' data-product="',Z(Q.json_encode(t)),'" ',K(p)?ae([' data-searchlog="',Z(Q.json_encode(p)),'"']):"",K(l)?ae([' data-ref="',Z(l),'"']):""," disabled>",te.in(o,["button","icon","micro"])?ae(['\n            <i class="',Z(e),Z(K(r)?" "+ne(r):""),'"></i>']):"","icon"!=o?ae(['<span class="',Z(r),'" data-text-add="',Z(n),'" data-text-remove="',Z(i),'"></span>']):"","</button>"]):""])}})}),e("@PhotonBundle/common/components/_card.html.twig",function(){return a.t({$main:function(e){var t,a,n,i,o,s,r,l,d=e.hasActionButtons,c=e.hasShowDetailsBtn,u=e.hasAvailableSizes,p=e.hasRating,m=e.isClickable,f=e.isPlaceholder,h=e.isViewMore,v=e.showPrice,g=e.lazyImg,_=e.isHeroCard,y=e.useEmagAddToCartBtn,b=e.submitBtnClass,w=e.familyProductsData,P=e.recommendationId,E=e.recommendation_id,M=e.provider,k=e.scenarioId,x=e.ref,C=e.nav_ref,D=e.isBuyable,H=e.isAccessory,S=e.characteristicId,L=e.hasAddToFavorites,j=e.thumbnailSize,A=e.gtmFavorites,I=e.gtmAddToCart,T=e.gtmCardTitle,z=e.appData,O=e.productData,q=e.categoryData,R=e.aidr,N=e.badgesType,F=e.hasAbsoluteUrlThumb,B=e.thumbnailALT,G=e.showRating,U=e.isCarouselItem,W=e.resource,X=e.showGenius,V=e.hasResealed,$=e.hasUnfairPrice,Y=e.multipleOfferCount,J=e.usedAndUnavailable;return ae([(d=null==d||d,""),(c=null!=c&&c,""),(u=null!=u&&u,""),(p=null==p||p,""),(m=null!=m&&m,""),(f=null!=f&&f,""),(h=null!=h&&h,""),(v=null==v||v,""),(g=null!=g&&g,""),(_=null!=_&&_,""),(y=Q.default(y,!1),""),(b=Q.default(b,""),""),(Q.default(w,[]),""),(P=null!=P?P:Q.default(E,!1),""),(M=Q.default(M,""),""),(k=Q.default(k,null),""),(x=Q.default(x,""),""),(C=Q.default(C,""),""),(D=Q.default(D,!1),""),(Q.default(H,!1),""),(S=Q.default(S,null),""),(L=null==L||L,""),(j=null!=j?j:"150x150",""),(A=Q.default(A,"gtm_mg090118"),""),(I=K(I)?" "+ne(I):"",""),(T=K(T)?" "+ne(T):"",""),K(D)||K(u)||K(c)||K(f)?"":ae(["\n    ","","\n    ",(d=!(m=!0),""),"\n"]),(z=Q.default(z,{}),""),(O=Q.default(O,null),""),(t=Q.default(ie(O,"offer"),{}),""),(a=Q.default(ie(O,"name"),"not-defined"),""),(e=Q.default(ie(O,"flags"),{}),""),(w=Q.default(ie(ie(ie(ie(t,"price"),"currency"),"name"),"default"),""),""),(E=Q.default(ie(ie(t,"price"),"current"),null),""),(q=null!=q?q:Q.default(ie(O,"category"),{}),""),(H=Q.default(ie(O,"aid"),null),""),(R=Q.default(R,null),""),(N=Q.default(N,[]),""),!K(O)||K(f)||K(h)?"":ae([(n=Q.default(ie(O,"url"),null),""),(n=null!=(s=ie(n,"path"))?s:n,""),(D={},""),K(n)?ae([K(x)?ae([(D=Q.merge(D,{ref:x}),"")]):"",K(C)?ae([(D=Q.merge(D,{nav_ref:C}),"")]):"",K(M)?ae([(D=Q.merge(D,{provider:M}),"")]):"",K(P)?ae([(D=Q.merge(D,{recid:P}),"")]):"",K(k)?ae([(D=Q.merge(D,{scenario_ID:k}),"")]):"",K(H)?ae([(D=Q.merge(D,{aid:H,oid:ie(t,"id")}),"")]):"",K(R)?ae([(D=Q.merge(D,{aidr:R}),"")]):""]):"",(n={path:K(n)?Q.addQueryParam(n,D):"#not-defined"},""),(o=Q.default(Q.getSize(ie(ie(O,"image"),"resized_images"),j),"#not-defined"),""),(F=null!=F?F:te.in("://",o),""),K(F)?"":ae([(o=ne(ie(z,"static_url"))+ne(o),"")]),(B=Q.default(B,a),""),(R=K(ie(O,"feedback"))?ie(ie(O,"feedback"),"rating"):null,""),(s=K(ie(O,"feedback"))?ie(ie(ie(O,"feedback"),"reviews"),"count"):null,""),(G=Q.default(G,K(R)&&K(s)),""),(Q.default(ie(ie(t,"price"),"initial"),null),""),(E=Q.default(ie(ie(t,"price"),"current"),null),""),(Q.default(ie(ie(t,"price"),"discount"),null),""),(o=ae([ae(K(ie(ie(t,"flags"),"has_bundle_first"))&&!K(ie(ie(ie(t,"bundle_first"),"flags"),"has_display_as_metro"))?["\n            ",(i=ie(ie(t,"bundle_first"),"items"),""),"\n            ",(D=ie(ie(i,0),"image"),""),"\n            ",(F=ie(ie(i,1),"image"),""),'\n\n            <div class="bundle-image" style="background-image:\n                        url(',Z(Q.getSize(ie(D,"resized_images"),j)),"),\n                        url(",Z(Q.getSize(ie(F,"resized_images"),j)),');"></div>\n        ']:K(g)?['\n            <img data-src="',Z(o),'" src="',Z(oe("EMPTY_IMG")),'" alt="',Z(B),'">\n        ']:['\n            <img src="',Z(o),'" alt="',Z(B),'">\n        '])]),""),(s=ae([null!=G&&K(G)?ae([ee("@Components/StarRating/template.html.twig",{size:"sm",text:ne(R)+" ("+ne(s)+") ",rating:R})]):""]),""),(r=ae([ae(K(ie(ie(t,"flags"),"has_bundle_first"))?[Z(ne(ie(ie(t,"bundle_first"),"title_prefix"))+": "),ae(K(ie(ie(ie(t,"bundle_first"),"flags"),"has_display_as_metro"))?[Z(K(ie(ie(t,"bundle_first"),"multiplier"))?ne(ie(ie(t,"bundle_first"),"multiplier"))+" x ":""),"\n                ",Z(a)]:[(i=ie(ie(t,"bundle_first"),"items"),""),(R=ie(ie(i,0),"name"),""),(r=ie(ie(i,1),"name"),""),Z(ne(R)+" + "+ne(r))])]:[Z(a)])]),"")]),'<div class="card-item',Z(K(_)?" card-hero":""),' js-card-item pricing-old_preserve-space"',null==n||K(f)||K(h)?"":ae([' data-name="',Z(Q.escape(a)),'" data-url="',Z(Q.escape(ie(n,"path"))),'" data-product-id="',Z(ie(O,"id")),'" data-offer-id="',Z(ie(t,"id")),'"']),K(H)?ae([' data-aid="',Z(H),'"']):"",">",0==f&&0==h?ae([(U=K(Q.default(U,!1))&&K(ie(ie(t,"flags"),"has_bundle_first"))?Q.default(ie(ie(t,"bundle_first"),"unified_badges"),[]):Q.default(ie(t,"unified_badges"),[]),""),(N=Q.merge(N,["discount"]),""),(U=Q.filter(U,function(e){return te.in(ie(e,"type"),N)}),""),ee("@Components/ProductBadges/template.html.twig",{appData:z,productData:O,unifiedBadges:U,classList:K(oe("IS_MOBILE"))?"product-badge-box-xs":""})]):"",K(f)?"":ae(['<div class="card-toolbox">',K(L)?ae([ee("@Components/AddToFavorites/template.html.twig",{productData:{pnk:ie(O,"part_number_key"),productid:ie(O,"id"),offerid:ie(t,"id"),has_family:Q.default(ie(e,"has_family"),!1),is_family:Q.default(ie(e,"is_family"),!1),options_modal:"families"==Q.default(ie(W,"type"),{}),product_name:a,currency:w,price:E,category_trail:ie(q,"trail"),scm_super_category:Q.default(ie(O,"scm_super_category"),null)},type:"micro",size:"lg",layout:"block",gtm:A,allowFavorites:Q.default(ie(e,"allow_favorites"),!1),ref:x})]):"","</div>"]),(y=ae(['<div class="card-heading">\n            <div class="thumbnail-wrapper ratio-4by3">',K(f)||K(h)?"":ae([ae(K(m)?['<div class="thumbnail">',Z(o),"</div>"]:['<a href="',Z(ne(ie(z,"current_url"))+ne(ie(n,"path"))),'" class="thumbnail" rel="nofollow">',Z(o),"</a>"])]),'</div>\n        </div>\n        <div class="card-body product-title-zone">',ae(K(f)||K(h)?['<div class="product-title">',K(h)?ae(["Виж повече"]):"","</div>"]:[ae(K(m)?['<div class="product-title">',Z(r),"</div>"]:['<a href="',Z(ne(ie(z,"current_url"))+ne(ie(n,"path"))),'" class="product-title',Z(T),'">',Z(r),"</a>"])]),"</div>\n\n        ",(l=ae(['\n            <div class="card-body">',K(p)?ae(['<div class="star-rating-container">',null!=G&&K(G)&&!K(f)&&!K(h)&&K(Q.default(ie(e,"allow_feedback"),!1))?ae([ae(K(m)?[Z(s)]:['<a href="',Z(ne(ie(z,"current_url"))+ne(ie(n,"path"))),'#reviews-section" rel="nofollow">',Z(s),"</a>"])]):"","</div>"]):"",K(X)?ae(['<p class="EOSMKP-67591 product-genius">',K(ie(ie(t,"flags"),"is_genius_eligible"))?ae(['<img src="',Z(ie(t,"url_genius")),'" alt="eMAG Genius">']):"","</p>"]):"","</div>",K(v)?ae(['<div class="card-body">',ae(K(f)||K(h)||null==E||!K(E)?['<p class="product-old-price"></p>\n                        <p class="product-new-price"></p>']:[(l={offer:t,show_deal:!1,has_resealed:V,has_unfair_price:$,multiple_offer_count:Y,used_and_unavailable:J},""),K(ie(ie(t,"flags"),"has_bundle_first"))?ae([(l=Q.merge(l,{offer:ie(t,"bundle_first"),is_bundle:!0}),"")]):"",ee("@Components/Pricing/template.html.twig",l)]),"</div>"]):""]),""),"\n\n        ",(y=ae([K(d)?ae(['<div class="card-footer">',ae(K(f)||K(h)||K(m)||K(c)?K(c)?['<span class="btn btn-primary btn-emag btn-sm"><i class="em em-forward"></i> ',Z("виж повече"),"</span>"]:['<div class="btn btn-sm invisible"><div class="pad-sep-xs"></div></div>']:['<form data-id="',Z(ie(t,"id")),'" action="',Z(ie(z,"old_site_endpoint")),"/newaddtocart?source=front",Z(null!=x?"&ref="+ne(x):""),Z(K(P)?"&recid="+ne(P):""),'" method="post"',null!=x?ae([' data-ref="',Z(x),'"']):"",'>\n                            <input type="hidden" name="product[]" value="',Z(ie(t,"id")),'">\n                            <button type="submit" class="btn',Z(K(y)?" btn-primary btn-emag":" btn-default")," btn-sm btn-block ",Z(K(u)&&"fashion"==ie(t,"display_type")&&K(ie(O,"family"))&&6506==S?"js-btn-size-tooltip":b),Z(I),'" data-product="',Z(ie(t,"id")),'" >',K(y)?ae(['<i class="em em-cart_fill"></i>']):"","Добави в количката",'\n                            </button>\n                        </form>\n                        <span class="hidden disabled text-center strong btn-sm btn-block card-bought-placeholder">',"Добавено в количката","</span>"]),"</div>"]):""]),""),"\n\n        ",ae(K(_)?['\n            <div class="card-hero-body">\n                <div class="card-hero-review-price">\n                    ',l,"\n                </div>\n                ",y,"\n            </div>\n        "]:["\n            ",l,"\n            ",y,"\n        "])]),""),ae(K(m)||K(h)?['<a href="',Z(ne(ie(z,"current_url"))+ne(ie(n,"path"))),'" class="card ',K(h)?ae(["card-view-more"]):"",'">',Z(y),"</a>"]:['<div class="card ',K(f)&&!K(h)?ae(["card-shimmer"]):"",'">',Z(y),"</div>"]),"</div>"])}})}),e("@PhotonBundle/common/components/_card-banner.html.twig",function(){return a.t({$main:function(e){var t,a=e.text,n=e.src,e=e.url;return ae([(a=Q.default(a,""),""),(n=Q.default(n,""),""),(e=Q.default(e,""),""),K(n)?ae([(t=ae(['<img class="w-100" alt="" src="',Z(n),'" />']),"")]):K(a)?ae([(t=ae(['<span class="semibold font-size-sm">',Z(a),' <i class="em em-forward font-size-xs"></i></span>']),"")]):"",K(Q.default(t,null))?ae(['\n\t<div class="card-item card-item-banner-holder">\n\t    <div class="card-item card-item-banner-container">',ae(K(e)?['<a class="card card-item-banner-content" href="',Z(e),'">',Z(t),"</a>"]:['<div class="card card-item-banner-content">',Z(t),"</div>"]),"</div>\n\t</div>\n"]):"","\n"])}})}),e("@Components/Countdown/template.html.twig",function(){var l=a.t({$main:function(e){var t=e.endTime,a=e.size,n=e.style,i=e.showDays,o=e.hideLabels,s=e.manualInit,r=e.endRefresh;return ae([(e=l,""),(t=Q.default(t,0),""),(a=Q.default(a,null),""),(n=Q.default(n,null),""),(i=Q.default(i,!1),""),(o=Q.default(o,!1),""),(s=Q.default(s,!1),""),(r=Q.default(r,!1),""),'<div class="flip-countdown',K(a)?ae([" countdown-",Z(a)]):"",K(n)?ae([" countdown-",Z(n)]):"",'"',' data-countdown="',Z(t),'"',K(s)?ae([" data-countdown-manual"]):"",K(r)?ae([" data-countdown-refresh"]):"",">",K(i)?ae([Z(ie(e,"countdown_block")(K(o)?null:"дни")),'<div class="flip-divider"></div>']):"",Z(ie(e,"countdown_block")(K(o)?null:"часа")),'<div class="flip-divider"></div>',Z(ie(e,"countdown_block")(K(o)?null:"минути")),'<div class="flip-divider"></div>',Z(ie(e,"countdown_block")(K(o)?null:"секунди")),"</div>"])}});return l.countdown_block=function(e){return ae(['<div class="flip-block">','<div class="flip-count"></div>','<div class="flip-count"></div>',K(e)?ae(['<span class="flip-label">',Z(e),"</span>"]):"","</div>"])},l}),e("@PhotonBundle/common/components/_template-slots.html.twig",function(){return a.t({$main:function(e){var t,a,n,i,o,s,r,l,d,c,u,p=e.pageType,m=e.recommendation,f=e.sourceProductId,h=e.slotPosition,v=e.widgetType,g=e.unavailableSlot,_=e.allCardsVisible,y=e.extraClass,b=e.viewOfferGtm,w=e.homepageGtm,P=e.gtmFavorites,E=e.dataPhino,M=e.isFavPage,k=e.ref_banner_position,x=e.recommendation_counter,C=e.isLivePurchases,D=e.hasShowDetailsBtn,H=e.showGenius,S=e.thumbnailSize,L=e.refPos,j=e.app;return ae(["\n\n",(p=Q.default(p,null),""),"\n",(m=Q.default(m,null),""),"\n",(f=Q.default(f,null),""),"\n",(h=Q.default(h,1),""),"\n",(v=Q.default(v,null),""),"\n",(g=Q.default(g,!1),""),"\n",(_=Q.default(_,!1),""),"\n",(t=Q.default(ie(m,"product_collection"),[]),""),"\n",(y=null!=y?" "+ne(y):"",""),"\n",(a=7==h&&"product"==p,""),"\n\n","\n",(n="CAMPAIGN"==ie(m,"scenario_name"),""),"\n",(i="campaign_categories"==v,""),"\n",(o=K(n)||K(i)?ie(m,"campaign_name"):ie(m,"scenario_name"),""),"\n",(s=Q.default(ie(m,"background"),[]),""),"\n",(r=Q.default(ie(m,"stop_date"),null),""),"\n\n",(b=Q.default(b,"prod_page_see_details"),""),"\n",(w=Q.default(w,null),""),"\n",(P=Q.default(P,null),""),"\n\n",(l=Q.default(ie(m,"is_ads"),!1),""),"\n\n",(E=null!=E?E:"Carousel",""),"\n",(d=K(_)?t:Q.slice(t,0,6),""),"\n",(M=Q.default(M,!1),""),"\n\n",(c=Q.default(k,null),""),"\n",(k=Q.default(x,null),""),"\n",(C=Q.default(C,!1),""),"\n",(D=Q.default(D,!1),""),"\n\n",(H=Q.default(H,!1),""),"\n\n",(x=0==Q.length(Q.filter(d,function(e){return"fashion"!=ie(ie(e,"category"),"display_type")})),""),(S=Q.default(S,K(x)?"300x300":"150x150"),""),(x=ae(['<div class="',Z(K(E)?"":"carousel-loading")," slot-carousel js-slot-carousel-position-",Z(h)," product-carousel js-recommendation-carousel js-widget-not-loaded ph-carousel-init ph-has-dots ph-carousel",Z(K(s)?" ph-white-dots":""),Z(K(g)?" product-carousel-4-items":"")," ",Z(K(x)?"fashion-carousel":"")," ",Z(y),'" data-tracking-alias="',Z(ie(m,"tracking_alias")),'" data-ph-handle-resize="true" data-ph-snap="true" data-ph-disable-on-mobile="true" ',K(E)?ae(['data-phino="',Z(E),'"']):"",' data-slot-name="',Z(ie(m,"scenario_type")),'" data-ph-lazy-load-imgs="true" data-position="',Z(h),'" data-campaign="',Z(!!K(n)),'" data-recommendation-id="',Z(ie(m,"recommendation_id")),'" data-tracking-engine="',Z(ie(m,"provider")),'" data-source-product-id="',Z(f),'" data-scenario-id="',Z(ie(m,"recommendation_scenario_id")),'"',K(M)?ae([' data-ph-dots="false"']):"",K(C)?ae([' data-live-purchases data-ref-banner-position="',Z(L),'"']):"",' data-scenario-index="',Z(h),'"',K(l)?ae([' data-ads="true"']):"","products_by_zone"==v?ae([' data-zone="',Z(ie(m,"zone")),'" data-identifier="',Z(ie(m,"identifier")),'"']):"",K(v)?ae([' data-widget-type="',Z(v),'"']):"",K(i)?ae([' data-scenario-name="',Z(ie(m,"scenario_name")),'"']):"",">\n        ",(x=ae([K(i)?ae([(u=ae([ee("@PhotonBundle/common/components/_card-banner.html.twig",I({},e,{pageType:p,recommendation:m,sourceProductId:f,slotPosition:h,widgetType:v,unavailableSlot:g,allCardsVisible:_,productCollection:t,extraClass:y,isUnavailableProd:a,isCampaign:n,isCampaignCat:i,outputName:o,backgroundColor:s,stopDate:r,viewOfferGtm:b,homepageGtm:w,gtmFavorites:P,isAds:l,dataPhino:E,collection:d,isFavPage:M,refPosition:c,recCounter:k,isLivePurchases:C,hasShowDetailsBtn:D,showGenius:H,fashionCarousel:x,thumbnailSize:S},{image:Q.default(ie(ie(m,"left_side_image"),"original"),""),url:ne(ie(m,"campaign_url"))+"?ref=campaign_categories_"+ne(h)+"_1#"+ne(ie(m,"recommendation_id"))}))]),""),Q.trim(u)]):"",A(d,function(e,t){var a;return e?ae([a="",K(w)?ae([(a=ne(w)+"_1_"+ne(ie(e,"index")),"")]):K(ie(m,"refresh_periodically"))?ae([(a="product_widget_carousel_text_"+ne(h)+"_"+ne(ie(e,"index")),"")]):K(ie(m,"tracking_alias"))?ae([(a=ne(ie(m,"tracking_alias"))+"_"+ne(h)+"_"+ne(ie(e,"index")),"")]):"",(u=ae([ee("@PhotonBundle/common/components/_card.html.twig",{showGenius:H,lazyImg:!1,appData:j,productData:t,isClickable:!K(ie(m,"is_buyable")),hasShowDetailsBtn:Q.default(D,!1),hasActionButtons:!0,slotPosition:h,isBuyable:ie(m,"is_buyable"),isAccessory:ie(m,"is_accessory"),recommendationId:"flash_deals"==ie(m,"recommendation_id")?"":ie(m,"recommendation_id"),provider:ie(m,"provider"),scenarioId:ie(m,"recommendation_scenario_id"),ref:a,aidr:K(ie(t,"aid"))?ie(ie(d,ie(e,"index")),"aid"):"",gtmFavorites:P,isCarouselItem:!0,thumbnailSize:S})]),""),Q.trim(u)]):""})]),""),"\n        ",ae(K(_)?[Z(x)]:['\n            <div class="ph-scroller">\n                <div class="ph-body">',Z(x),"</div>\n            </div>\n        "]),"\n    </div>"]),""),K(Q.length(t))?ae([ae(K(M)?['<div class="recommendations-widget pad-top-xs">\n            <p class="recommendations-widget-title">',Z("Виж сходни продукти:"),"</p>\n            ",Z(x),"\n        </div>"]:['<section class="page-section slots-section',Z(K(a)?" slot7-unavailable-products":""),'"',K(s)?ae([' style="background: rgb(',Z(ie(s,"r")),", ",Z(ie(s,"g")),", ",Z(ie(s,"b")),')"']):"",'>\n            <a id="',Z(ie(m,"tracking_alias")),'" class="scroll-anchor"></a>\n            <div class="container">',ae(K(n)?['<div class="row table-layout block-sm-layout mrg-sep-xs">',ae(K(ie(m,"central_header_image"))?['<div class="table-cell col-xs-12 col-sm-2"></div>\n                            <div class="table-cell col-xs-12 col-sm-8">\n                                <picture>\n                                    <source media="(max-width: 767px)" srcset="',Z(ie(ie(m,"central_header_mobile_image"),"original")),'">\n                                    <source media="(min-width: 768px)" srcset="',Z(ie(ie(m,"central_header_image"),"original")),'">\n                                    <img src="',Z(ie(ie(m,"central_header_image"),"original")),'" class="page-section-image" alt="">\n                                </picture>\n                            </div>']:['<div class="table-cell col-xs-7">\n                                <h2 class="page-section-title text-light"><span class="js-section-title">',Z(te.in(v,["category_products","products_by_zone"])?ie(m,"title"):o),"</span></h2>\n                            </div>"]),'<div class="table-cell ',Z(K(ie(m,"central_header_image"))?"col-xs-12":"col-xs-5"),' col-sm-2 text-right">',K(Q.default(ie(m,"show_counter"),!1))?ae(['<div class="countdown-timer text-light inline-block mrg-top-xs">\n                                    ',ee("@Components/Countdown/template.html.twig",{size:"sm",endTime:r,style:"white"}),"\n                                </div>"]):"",K(Q.default(ie(m,"campaign_url"),null))?ae(['<a href="',Z(ie(m,"campaign_url")),"?ref=",Z(b),'" class="btn btn-sm mrg-top-xs hidden-xs">',Z("виж тук"),"</a>"]):"","</div>\n                    </div>\n                    ",K(ie(m,"sections"))?ae(['\n                        <div class="navbar-cmp-sections">\n                            <ul data-ph-dots="false" data-ph-arrows="false" data-ph-disable-on-mobile="true" data-ph-handle-resize="true" data-phino="Carousel">\n                                ',A(ie(m,"sections"),function(e,t){return e?ae(['\n                                    <li>\n                                        <a href="',Z(ie(t,"url")),'?ref=hp_prod-widget_flash_deals_sections" class="cmp-link"><span>',Z(ie(t,"title")),"</span></a>\n                                    </li>\n                                "]):""}),"\n                            </ul>\n                        </div>\n                    "]):""]:[K(a)?ae(['<span class="label label-unavailable">',Z("не се предлага"),"</span>"]):"",'<div class="title-container">\n                        <h2 class="page-section-title clearfix flex-item">\n                            <span class="js-section-title">',ae(K(a)?['<span class="semibold">Продуктът е изчерпан </span> <span>Вижте подобни продукти: </span>']:[Z(te.in(v,["category_products","products_by_zone"])?ie(m,"title"):o)]),"</span>\n                        </h2>",K(ie(m,"refresh_periodically"))?ae(['<div class="live-timer pull-right font-size-base input-sm mrg-top-xs">\n                                ',Z("актуализира се на 30 секунди"),'\n                                <svg viewbox="0 0 20 20">\n                                    <circle cx="10" cy="10" r="4" />\n                                    <rect x="7" y="7" width="6" height="6" />\n                                    <path class="percent" />\n                                </svg>\n                                <span>Live</span>\n                            </div>']):"","</div>"]),ae(K(Q.default(ie(m,"EOSMKP_75423_abtest_accessories"),!1))?['<div class="products-by-category">\n                        <div class="pbs-categories hidden-xs">\n                            <div class="pbs-categories-bg"><div class="pbs-categories-wrap">',1<Q.length(ie(m,"products_by_category"))?ae(['<a class="pbs-category js-pbs-category active" data-category-id="*">',Z(Q.trans("Recomandările noastre")),"</a>"]):"",A(T(ie(m,"sorted_categories"),0,6),function(e,t){return e?ae([(e=ie(ie(m,"products_by_category"),t),""),'<a class="pbs-category js-pbs-category" data-category-id="',Z(t),'">',Z(ie(e,"name")),"</a>"]):""}),1<Q.length(ie(m,"products_by_category"))?ae(['<a class="pbs-category js-pbs-category">',Z("виж всички"),"</a>"]):"",'</div></div>\n                        </div>\n                        <div class="pbs-products">',Z(x),'</div>\n                    </div>\n                    <button class="btn btn-default btn-block mrg-btm-sm hidden-sm hidden-md hidden-lg js-pbs-category">',Z("виж всички"),"</button>"]:[Z(x)]),K(Q.default(ie(m,"campaign_url"),null))&&!K(i)?ae(['<a href="',Z(ie(m,"campaign_url")),"?ref=",Z(b),'" class="page-section-view-more btn btn-sm visible-xs mrg-btm-xs mrg-hrz-auto">',Z("виж тук"),"</a>"]):"","</div>\n        </section>"])]):"","\n"])}})})}(EM.TMPL);var _this24=this;function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(a="Object"===a&&e.constructor?e.constructor.name:a)||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function ownKeys(t,e){var a,n=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)),n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(a),!0).forEach(function(e){_defineProperty(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(a){var n=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(a);return _possibleConstructorReturn(this,n?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}!function(){"use strict";var e=function(){function a(e,t){_classCallCheck(this,a),this.whereElement=PH.q(e),this.overlayElement=function(){return PH.q(".js-screen-orientation-notifier-overlay")},this.descriptionText=t.descriptionText,this.breakpointWidth=this.breakpointConverter(t.viewportBreakpoints.width),this.breakpointHeight=this.breakpointConverter(t.viewportBreakpoints.height),this.overlayOrientation=t.overlayOrientation,this.overlayStatus={status:!1,get isVisible(){return this.status},set isVisible(e){this.status=e}},this.toggleOverlayCallback=t.toggleOverlayCallback,this.renderHtml(),this.init()}return _createClass(a,[{key:"breakpointConverter",value:function(e){return"string"==typeof e?PH.globals.viewportBreakpoints[e]:e}},{key:"renderHtml",value:function(){var e=PH.node(EM.TMPL.exec("@Components/ScreenOrientationNotifier/template.html.twig",{description_text:this.descriptionText}));PH.prependChild(this.whereElement,e)}},{key:"toggleOverlay",value:function(e,t){e!==this.overlayStatus.isVisible&&(this.overlayStatus.isVisible=!this.overlayStatus.isVisible,window.scrollTo(0,0),PH.toggleClass(this.overlayElement(),"hide"),this.toggleOverlayCallback&&t&&this.toggleOverlayCallback())}},{key:"checkOverlayStatus",value:function(){var e=window.screen.availWidth,t=window.screen.availHeight,a=this.breakpointWidth,n=this.breakpointHeight,i=this.overlayOrientation,o=null;"landscape"===i?o=t<e:"portrait"===i&&(o=e<t),this.toggleOverlay(e<a&&t<n&&o,0<arguments.length&&void 0!==arguments[0]&&arguments[0])}},{key:"init",value:function(){var t=this;this.checkOverlayStatus(),PH.on(window,"resize",function(e){return t.checkOverlayStatus(e)})}}]),a}();EM.ScreenOrientationNotifier=e}(),function(o,s){var p,i,m,r,e,l,d;function c(t,n,i,e,o){e&&PH.hasClass(s.body,"EOSMKP-82339-active")?sapi.getReviews({sef_name:EM.sef_name,pnk:EM.pnk},{filters:{has_picture:1},page:{offset:0,limit:10},sort:{created:"desc"},display_mode:"pictures"}).then(function(e){var e=(e=e.code&&e.data?e.data:e).reviews||e.user_reviews||e,a=[];e.items&&(e.items=e.items.sort(function(e,t){return t.rating-e.rating}),e.items.forEach(function(t){t.pictures&&t.pictures.forEach(function(e){a.push({type:"image",full:e.original,thumb:EM.getSize(e.resized_images,"100x100"),review:{user:t.user.name,rating:t.rating}})})})),0==a.length&&(a=null),u(t,n,i,a),o()}):(u(t,n,i),o())}function u(e,r,l,t){var a=e.hasClass("js-review-gallery"),n=[],i={};function d(e){"image"==e.type&&i[e.full]||(i[e.full]=!0,n.push(e))}function c(e){e.forEach(function(e){d({type:"video",full:e.thumbs.original,thumb:e.thumbs.resized_images[0].url,video:e})})}function u(e){d({type:"image360",full:e,path:e})}o.EM_PRODUCT_VIDEOS&&c(o.EM_PRODUCT_VIDEOS),o.EM_PRODUCT_IMG360&&u(o.EM_PRODUCT_IMG360),e.getCards().forEach(function(e,t){var a=e.getAttribute("data-ph-id");r&&!t&&PH.addClass(e,"active");var n,i,o,s=PH.q("a",e);s&&("bundle"==a?(n=s.getAttribute("href"),o=s.getAttribute("data-ph-second-image"),i=[],t=PH.q("div",s),(PH.getComputedStyle(t).backgroundImage+"").replace(/url\((['"]?)(.*?)\1\)/g,function(e,t,a){i.push(a)}),d({type:"image",full:n,thumb:i[0]}),d({type:"image",full:o,thumb:i[1]})):"video"==a?(o=s.getAttribute("data-videos"))?c(JSON.parse(o)):d({type:"video",full:s.getAttribute("href"),thumb:PH.q("img",s).src,hideQuality:!0,video:{mp4:{high:{url:s.getAttribute("href")}}}}):"image360"==a?u(s.getAttribute("href")):d({type:"image",full:s.getAttribute("href"),thumb:l?s.getAttribute("data-thumb"):PH.q("img",e).src}))}),m=new EM.Gallery({from:PH.q(".modal-body",p.element()),items:n,isReview:a,userImages:t}),setTimeout(function(){m.focus()},200)}function t(t,e){var a,n;PH.stopEvent(t),(a=e?d:a)||(e&&(n=!0),a=(a=(a=PH.closest(t.target,'[data-phino="Carousel"]'))||PH.q("#product-gallery")).PH_Widget),i=e?"product-gallery":"image-gallery",r(),EM.loadComponent("GalleryCommon").then(function(){c(a,!1,n,e,function(){var e=PH.closest(t.target,"a").getAttribute("href");"#"!=e&&m.setActive(e),PH.trigger(EM.dispatcher,"OpenProductGalleryModal"),n?(PH.addClass(PH.qs(".multimedia-gallery a.thumbnail",m.element()),"gtm_rp130718"),PH.addClass(PH.q(".image-viewer-display",m.element()),"gtm_rp130618")):(PH.addClass(PH.q(".ph-prev-thumbnail",m.element()),"gtm_rp130118"),PH.addClass(PH.q(".ph-next-thumbnail",m.element()),"gtm_rp130218"),PH.addClass(PH.qs(".multimedia-gallery a.thumbnail",m.element()),"gtm_rp130318"))})}),PH.trigger(EM.dispatcher,"OpeningProductGalleryModal")}function f(a,n,i){a.getCards().forEach(function(e){var t=e.getAttribute("data-ph-id")==n;i&&PH.toggleClass(e,"active",t),t&&a.bringCardInView(e)});var e=/image-(\d+)/.exec(n);PH.trigger(EM.dispatcher,"PHProductGallerySmallCarouselChange",{index:e?e[1]:"errorGettingIndex"})}EM.productGallery||(i="product-gallery",PH.live(s,"click",".preview-pages",function(e,t){e.preventDefault();e=PH.getData(t,"source");!function(e,t){t=EM.TMPL.exec("@Components/GalleryProduct/templates/template_modal-preview_book.html.twig",{title:e,source:t}),t=new PH.Modal({content:t,showHeader:!1,size:"modal-lg"});t.on("close",t.destroy),t.open()}(PH.getData(t,"title"),e)}),r=function(e){e&&e.preventDefault(),(p=new PH.Modal({className:"product-gallery-modal",content:EM.TMPL.exec("@Components/GalleryProduct/templates/modal.html.twig",{}),showHeader:!1,size:"modal-xl",fullscreen:!0,hash:i})).on("close",function(){m&&m.empty(),p.destroy()}),p.open()},(e=PH.q(".product-gallery-wrapper"))&&PH.live(e,"click",".product-gallery-image",function(e){t(e,!0)}),PH.live(s,"click",".multimedia-gallery a.thumbnail",function(e){t(e,!1)}),PH.live(s,"click",".product-video-link",function(e){return t(e,!0)}),PH.live(s,"click",".customer-images-link",function(e){PH.on(EM.dispatcher,"OpenProductGalleryModal",function e(){m._setActiveSource("customer"),PH.off(EM.dispatcher,"OpenProductGalleryModal",e)}),t(e,!0)}),EM.productGallery={initBigCarousel:function(e){function t(e){var t,a;!e||(t=PH.q(".preloader",e))&&((a=s.createElement("img")).src=t.getAttribute("data-src"),a.alt=t.getAttribute("data-alt"),a.referrerpolicy="unsafe-url",(e=t.parentNode).removeChild(t),e.appendChild(a))}(l=e).on("move",PH.throttle(function(e){e=this._getCurrentCard(e).card;t(e),t(e.nextElementSibling),t(e.previousElementSibling),d&&f(d,e.getAttribute("data-ph-id"),!0)},100,{leading:!0,trailing:!0})),EM.mobile&&0<=(o.location+"").indexOf("#"+i)&&0<e.getCards().length&&(r(),EM.loadComponent("GalleryCommon").then(function(){c(e,!1,!0,!0,function(){return m.setActive(m._items[0].full)})}))},initSmallCarousel:function(e){var t,a,n=(d=e).element();EM.is_fashion&&(t=PH.q(".multimedia-gallery .ph-scroller .ph-body"),PH.q('[data-ph-id="video"]',t)&&!EM.mobile&&(a=PH.qs("div",t),t.insertBefore(a[0],a[3]))),PH.live(n,"mouseover",".ph-card",function(e,t){var a=PH.q(".ph-card.active",n);a&&PH.removeClass(a,"active"),PH.addClass(t,"active"),f(l,t.getAttribute("data-ph-id"))}),PH.addClass(PH.q(".ph-left-margin",n),"gtm_rp125718"),PH.addClass(PH.q(".ph-right-margin",n),"gtm_rp125818"),0<=(o.location+"").indexOf("#"+i)&&0<e.getCards().length&&(r(),EM.loadComponent("GalleryCommon").then(function(){c(e,!0,!1,!0,function(){return m.setActive(m._items[0].full)})})),l.trigger("move"),PH.trigger(EM.dispatcher,"initSmallCarouselProductGallery")},selectSecondImage:function(){1<l._cards.length&&l._gotoCard(l._cards[1],null,"0")}},PH.pageLoad(function(){PH.trigger(o,"resize")}))}(window,document),function(c,u){function p(){c.qs("[data-other-offers-gifts]").forEach(function(a){c.qs("div.list-group-item",a).length&&(c.live(a,"click",".product-page-gift-option",function(e,t){t=c.getData(t,"gift"),t=c.q("#".concat(t),a);t&&(t.checked=!0)}),c.Widget.autoInit(a))})}u.PanelOffers=function(){"use strict";function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"renderOfferInModal",value:function(e,t){var a,n;e&&(a=c.closest(e,".panel"),n=c.q(".panel-title",a),a=document.createElement("div"),c.addClass(a,"modal-body panel-offers-container"),a.appendChild(e.cloneNode(!0)),c.qs(".panel-body.panel-hidden",a).forEach(function(e){e.classList.remove("panel-hidden")}),(n=new c.Modal({content:a,showHeader:!0,className:"other-offers-modal",title:t?t.innerText:n?n.innerText:"",size:"modal-xl",fullscreen:!0})).on("close",n.destroy.bind(n)),n.open(),c.LazyImg(n.element()))}}]),e}(),c.qs("[data-async-template]").forEach(function(o){var s,r=!1,l=c.getData(o,"asyncTemplate"),d={appData:u.APP,offersData:[],locale:u.locale,formAction:c.getData(o,"formAction"),productImage:JSON.parse(c.getData(o,"productImage")),productName:c.getData(o,"productName"),gtmPrice:c.getData(o,"gtmPrice"),gtmDetails:c.getData(o,"gtmDetails"),gtmActionButton:c.getData(o,"gtmActionButton"),count:c.getData(o,"count"),anchorId:c.getData(o,"anchorId"),moduleStatus:u.siteModules,showGeniusBadge:c.getData(o,"geniusBadge"),categoryId:u.category_id};c.closest(o,"#other-offers-list")&&(r=!0,dataLayer.push({ea:"Display See More",ec:"Product Page Buttons",el:void 0,event:"gaEvent"}),!u.offer.flags.has_bundle_first&&u.has_unfair_price&&d.offersData.push(u.offer)),c.live(o,"click",".js-load-more",function(e,t){e.preventDefault();var a,n=c.closest(o,".panel-offers-container"),i=c.q(".list-placeholder",o);(s||d.offersData.length>=d.count)&&u.mobile?u.PanelOffers.renderOfferInModal(i,c.q("h3",n)):(a={limit:d.offersData.length?5:6,offset:d.offersData.length},r&&u.has_unfair_price&&a.offset--,e={page:a},u.mobile&&(e.page.limit=d.count),a=u.UserLocation.getLocation(),u.siteModules.Delivery_costs_in_Product_page&&u.siteModules.Delivery_costs_in_Other_Offers_Panel&&a&&a.locality&&a.locality.id&&(e.fields={shippingCost:1},e.locality=a.locality.id),s=sapi.getMultipleOffers({form:t,pnk:u.pnk},e).then(function(e){s=null,e.data&&e.data.items&&(d.offersData=d.offersData.concat(e.data.items),i.innerHTML=u.TMPL.exec(l,d),c.trigger(u.dispatcher,"panel-offers-rendered"),u.mobile?u.PanelOffers.renderOfferInModal(i,c.q("h3",n)):d.offersData.length>=d.count&&c.addClass(t,"hidden"),c.LazyImg(o),p(),c.Widget.autoInit(c.closest(o,"#other-offers-list")))}).fail(function(e){s=null,u.showFailNotification()}))})}),p(),u.updateMultipleOffersShipping=function(){var e,t;u.has_multiple_offers&&"function"==typeof sapi.getMultipleOffers&&u.siteModules.Delivery_costs_in_Product_page&&u.siteModules.Delivery_costs_in_Other_Offers_Panel&&((e=u.UserLocation.getLocation())&&e.locality&&e.locality.id&&(t=c.qs(".js-panel-offers-container .js-po-offer").map(function(e){return parseInt(c.getData(e,"offerId"),10)}),t={fields:{flags:0,warranties:0,shippingCost:1},locality:e.locality.id,page:{limit:t.length,offset:0}},sapi.getMultipleOffers({pnk:u.pnk},t).then(function(e){e.data&&e.data.items&&e.data.items.forEach(function(a){a.vendor&&a.vendor.id&&c.qs('.js-po-offer[data-vendor-id="'+a.vendor.id+'"] .js-po-shipping-cost-container').forEach(function(e){var t=c.q(".js-po-shipping-cost-value",e);if(void 0===a.shippingCost)return c.addClass(e,"hidden"),void(t.innerHTML="");c.removeClass(e,"hidden"),a.shippingCost?(t.innerHTML=u.moneyFormat(a.shippingCost),c.removeClass(t,"text-success")):(t.innerHTML=u.trans("Free"),c.addClass(t,"text-success"))})})})))},u.dispatcher.addEventListener("PHSetUserLocation",function(){u.updateMultipleOffersShipping()}),c.domReady(function(){u.updateMultipleOffersShipping()})}(PH,EM),PH.StarRating=function(e){"use strict";function i(e,t){this.el=PH.element(e),"function"!=typeof(t=t||{}).onSelect&&(t.onSelect=PH.noop),"function"!=typeof t.onRatingChange&&(t.onRatingChange=PH.noop),this.options=t,this.currentlyActive=PH.q(".active",this.el),this.rating=0,this.updateRating(),this.saveRating(),this.addListeners()}return i.prototype={constructor:i,addListeners:function(){var t=this;function a(e){t.currentlyActive&&t.currentlyActive.classList.remove("active"),t.options.onRatingChange(PH.getData(e.target,"rating"))}function n(){t.currentlyActive&&t.currentlyActive.classList.add("active"),t.options.onRatingChange(t.rating)}PH.qs("[data-rating]",this.el).forEach(function(e){e.addEventListener("mouseenter",a),e.addEventListener("mouseleave",n)}),this.el.addEventListener("click",function(e){e.target.classList.contains("em")&&t.makeActive(e.target)})},makeActive:function(e){this.currentlyActive&&this.currentlyActive.classList.remove("active"),e.classList.add("active"),this.currentlyActive=e,this.updateRating(),this.saveRating(),this.options.onSelect(this.rating)},updateRating:function(){this.currentlyActive&&(this.rating=PH.getData(this.currentlyActive,"rating"))},setRating:function(t){var e=PH.qs("[data-rating]",this.el),a=this;e.forEach(function(e){PH.getData(e,"rating")===t&&a.makeActive(e)}),this.rating=t,this.saveRating()},saveRating:function(){PH.q("input",this.el).value=this.rating},onSelect:function(e){"function"==typeof e&&(this.options.onSelect=e)}},(i.init=function(e){for(var t=PH.qq(".star-rating.star-rating-input",e),a=0,n=t.length;a<n;a++)new i(t[a])})(e),i}(document,PH.whichChild),function(){"use strict";var e=function(){function a(e,t){_classCallCheck(this,a),e&&(this.options=PH.merge({updateInterval:70,minActivePeople:5,requestURL:"".concat(EM.sapi_endpoint,"/sale-stats/users-active"),identificator:e.getAttribute("data-identificator")||"url-".concat(window.location.pathname)},t),this.container=e,this.elements=PH.qs(".js-active-people-count"),this.postponedRequest=!1,this.isTracked=!1,this.windowStatus={status:!0,get isActive(){return this.status},set isActive(e){this.status=e}},this.initEvents(),this.fetchActiveUsers(),this.startRequestInterval())}return _createClass(a,[{key:"initEvents",value:function(){var e=this;window.addEventListener("focus",function(){e.windowStatus.isActive=!0,e.postponedRequest&&(e.fetchActiveUsers(),e.startRequestInterval())}),window.addEventListener("blur",function(){return e.windowStatus.isActive=!1})}},{key:"fetchActiveUsers",value:function(){var t=this,e=Date.now(),a=new XMLHttpRequest;a.onreadystatechange=function(){var e;4==a.readyState&&(200==a.status?(e=JSON.parse(a.responseText).data.user_count)>=t.options.minActivePeople&&t.toggle(!0,e):t.toggle(!1))},a.open("GET","".concat(this.options.requestURL,"?source_id=7&identificator=").concat(this.options.identificator,"&t=").concat(e),!0),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.send()}},{key:"toggle",value:function(e,t){PH.condClass(this.container,!e,"hide"),!this.isTracked&&e&&window.dataLayer&&(this.isTracked=!0,dataLayer.push({event:"gaEvent",ec:"Real time users counter",ea:"Active on page"})),this.elements.forEach(function(e){return e.innerHTML=parseInt(t).toLocaleString()})}},{key:"startRequestInterval",value:function(){var e=this;clearInterval(this.requestInterval),this.requestInterval=setInterval(function(){return e.windowStatus.isActive?(e.postponedRequest=!1,void e.fetchActiveUsers()):void(e.postponedRequest=!0)},1e3*this.options.updateInterval)}}]),a}();"object"===_typeof(window.EM)&&(window.EM.ActivePeople=e),new e(document.querySelector("#active-people"))}(),function(i,a){var n,e;EM.siteModules.show_compare_box&&(n={MAX_PRODUCTS:4,STORAGE_NAME:"compare",CLASS_ACTIVE:"comparison-active",CHECKBOX_SELECTOR:".compare-checkbox",change:i.noop},(e=function(){"use strict";function t(e){_classCallCheck(this,t),this.o=i.merge({},n,e),this.clean(),this.categoryId=this.o.categoryId,this.forcedCategory=!!this.o.categoryId,this.useButtons=!!this.o.useButtons;e=i.element(this.o.el);if(!e)return!1;this.el=this.renderContainer(e).firstElementChild,this.compareLink=i.q("#compare-link",this.el),this.placeholder=i.q(".product-comparison-list",this.el);e=this.useButtons?"click":"change";i.live(a.body,e,this.o.CHECKBOX_SELECTOR,this.toggleCompareCheckbox,this),i.live(this.el,"click",".remove-item",this.removeItem,this),i.live(this.compareLink,"click","",this.checkForMinimum,this),this.render(),this.syncCheckboxes()}return _createClass(t,[{key:"clean",value:function(){try{if(!localStorage.getItem("compareC")){var e,t,a=JSON.parse(localStorage.getItem(this.o.STORAGE_NAME));for(e in a)if(a.hasOwnProperty(e))for(var n in a[e])a[e].hasOwnProperty(n)&&(t=/akamaized.net(.*)/.exec(a[e][n]),a[e][n]=t?EM.static_url+t[1]:a[e][n]);localStorage.setItem(this.o.STORAGE_NAME,JSON.stringify(a)),localStorage.setItem("compareC","1")}}catch(e){console.log(e)}}},{key:"getProductList",value:function(){var e={};try{e=JSON.parse(localStorage.getItem(this.o.STORAGE_NAME))||{}}catch(e){}if(!this.categoryId)for(var t in e){this.categoryId=t;break}return e[this.categoryId]=e[this.categoryId]||{},e}},{key:"getCollection",value:function(){return this.getProductList()[this.categoryId]}},{key:"buildUrl",value:function(e){return"/compare/".concat(Object.keys(e).join(","),"/")}},{key:"renderContainer",value:function(e){var t=EM.TMPL.exec("@Components/Compare/templates/compare-container.html.twig",{});return e.innerHTML=t,e}},{key:"render",value:function(){var e,t="",a=0,n=this.getCollection();for(e in n){if(a>this.o.MAX_PRODUCTS)break;t+=EM.TMPL.exec("@Components/Compare/templates/compare-item.html.twig",{item:{img:n[e],id:e}}),a++}for(var i=a;i<this.o.MAX_PRODUCTS;i++)t+=EM.TMPL.exec("@Components/Compare/templates/compare-item.html.twig",{item:{}});this.placeholder.innerHTML=t;var o=Object.keys(n).length;return this.el.classList[o?"add":"remove"](this.o.CLASS_ACTIVE),this.compareLink.href=this.buildUrl(n),this.placeholder}},{key:"syncCheckboxes",value:function(){var a,n;this.categoryId&&(a=this.getCollection(),n=Object.keys(a).length,i.qs(this.o.CHECKBOX_SELECTOR).forEach(function(e){var t=i.getData(e,"category");e.disabled=n&&t&&t!=this.categoryId,n&&a[i.getData(e,"id")]?this.doCheck(e):this.doUncheck(e)}.bind(this)),this.forcedCategory||0!==n||(this.categoryId=null))}},{key:"save",value:function(e){for(var t in e)Object.keys(e[t]).length||delete e[t];localStorage.setItem(this.o.STORAGE_NAME,JSON.stringify(e))}},{key:"removeItem",value:function(e,t){e.preventDefault();e=this.getProductList();delete e[this.categoryId][i.getData(t,"id")],this.save(e),this.render(),this.syncCheckboxes()}},{key:"checkForMinimum",value:function(e,t){var a=this.getCollection();Object.keys(a).length<2&&(e.preventDefault(),new EM.Notification({position:"top right",message:EM.trans("Please select at least 2 products")}))}},{key:"preventChange",value:function(e){return this.useButtons?e.classList.toggle("active"):e.checked=!e.checked,this.syncCheckboxes(),!1}},{key:"isActive",value:function(e){return this.useButtons?e.classList.contains("active"):e.checked}},{key:"doCheck",value:function(e){this.useButtons?e.classList.add("active"):e.checked=!0}},{key:"doUncheck",value:function(e){this.useButtons?e.classList.remove("active"):e.checked=!1}},{key:"toggleCompareCheckbox",value:function(e,t){var a=+i.getData(t,"category");if(this.useButtons&&t.classList.toggle("active"),this.categoryId){if(this.categoryId!=a)return this.preventChange(t)}else this.categoryId=a;this.o.change.call(this,t);var n=this.getProductList()[this.categoryId],a=i.getData(t,"id");if(this.isActive(t)){if(Object.keys(n).length>=this.o.MAX_PRODUCTS)return new EM.Notification({position:"top right",message:EM.trans("You can compare up to 4 items!")}),this.preventChange(t);n[a]=i.getData(t,"img")}else delete n[a];a={};a[this.categoryId]=n,this.save(a),this.render(),this.syncCheckboxes()}}]),t}()).DEFAULTS=n,EM.Compare=e)}(PH,document),function(n,i){n&&i&&(EM.LiveAgentChatButton=function(){"use strict";function a(e,t){if(_classCallCheck(this,a),this.button=n.q(e),!this.button||!t.agentId)return!1;this.options={salesForceUrl:"https://d.la1-c2-frf.salesforceliveagent.com/chat",organisationId:"5720Y000000kLON",deploymentId:"00D0Y000002IYwU",showChatButtonDelay:2e3,chatButtonExpandDelay:500,chatButtonCollapseDelay:5e3,hideAfterStartChat:!0,enableLogging:!1,showClass:"show",simpleChatBtn:!1,closeExistingNotifications:!1,expandOnHover:!1},n.merge(this.options,t),this.btnShown=!1,this.displayedFirstTime=!1,this.attachLiveAgentEvents(),this.attachEvents(),this.initLiveAgent()}return _createClass(a,[{key:"attachLiveAgentEvents",value:function(){var t=this;i.showWhenOnline(this.options.agentId,this.button),i.addButtonEventHandler(this.options.agentId,function(e){switch(e=EM.main_product_added_to_cart?i.BUTTON_EVENT.BUTTON_UNAVAILABLE:e){case i.BUTTON_EVENT.BUTTON_AVAILABLE:if(n.removeClass(t.button,"hidden"),!t.displayedFirstTime)return void setTimeout(function(){EM.main_product_added_to_cart||(t.options.closeExistingNotifications&&n.qs('.ns-box button[data-ntf="close"]').forEach(function(e){n.trigger(e,"click")}),t.showLiveChatBtn(),t.displayedFirstTime=!0)},t.options.showChatButtonDelay);t.btnShown||showLiveChatBtn();break;case i.BUTTON_EVENT.BUTTON_UNAVAILABLE:n.addClass(t.button,"hidden"),t.btnShown=!1}})}},{key:"attachEvents",value:function(){var t=this;n.on(this.button,"click",function(e){return e.preventDefault(),t.defaultStartChatHandler(),!1})}},{key:"defaultStartChatHandler",value:function(){var e;i.startChat(this.options.agentId),this.options.onStartChat&&this.options.onStartChat(),!this.options.simpleChatBtn&&this.options.hideAfterStartChat&&(n.removeClass(this.button,this.options.showClass),(e=n.q(".ns-wrap-bottom-right"))&&n.removeClass(e,"liveagent-chat-bottom-modifier"))}},{key:"initLiveAgent",value:function(){this.options.enableLogging&&i.enableLogging(),i.init(this.options.salesForceUrl,this.options.organisationId,this.options.deploymentId)}},{key:"showLiveChatBtn",value:function(){var e;this.options.simpleChatBtn||(e=n.q(".ns-wrap-bottom-right"))&&n.addClass(e,"liveagent-chat-bottom-modifier"),n.addClass(this.button,this.options.showClass),this.options.onShowChatButton&&this.options.onShowChatButton(),this.btnShown=!0,this.afterShowLiveChatBtn()}},{key:"afterShowLiveChatBtn",value:function(){var e=this,t=this;this.options.expandOnHover&&n.addClass(this.button,"open-on-hover"),setTimeout(function(){n.addClass(t.button,"open"),e.options.chatButtonCollapseDelay&&setTimeout(function(){n.removeClass(t.button,"open")},e.options.chatButtonCollapseDelay)},this.options.chatButtonExpandDelay)}}]),a}())}(PH,window.liveagent),function(a,e){a&&e&&(EM.LiveAgentAnimatedChatButton=function(){"use strict";_inherits(t,EM.LiveAgentChatButton);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"attachEvents",value:function(){var t=this;a.live(this.button,"click",".js-start-chat-btn",function(e){return e.preventDefault(),t.defaultStartChatHandler(),!1}),this.options.expandOnHover||a.live(this.button,"click",".js-expand-collapse-chat",function(e){return a.hasClass(t.button,"open")?(a.removeClass(t.button,"open"),t.options.onCloseChatButton&&t.options.onCloseChatButton(),!1):void a.addClass(t.button,"open")})}}]),t}())}(PH,window.liveagent),EM.MapPoints={isActive:function(e){return-1<["region","geolocation"].indexOf(e.group)||0!=e.is_active},contains:function(e,t){return-1<e.indexOf(t)}},function(e){e.MapEvents={init:{event:"gaEvent",ec:"Delivery map",ea:"Map init"},zipCode:{event:"gaEvent",ec:"Delivery Estimate",ea:"Click_to_find_PickupPoints"},modalOpen:{event:"gaEvent",ec:"Delivery map",ea:"Map view",el:e.page_type},modalClose:{event:"gaEvent",ec:"Delivery map",ea:"Close map",el:"Close btn"},setAsFavorite:{event:"gaEvent",ec:"Delivery map",ea:"Set a favorite pickup point",el:"Set btn"},updateFavorite:{event:"gaEvent",ec:"Delivery map",ea:"Set a favorite pickup point",el:"Update btn"},selectAlternativePoint:{event:"gaEvent",ec:"Delivery map",ea:"Choose a nearest pickup"}}}(EM),function(e){e.MapProps={style:"mapbox://styles/neu-test/cjvgfa1hp3ykt1fqqlem67qzw?optimize=true",center:{ro:{lat:45.9432,lng:24.9668,bounds:[[20.266693,48.179165],[29.612005,43.727321]]},bg:{lat:42.7339,lng:25.4858,bounds:[[22.080052,44.040219],[28.537188,41.853196]]},hu:{lat:47.1625,lng:19.5033,bounds:[[16.061318,48.250398],[22.957716,45.94745]]},pl:{lat:51.9194,lng:19.1451,bounds:[[14.208529,54.643744],[24.191879,48.970865]]}}[e.locale],zoom:{default:6,max:16,min:4}}}(EM),function(C){C.ParseEstimate=function(){var o,e,t,a,n,i,s,r,l,d,c,u,p,m,f,h,v,g,_,y,b,w,P=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},E=1<arguments.length&&void 0!==arguments[1]&&arguments[1],M=2<arguments.length&&void 0!==arguments[2]&&arguments[2],k={courier:{msg:C.trans("The delivery estimate will be available after sending the order."),status:"muted"},pickup:{msg:C.trans("Choose a pickup point from the list"),status:"default"}};try{P.courier&&(P.courier.forEach(function(e){var t,a,n=(null==e||null===(t=e.estimates)||void 0===t||null===(n=t.default[0])||void 0===n?void 0:n.start)&&PH.getDateFromString(e.estimates.default[0].start),i=(null===o||void 0===o||null===(a=o.estimates)||void 0===a||null===(i=a.default[0])||void 0===i?void 0:i.start)&&PH.getDateFromString(o.estimates.default[0].start);(!o||n&&n<i)&&(o=e)}),o&&o.estimates.default[0].start?(e=PH.getDateFromString(o.estimates.default[0].start),t=PH.getDateFromString(o.estimates.default[0].stop),a=new Date,n={useShortMonthNames:!0},e.toDateString()==a.toDateString()?(i=new PH.Date(e,C.locale).getHourMinutes(),s={"%hour%":"".concat(i[0],":").concat(i[1])},r=C.trans("Starting from today, after %hour%",s)):a.getDate()+1!=e.getDate()||t&&t.getDate()!=e.getDate()||(n.relativeDayName=PH.capitalize(C.trans("tomorrow"))),r||(r=(l={start:new PH.Date(e,C.locale).getDayWeekDayMonth(n),stop:new PH.Date(t,C.locale).getDayWeekDayMonth(n)}).start)!==l.stop&&(r+=" – "+l.stop),k.courier={msg:r,status:"success"}):k.courier={msg:C.trans("Delivery estimate currently unavailable"),status:"muted"}),!P.pickup&&E&&(k.pickup={msg:C.trans("Delivery estimate currently unavailable"),status:"muted"}),P.pickup&&(P.pickup.forEach(function(e){var t,a,n=(null==e||null===(t=e.estimates)||void 0===t||null===(n=t.default[0])||void 0===n?void 0:n.start)&&PH.getDateFromString(e.estimates.default[0].start),i=(null===d||void 0===d||null===(a=d.estimates)||void 0===a||null===(i=a.default[0])||void 0===i?void 0:i.start)&&PH.getDateFromString(d.estimates.default[0].start);(!d||n&&n<i)&&(e.estimates.default[0].cost||(e.estimates.default[0].cost={}),d=e)}),d&&d.estimates.default[0].start?(x="",c=PH.getDateFromString(d.estimates.default[0].start),u=d.estimates.default[0].stop?PH.getDateFromString(d.estimates.default[0].stop):null,p=new Date,c.toDateString()!=p.toDateString()||u?c.getDate()!=p.getDate()+1||u?c&&(m=new PH.Date(c,C.locale).getDayWeekDayMonth({useShortMonthNames:1}),f=new PH.Date(c,C.locale).getHourMinutes(),x=u?c.getDate()==u.getDate()?(h=new PH.Date(u,C.locale).getHourMinutes(),"".concat(m,", ").concat(f[0],":").concat(f[1]," - ").concat(h[0],":").concat(h[1])):(v=new PH.Date(u,C.locale).getDayWeekDayMonth({useShortMonthNames:1}),"".concat(m," - ").concat(v)):(g={"%estimate%":m,"%hour%":"".concat(f[0],":").concat(f[1])},M?C.trans("Arrives %estimate%, after %hour%",g):C.trans("You can pick it up starting from %estimate%, after %hour%",g))):(_=new PH.Date(c,C.locale).getHourMinutes(),y={"%hour%":"".concat(_[0],":").concat(_[1])},x=M?C.trans("Arrives tomorrow, after %hour%",y):C.trans("You can pick it up tomorrow, after %hour%",y)):x=c.getTime()>p.getTime()?(b=new PH.Date(c,C.locale).getHourMinutes(),w={"%hour%":"".concat(b[0],":").concat(b[1])},M?C.trans("Arrives today, after %hour%",w):C.trans("You can pick it up today, after %hour%",w)):C.trans("You can pick up the product right now"),k.pickup={msg:x,status:"success",highDemand:d.high_demand,cost:d.estimates.default[0].cost.total,promo:-1<["EOS_FREE_CAMPAIGN","EOS_FREE_DELIVERY"].indexOf(d.estimates.default[0].cost.formula_type)}):k.pickup={msg:C.trans("Delivery estimate currently unavailable"),status:"muted",highDemand:d.high_demand,cost:d.estimates.default[0].cost.total,promo:-1<["EOS_FREE_CAMPAIGN","EOS_FREE_DELIVERY"].indexOf(d.estimates.default[0].cost.formula_type)})}catch(e){var x={msg:C.trans("Delivery estimate currently unavailable"),status:"muted"};k.courier=x,k.pickup=x}return k},C.EstimateToString=function(e){if(!e)return null;var t=PH.getDateFromString(e),a=(new Date).getDate(),n=a+1,i=new PH.Date(t,C.locale),e=i.getDayWeekDayMonth({useShortMonthNames:1}),i=i.getHourMinutes(),i={"%hour%":"".concat(i[0],":").concat(i[1])};return t.getDate()===a?C.trans("today, after %hour%",i):t.getDate()===n?C.trans("tomorrow, after %hour%",i):C.trans("%estimate%, after %hour%",_objectSpread(_objectSpread({},i),{},{"%estimate%":e}))}}(EM),function(f){var e=function(){"use strict";function a(e){var m=this;_classCallCheck(this,a),this.container=e.container,this.flags=e.flags||{},this.requests=e.requests||{},this.params=e.params||{},this.urlHash=e.urlHash||"",this.requests=e.requests||{},this.deliveryParams=e.deliveryParams||{},this.components=[];var t=e.data||{};if(this.state=PH.merge({regions:[],localities:[],region:t.region||{},locality:t.locality||{},point:t.point||{},estimate:null,points:[],focusPoint:!!t.point,centerMap:!0,zipCodeData:{},alternativePoints:{},highDemandedPoints:[]}),this.flags.hasModal?this.initModal(this.loadTemplates.bind(this,e)):this.loadTemplates(e),this.flags.hasRecommendedPoint&&this.initRecommendedPoint((e.deliveryParams||{}).products),this.flags.hasFavoritePoint&&this.initFavoritePoint(),this.flags.hasFullscreenMode&&this.initFullscreenMode(),!this.container&&!this.flags.hasModal)return console.warn("No container found!");this.flags.updateLocationOnLS&&PH.on(f.dispatcher,"MapComponentDidUpdate",function(e){return m.updateLocationOnLS(e.data)}),PH.on(f.dispatcher,"MapComponentUpdate",function(e){return m.setState(e.data)}),PH.on(f.dispatcher,"MapComponentSelectPoint",function(e){m.state.point.selectOnDemand=!(!e||!e.data)&&e.data.selectOnDemand,m.flags.hasModal&&m.modal.close(),m.flags.hasModal&&!m.flags.updateLSOnDemand||m.dispatchStateUpdate()}),PH.on(f.dispatcher,"PHDeliveryEstimateResponse",function(e){var t,a=e.data||{},e=f.ParseEstimate((a.data||{}).estimates,!!m.state.point.id);try{var n,i,o,s,r,l,d,c=a.data.estimates.pickup[0]||{},u=null===(n=c.delivery_point)||void 0===n?void 0:n.id;(d=null===(i=c.recommended_delivery_point)||void 0===i||null===(o=i.delivery_point)||void 0===o?void 0:o.id)&&(p=f.EstimateToString(null===(s=c.recommended_delivery_point)||void 0===s?void 0:s.estimate),m.modal&&!m.modal._closed&&f.DatalayerManager.push({event:"gaEvent",ec:"website_sandbox_events",ea:"Map High Demand Impression",el:null===(r=c.recommended_delivery_point)||void 0===r||null===(l=r.delivery_point)||void 0===l?void 0:l.name}))}catch(e){}var p={estimate:e,recommendedPointEstimate:p};d&&(p.recommendedPoint=d),u&&d&&(m.state.highDemandedPoints||[]).indexOf(u)<0&&(p.highDemandedPoints=[].concat(_toConsumableArray(m.state.highDemandedPoints),[u])),m.setState(p),m.flags.hasAlternativePoints&&setTimeout(m.getAlternativePoints.bind(m,null==e||null===(t=e.pickup)||void 0===t?void 0:t.highDemand,u),0)})}return _createClass(a,[{key:"loadTemplates",value:function(){var e=this.initComponents.bind(this,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});f.MapComponentTemplates?e():f.loadComponent("MapComponentTemplates").then(e)}},{key:"getAlternativePoints",value:function(e,t){var a=this;t=t||this.state.point.id;function n(e){PH.trigger(f.dispatcher,"AlternativePointsLoaded",e||a.state.alternativePoints[t])}e&&!sessionStorage.alternativePointsLoaded?this.state.alternativePoints[t]?n():(e=PH.merge({delivery_point:t},this.deliveryParams),sapi.getAlternativePoints(e,{form:PH.q(".js-highlights-delivery-estimate-main")}).then(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e.data&&(a.state.alternativePoints[t]=e.data,n())})):n([])}},{key:"initComponents",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.flags.hasLocationSelector&&this.components.push({instance:new f.MC_Location({requests:e.requests,reqParams:e.deliveryParams,flags:{hasDelivery:(null===(t=e.flags)||void 0===t?void 0:t.hasDelivery)&&!!e.deliveryParams,hasZipCode:this.flags.hasMap&&this.flags.hasZipCode}}),getData:this.getLocationProps.bind(this)}),this.flags.hasPointsList&&this.flags.hasMap&&this.components.push({instance:new f.MC_PointsList({requests:e.requests,reqParams:e.deliveryParams,flags:{selectPointOnDemand:this.flags.selectPointOnDemand,hasFavoritePoint:this.flags.hasFavoritePoint},params:e.params||{}}),getData:this.getPointsListProps.bind(this)});var t=e.deliveryParams?{products:e.deliveryParams.products}:{};this.flags.hasMap&&this.components.push({instance:new f.MC_Map({props:e.map,requests:e.requests,flags:{hasDiscoveryModule:this.flags.hasDiscoveryModule,hasGeoLocation:this.flags.hasGeoLocation,hasFavoritePoint:this.flags.hasFavoritePoint,forceGeoLocation:this.flags.forceGeoLocation,filterPointsByLocality:this.flags.filterPointsByLocality},reqParams:t}),getData:this.getMapProps.bind(this)}),this.updateComponents(),this.appendComponents(),PH.addClass(this.container,"mb-container")}},{key:"orderPoints",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=e.recommendedPoint||this.state.recommendedPoint,s=e.favoritePoint||this.state.favoritePoint;return(e.points||this.state.points).sort(function(e,t){var a=o&&o===e.id,n=o&&o===t.id,i=s&&e.id===s,t=s&&t.id===s;return i||a&&!t?-1:t||n?1:f.MapPoints.isActive(e)?-1:0})}},{key:"initRecommendedPoint",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this.state.recommendedPoint=localStorage.getItem("recommended_delivery_point")||null;PH.on(f.dispatcher,"PHEmphasizePointLoaded",function(e){e=e.data&&e.data.delivery_point?e.data.delivery_point.id:null;e&&e!==t.state.recommendedPoint&&(localStorage.setItem("recommended_delivery_point",e),e={recommendedPoint:e,recommendedPointEstimate:null,points:t.state.points},t.setState(e))});var a={region:this.state.region.id,locality:this.state.locality.id};a.region&&a.locality&&(e&&(a.products=e),sapi.getNearestPoint(a).then(function(e){return PH.trigger(f.dispatcher,"PHEmphasizePointLoaded",e)}))}},{key:"initFavoritePoint",value:function(){var t=this;PH.on(f.dispatcher,"PHFavoritePointLoaded",function(e){e=e.data&&e.data.id?e.data.id:null;e?localStorage.setItem("favorite_delivery_point",e):localStorage.removeItem("favorite_delivery_point");e={favoritePoint:e,points:t.state.points};t.setState(e)}),PH.trigger(f.dispatcher,"PHFavoritePointLoaded",{id:f.user_favorite_pickup_point}),void 0===f.user_favorite_pickup_point&&f.token&&sapi.getFavoritePoint().then(function(e){return PH.trigger(f.dispatcher,"PHFavoritePointLoaded",e.data)})}},{key:"initModal",value:function(){function e(e,t){a.zoomOnRegion=t&&PH.hasClass(t,"map-region-zoom"),a.zoomOnPoint=t&&PH.hasClass(t,"map-point-zoom")&&PH.getData(t,"pointId"),a.zoomOnRecommendations=t&&PH.hasClass(t,"map-recommendations-zoom"),a.modal||(a.modal=new PH.Modal({className:"mc-modal-container ".concat(a.flags.hasMap?"map-modal-container":"mc-modal-location"),content:f.TMPL.exec("@Components/MapComponent/templates/modal.html.twig",{title:a.params.modalTitle,btnLabel:a.params.btnLabel}),showHeader:!1,closeButton:!1,fullscreen:a.flags.hasMap,hash:a.urlHash}),a.container=PH.q(".modal-body",a.modal.element()),PH.live(a.modal.element(),"click",".close",function(){f.DatalayerManager.push(f.MapEvents.modalClose)}),a.modal.on("close",function(){a.state.locality.id&&!a.flags.updateLSOnDemand&&a.dispatchStateUpdate()}),a.modal.on("open",function(){f.DatalayerManager.push(f.MapEvents.modalOpen);var e,t={};a.flags.forceUpdate&&(t=f.UserLocation.getCurrentLocation(),a.state.point.id!==t.point.id&&(t.centerMap=!0,t.focusPoint=!0)),a.zoomOnRegion&&(a.previousPoint=a.state.point,t.point={},t.centerMap=!0,t.focusPoint=!1,a.zoomOnRegion=!1),a.zoomOnPoint&&((e=a.state.points.find(function(e){return e.id===a.zoomOnPoint}))&&(t.point=e),t.centerMap=!0,t.focusPoint=!0,a.zoomOnPoint=!1),a.zoomOnRecommendations?((e=a.state.alternativePoints[(t.point?t:a.state).point.id])&&(t.recommendations=e,t.centerMap=!0,t.focusPoint=!0,t.focusRecommendations=!0,a.zoomOnRecommendations=!1),sessionStorage.setItem("alternativePointsLoaded",1)):(t.recommendations=[],t.focusRecommendations=!1),a.setState(t),PH.trigger(window,"resize")}),n()),a.modal.open()}function t(){window.location.hash==="#".concat(a.urlHash)&&e()}var a=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:PH.noop;this.urlHash&&(t(),window.addEventListener("hashchange",t)),PH.live(document,"click",".js-mc-modal-trigger",e)}},{key:"validateField",value:function(e,t){return t.hasOwnProperty(e)&&t[e].id!==this.state[e].id}},{key:"dispatchStateUpdate",value:function(){function e(e){f.MapPoints.isActive(e)&&(a.state=PH.merge(a.state,{point:e,centerMap:!0,focusPoint:!0}))}var t,a=this;this.flags.hasModal&&this.flags.hasFavoritePoint&&this.state.favoritePoint&&(t=this.state.points.find(function(e){return e.id===a.state.favoritePoint}),this.state.point.id||1!==this.state.points.length||e(this.state.points[0]),this.state.point.selectOnDemand||this.flags.skipFavoriteByDefault||this.state.point.id===this.state.favoritePoint||!t||e(t)),PH.trigger(f.dispatcher,"MapComponentDidUpdate",this.state)}},{key:"setState",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e.points&&(e.points=this.orderPoints(e));var t=!this.flags.hasModal&&(this.validateField("locality",e)&&e.locality.id||this.validateField("point",e));this.state=PH.merge({},this.state,e),t&&this.dispatchStateUpdate(),this.updateComponents()}},{key:"appendComponents",value:function(){var t=this;this.components.forEach(function(e){return t.container.appendChild(e.instance.container)})}},{key:"updateComponents",value:function(){this.components.forEach(function(e){return e.instance.update(e.getData())})}},{key:"getMapProps",value:function(){return{region:this.state.region,locality:this.state.locality,point:this.state.point,centerMap:this.state.centerMap,points:this.state.points,focusPoint:this.state.focusPoint,region_points:this.state.regions.filter(function(e){return!!e.pickup_points}),zipCode:"zip-code"===this.state.zipCodeTab&&this.state.zipCodeData.value,zipCodeValid:"zip-code"===this.state.zipCodeTab&&!this.state.zipCodeData.errorMsg,recommendedPoint:this.state.recommendedPoint,recommendedPointEstimate:this.state.recommendedPointEstimate,favoritePoint:this.state.favoritePoint,geoLocationLoading:this.state.geoLocationLoading,focusRecommendations:this.state.focusRecommendations,recommendations:this.state.recommendations,pointsLoaded:this.state.pointsLoaded,highDemandedPoints:this.state.highDemandedPoints}}},{key:"getLocationProps",value:function(){return{region:this.state.region,locality:this.state.locality,point:this.state.point,regions:this.state.regions,localities:this.state.localities,estimate:this.state.estimate,zipCodeData:this.state.zipCodeData,zipCodeTab:this.state.zipCodeTab,highDemandedPoints:this.state.highDemandedPoints}}},{key:"getPointsListProps",value:function(){var t=this;return{point:this.state.point,points:this.state.points,recommendedPoint:this.state.recommendedPoint,favoritePoint:this.state.favoritePoint,city:this.state.localities.filter(function(e){return e.id===+t.state.locality.id})[0],estimate:this.state.estimate,highDemandedPoints:this.state.highDemandedPoints}}},{key:"updateLocationOnLS",value:function(e){var t={};t.region=e.region,t.locality=PH.merge({main_loc:e.locality.name,sub_loc:e.locality.sub_name},e.locality),e.point.id&&(t.point=PH.merge({common_key:e.point.id},e.point)),t.type=e.selectionType,t.pointCount=e.points.length,f.UserLocation.setLocation(t)}},{key:"initFullscreenMode",value:function(){var e=PH.q("body"),t={status:!1,get isVisible(){return this.status},set isVisible(e){this.status=e}};function a(){PH.globals.getViewportBreakpoint();window.innerWidth<PH.globals.viewportBreakpoints.sm!==t.isVisible&&(t.isVisible=!t.isVisible,PH.toggleClass(e,"lock-scroll"),window.scrollTo(0,0))}a(),PH.on(window,"resize",a)}}]),a}();f.MapComponent=e}(EM),sapi.getGeniusBenefits=function(){return ajax({url:EM.sapi_endpoint+"/genius/benefits",type:"json",method:"get",data:PH.merge({source_id:7},0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})})},function(n,a,i){n&&a.siteModules.Genius_benefits_in_product_page&&(i.addLoaderTo(n),new(function(){"use strict";function e(){_classCallCheck(this,e),this.locality={id:0},this.region={id:0},a.UserLocation.getLocation().locality.id||this.show(),a.offer.flags.has_delivery_estimate?i.on(a.dispatcher,"EstimateDone",this.onEstimateDone.bind(this)):this.show()}return _createClass(e,[{key:"onEstimateDone",value:function(e){e&&e.data&&e.data.data?(e=e.data.data).locality&&e.region&&(e.locality.id!==this.locality.id||e.region.id!==this.region.id)&&(this.locality.id=e.locality.id,this.region.id=e.region.id,this.show(e)):this.show()}},{key:"show",value:function(t){var a=this;t=t||{},i.addLoaderTo(n),i.removeClass(n,"hidden"),sapi.getGeniusBenefits(this.getRequestParams(t)).then(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e.data&&(t.genius_benefits=e.data,a.render(t),i.removeLoaderFrom(n))}).fail(function(){i.removeLoaderFrom(n),i.addClass(n,"hidden")})}},{key:"render",value:function(e){var t=a.user_data&&a.user_data.genius_membership&&a.user_data.genius_membership.is_active;n.innerHTML=a.TMPL.exec("@Components/Genius/ProductBenefits/template.html.twig",{data:e,isGeniusMember:t,isTrial7:a.siteModules.Switch_to_Trial_7_orders}),this.pushDataLayerAfterRender(t)}},{key:"getRequestParams",value:function(e){var t={is_genius_member:a.user_data&&a.user_data.genius_membership&&a.user_data.genius_membership.is_active?1:0,genius_eligibility_type:a.offer.flags.genius_eligibility_type,is_fbe:a.offer.flags.is_fulfilment_by_emag?1:0};return 0<Object.keys(e).length&&((t=function(e){function t(e,t,a){try{var n={};n.date=t[0].start,n.total_before_discount=t[0].cost.total_before_discount;var i=t[0].cost.genius_cost;0<=i&&(n.genius_cost=i),e[a]=n}catch(e){}return e}var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0,i={default:"delivery_standard",courier_6h:"delivery_6h"};if(n instanceof Array)for(var o=0;o<n.length;o++)a.hasOwnProperty(n[o])&&(e=t(e,a[n[o]],i[n[o]]));return e="string"==typeof n||n instanceof String?t(e,a[n],i[n]):e}(t,e.estimates.courier[0].estimates,["default","courier_6h"])).has_easybox=e.has_easybox?1:0),t}},{key:"pushDataLayerAfterRender",value:function(e){dataLayer.push({event:"gaEvent",ea:"Genius Benefits PD",ec:"website_sandbox_events",el:e?"see Genius benfits - genius":"see Genius benfits - non-genius"})}}]),e}()))}(PH.q(".genius-benefits-panel"),EM,PH),function(o){var e;o&&EM.siteModules.Report_incorrect_product_information_button&&(e=function(){"use strict";function e(){_classCallCheck(this,e),this.token=EM.token||null,this.modal=null,this.form=null,this.feedbackCenterResponse=null,this.token&&(this.showButton(),this.addListeners())}return _createClass(e,[{key:"addListeners",value:function(){PH.live(o,"click",".js-report-product-issue",this.onButtonClick.bind(this)),PH.live(document,"submit",".js-form-report-product-issues",this.onFormSubmit.bind(this))}},{key:"showButton",value:function(){var t=this,e={entity_id:EM.product_id};sapi.getFeedbackCenter(e).then(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e.data&&(t.feedbackCenterResponse=e.data,PH.setData(o,"zone",e.data.zone),t.renderButton(e.data))}).fail(function(){PH.addClass(o,"hidden")})}},{key:"renderButton",value:function(e){o.innerHTML=EM.TMPL.exec("@Components/FeedbackCenter/button.html.twig",{data:e,isMobile:EM.mobile})}},{key:"onButtonClick",value:function(e,t){PH.stopEvent(e),this.modal=new PH.Modal({content:EM.TMPL.exec("@Components/FeedbackCenter/modal.html.twig",{feedbackCenter:this.feedbackCenterResponse}),showHeader:!1,size:"modal-report-issue-width"}),this.modal.on("close",this.modal.destroy.bind(this.modal)),this.modal.open(),this.form=PH.q(".js-form-report-product-issues",this.modal.element()),PH.Validator.addValidatorToForm(this.form,{validateOnBlur:!0},{})}},{key:"onFormSubmit",value:function(e,t){var a,n,i=this;PH.stopEvent(e),this.modal&&this.form&&this.form["ph.validator"].isValid()&&(a=this.modal,n={form:this.form,zone:PH.getData(o,"zone")},e=PH.extend({entity_id:EM.product_id,token:this.token},PH.serializeFormElements(this.form)),sapi.postFeedbackCenter(n,e).then(function(){a.close(),new EM.Notification({title:EM.trans("report-product-issues-success-title"),message:EM.trans("report-product-issues-success-message"),type:"success",position:"top right"}),i.pushDataLayerAfterSubmit()}).fail(function(){a.close(),EM.showFailNotification()}))}},{key:"pushDataLayerAfterSubmit",value:function(){dataLayer.push({event:"gaEvent",ea:"Feedback Center PD",ec:"website_sandbox_events",el:"submit Feedback Center Button"})}}]),e}(),PH.domReady(function(){new e}))}(PH.q(".feedback-center-container")),function(e){var l,t;function a(e,t){var a,n,i=[];if(EM.product.family)for(var o=0;o<EM.product.family.characteristics.length;o++)if(6506===EM.product.family.characteristics[o].id)for(var s=0;s<EM.product.family.characteristics[o].products.length;s++)switch(e){case"sizesPush":(n=EM.product.family.characteristics[o].products[s]).hasOwnProperty("label")&&l.sizes.push({productId:n.offer_id,value:n.label,isAvailable:n.is_available});break;case"getProductIdBySize":var r=(a=EM.product.family.characteristics[o].products[s]).label!==t?0:parseInt(a.offer_id);if(r)return r;break;case"sizeChartPush":a=EM.product.family.characteristics[o].products[s],r=i,a.hasOwnProperty("label")&&r.push({size:a.label,url:EM.mobile?a.url.mobile_base+a.url.path:a.url.desktop_base+a.url.path});break;default:return}if("sizeChartPush"===e)return i}EM.siteModules.Activate_Deactivate_FitFinder&&EM.is_fashion&&e&&((l={}).shopLanguage=EM.locale,l.shopCountry=EM.locale.toUpperCase(),l.mainThumbnail=EM.product.image.resized_images[EM.product.image.resized_images.length-1].url,l.userId=EM.customer_id||0,l.currentProductId=e?PH.getData(e,"fashionReferenceCode"):"",l.sizes=[],l.operations={},l.operations.getAddToCartBtn=function(){return PH.q(".main-product-form .yeahIWantThisProduct")||PH.q(".main-product-form .yeahIWantThisFamilyProduct")},l.operations.getSizeChartLink=function(){return a("sizeChartPush")},l.operations.addToCart=function(e){e&&oldSiteAjax.addToCart({url:EM.old_site_endpoint+"/newaddtocart?source=front"},{"product[]":e,ref:"add-to-cart-fit-finder"}).then(function(e){EM.AddToCart.openNotification(e)}).fail(function(){EM.showFailNotification()})},l.operations.selectSize=function(e){for(var t=EM.fitAnalyticsData.operations.getSizeChartLink(),a=0;a<t.length;a++)t[a].size===e&&(window.location.href=t[a].url)},a("sizesPush"),EM.fitAnalyticsData=l,t=!1,PH.on(EM.dispatcher,"FitFinderLinkClick",function(e){EM.LoggerJsonTracking.send({"X-Action-UA":"fitfinder_click_link"})}),PH.on(EM.dispatcher,"FitFinderLoaded",function(e){t||(e.data=e.data||{},EM.LoggerJsonTracking.send({"X-Action-UA":e.data.size?"fitfinder_display_with_size":"fitfinder_display_without_size"}),t=!0)}),PH.on(EM.dispatcher,"FitFinder_FinalScreen_ContinuaButtonClick",function(e){EM.LoggerJsonTracking.send({"X-Action-UA":"fitfinder_survery_completed"})}),PH.on(EM.dispatcher,"FitFinder_FinalScreen_Close",function(e){EM.LoggerJsonTracking.send({"X-Action-UA":"fitfinder_widget_closed"})}),PH.on(EM.dispatcher,"FitFinder_Profile_Created",function(e){EM.LoggerJsonTracking.send({"X-Action-UA":"fitfinder_profile"})}))}(PH.q("#fashion-reference-code")),function(){var a={validateOnChange:!0,validateOnBlur:!0,validateOnSubmit:!0},i={product_page:{product_1:"gtm_c88b7ir3li",product_2:"gtm_yvdmvddwdm",close:"gtm_hs832p1zim",delete:"gtm_1km399qzk4"},user_warranties:{product_1:"gtm_p1i93uklv4",product_2:"gtm_aj3s15d7v0",close:"gtm_hs832p1zim",delete:""},atc_modal:{product_1:"gtm_aj6femwtxn",product_2:"gtm_aj6femwtxn",close:"gtm_hs832p1zim",delete:"gtm_1km399qzk4"}},e=function(){"use strict";function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";_classCallCheck(this,n),this.options=e,this.selected=t,this.pageType=a,this.userData={},this.source="",this.tracking=i[a]}return _createClass(n,[{key:"setOfferId",value:function(e){this.offerId=e}},{key:"setEvents",value:function(){var e=this,t=this.modal.element();PH.live(t,"click",".ew-item",this.setExtraWarranty.bind(this)),PH.live(t,"click",".js-validate-user-form",this.validateForm.bind(this)),PH.live(t,"click",".js-go-to-step",this.goToStep.bind(this)),PH.live(t,"click",".js-finish-easycare",function(){sapi.easyCareSaveUser({first_name:e.userData.name,last_name:e.userData.last_name,personal_identity_code:e.userData.cnp},{form:e.modal.element()}).then(function(){e.modal&&e.modal.close(),PH.trigger(EM.dispatcher,"EasyCareSelected",{data:e.selected,hasRedirect:!!e.source,pageType:e.pageType})}).catch(function(){})}),PH.on(PH.q(".step-3 .agreement-text",this.modal.element()),"scroll",function(){var e=PH.q(".step-3 .js-finish-easycare");e.disabled&&(e.disabled=!1)})}},{key:"setExtraWarranty",value:function(e,t){e&&PH.stopEvent(e);var a=this.modal.element();PH.addLoaderTo(a),PH.qs(".ec-item",this.modal.element()).forEach(function(e){e.classList.remove("ec-item-checked")});e=PH.getData(t,"service")||PH.getData(t,"serviceEc"),e=PH.q('[data-service="'.concat(e,'"]'),a);e&&e.classList.add("ec-item-checked"),t.classList.add("ec-item-checked"),this.selected=t,PH.q(".ec-title-easycare",a).innerHTML=PH.getData(this.selected,"serviceName")||PH.getData(this.selected,"name"),this.setStep(o(t)),PH.removeLoaderFrom(a)}},{key:"goToStep",value:function(e){e=o(e.target);1==e&&(PH.q(".step-2 form",this.modal.element()).reset(),this.checkExtraWarranty()),this.setStep(e)}},{key:"setStep",value:function(a){PH.qs(".step",this.modal.element()).forEach(function(e,t){t+1==a?(e.classList.remove("hidden"),e.classList.add("show")):(e.classList.remove("show"),e.classList.add("hidden"))})}},{key:"checkExtraWarranty",value:function(){this.selected="";var e=PH.q(".ew-item.ec-item-checked",this.modal.element());e&&PH.removeClass(e,"ec-item-checked")}},{key:"validateForm",value:function(e){var t=PH.q(".step-2 form",this.modal.element());PH.Validator.addValidatorToForm(t,a,{}).validate()&&(t=PH.q(".js-easycare-user-form",this.modal.element()),this.userData=Object.fromEntries(new FormData(t).entries()),this.setStep(o(e.target)))}},{key:"open",value:function(){var e=this;this.modal=new PH.Modal({content:EM.TMPL.exec("@Components/EasyCare/modal.html.twig",{options:this.options,selected:this.selected,tracking:this.tracking,offerId:this.offerId}),className:"modal-casco-easy-care",size:"modal-lg",showHeader:!1,hash:n.HASH,fullscreen:t()}),this.source="",this.selected&&(this.setExtraWarranty("",this.selected),this.source="upsell_modal"),this.modal.on("close",function(){e.modal.destroy()}),this.setEvents(),this.modal.open()}},{key:"setOptions",value:function(){this.options=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}}}]),n}(),t=function(){return window.innerWidth<PH.globals.viewportBreakpoints.sm},o=function(e){return PH.getData(e,"nextStep")||1};e.HASH="easy-care",EM.EasyCare=e}(),sapi.easyCareSaveUser=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ajax({url:"".concat(EM.old_site_endpoint,"/easycare/save"),type:"json",method:"post",headers:{"X-Request-Source":"www"},crossOrigin:!0,data:PH.extend({source_id:7},e),form:t.form})},function(){var e=function(){"use strict";function a(){_classCallCheck(this,a),this.changeCallback=PH.noop,this.items=[]}return _createClass(a,[{key:"onchange",value:function(e){this.changeCallback=e}},{key:"setExtraWarranty",value:function(e,t){e.preventDefault(),this.changeCallback.call(this,PH.getData(t,"ew"),t),this.timeoutF&&(this.checkExtraWarranty(),clearTimeout(this.timeoutF),this.timeoutS&&clearTimeout(this.timeoutS)),PH.addLoaderTo(t),this.timeoutF=setTimeout(function(){PH.removeLoaderFrom(t),PH.addLoaderTo(t,"postloader"),this.timeoutS=setTimeout(function(){this.checkExtraWarranty(PH.getData(t,"ew"))}.bind(this),1e3)}.bind(this),500)}},{key:"checkExtraWarranty",value:function(t){this.items.forEach(function(e){e.classList[PH.getData(e,"ew")!==""+t?"remove":"add"](a.CHECKED_CLASS),PH.removeLoaderFrom(e),PH.removeLoaderFrom(e,"postloader")})}},{key:"open",value:function(e,t){if(e&&e.preventDefault(),this.modal)return this.modal.open();e="b"===(null===(e=EM.abTestsAuto)||void 0===e?void 0:e.getById("product_eprotect_v1"));this.modal=new PH.Modal({content:EM.TMPL.exec(e?"@Components/ExtendedWarranty/modal-v2.html.twig":"@Components/ExtendedWarranty/modal.html.twig",{app:EM.APP,offer:EM.offer}),size:e?"slide":"modal-lg",fullscreen:e,showHeader:!1,hash:a.HASH}),this.modal.open();e=this.modal.element();this.items=PH.qs(".ew-item",e),PH.live(e,"click",".ew-item",this.setExtraWarranty.bind(this))}},{key:"close",value:function(e,t){e&&e.preventDefault(),this.modal&&this.modal.close()}}]),a}();e.HASH="extended-warranty",e.CHECKED_CLASS="ew-checked",EM.ExtendedWarranty=e}(),function(){var a="FREQUENTLY_BOUGHT_TOGETHER",e=function(){"use strict";function n(e,t){_classCallCheck(this,n),e&&(this.placeholder=e,(this.type=t)===a&&(EM.siteModules.frequently_bought_together_bundle?this.loadBoughtTogether():this.render([])))}return _createClass(n,[{key:"generateTracking",value:function(e,t){return"".concat(e?"&provider=".concat(e):"").concat(t?"&recid=".concat(t):"")}},{key:"trackWidget",value:function(e){new EM.WidgetTracking(PH.q(".panel-body",e))}},{key:"render",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!e.length)return PH.hide(this.placeholder.parentNode);this.placeholder.innerHTML=EM.TMPL.exec("@Pages/Product/components/PanelOffersBundle/templates/list.html.twig",{appData:EM.APP,offersData:e,formAction:"".concat(PH.getData(this.placeholder,"action")).concat(t),gtmActionButton:"gtm_2wat29d2l6",type:this.type,bundleTracking:a,config:EM.BFPanelOffersBundleConfig}),n.initAfterRender(this.placeholder),PH.onceInViewport(this.placeholder,this.trackWidget.bind(this,this.placeholder))}},{key:"loadBoughtTogether",value:function(){var s=this;if(EM.BFPanelOffersBundleConfig){if(-1!==[5,6].indexOf(EM.offer.availability.id))return this.render([]);var r={position:9,identifier:EM.product_id},e={fields:{resized_images:EM.imageSize,family:1,price:1},page_type:EM.is_family?"family":"product",view_type:EM.is_fashion?"fashion":"default"};sapi.getRecommendations(r,e).then(function(e){var t=[];if(!e.data||!e.data[r.position]||!e.data[r.position].product_collection)return s.render(t);var a=e.data[r.position],n=s.generateTracking(a.provider,a.recommendation_id),i={provider:a.provider,recid:a.recommendation_id,scenarioIndex:10,scenarioId:a.recommendation_scenario_id,tracking_alias:a.tracking_alias},o={name:EM.product.name,url:EM.url,image:EM.product.image,offer:EM.offer};a.price.current+=o.offer.price.current;e=a.product_collection.slice(0,3);e.unshift(o),t.push({bundles:[{price:a.price,items:e,flags:{has_discount:a.price.discount&&a.price.discount.is_visible},tracking:"?ref=pac_bundles".concat(n)}],vendor:a.product_collection[0].offer.vendor}),dataLayer.push({event:"gaEvent",ec:"product_page_elements",ea:"frequently_bought_toghether",el:void 0}),s.render(t,n,i),s.initListeners()}).fail(function(){return s.render([])})}else sapi.getPacByOfferBoughtTogether({form:this.placeholder}).then(function(e){var t=[];if(!e.data||!e.data.BUNDLE)return s.render(t);var a=s.generateTracking(e.data.BUNDLE.provider,e.data.BUNDLE.recommendation_id),n={provider:e.data.BUNDLE.provider,recid:e.data.BUNDLE.recommendation_id,scenarioIndex:10,scenarioId:10,trackingAlias:"pac_bundles"};if(e.data.BUNDLE.bundle_product_collection){for(var i=0;i<e.data.BUNDLE.bundle_product_collection.length;i++){var o=e.data.BUNDLE.bundle_product_collection[i];t.push({bundles:[{price:o.price,items:o.product_collection,flags:{has_discount:o.price.discount&&o.price.discount.is_visible},tracking:"?ref=pac_bundles".concat(a)}],vendor:o.product_collection[0].offer.vendor})}dataLayer.push({event:"gaEvent",ec:"product_page_elements",ea:"frequently_bought_toghether",el:void 0})}s.render(t,a,n),s.initListeners()}).fail(function(){return s.render([])})}},{key:"initListeners",value:function(){var a=this,n=PH.qs('input[type="checkbox"]',this.placeholder);n.forEach(function(e){PH.on(e,"click",function(){var e=n.filter(function(e){return e.checked}),t=0;e.forEach(function(e){e=+PH.getData(e,"price");t+=e}),PH.q(".js-product-new-price",a.placeholder).innerHTML=EM.moneyFormat(t.toFixed(2))})})}}],[{key:"initAfterRender",value:function(e){e&&(PH.LazyImg(e),PH.Widget.autoInit(e),PH.qs(".panel-body.hidden",e).forEach(function(e){return PH.removeClass(e,"hidden")}))}}]),n}();EM.BFPanelOffersBundle=e,PH.domReady(function(){new e(PH.q('[data-type="'.concat(a,'"]')),a)}),e.initAfterRender(PH.q('[data-type="'.concat("OFFERS_BUNDLE",'"]')))}(),function(s,r){"use strict";var e;s&&r&&(e=function(){function e(){_classCallCheck(this,e),this.createModal(),this.init()}return _createClass(e,[{key:"createModal",value:function(){this.modal=new r.Modal({content:'<div id="template-modal-sameday-delivery"></div>',className:"modal-sameday-delivery",showHeader:!1,fullscreen:!0}),this.el=this.modal.element(),this.modalPlaceholder=r.q("#template-modal-sameday-delivery",this.el)}},{key:"init",value:function(){this.open=this.modal.open.bind(this.modal),this.close=this.modal.close.bind(this.modal),r.live(this.el,"click",".close",this.close)}},{key:"setSamedayDelivery",value:function(){var i=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];try{e.forEach(function(e){var t=new r.Date(r.getDateFromString(e.start),s.locale),a=new r.Date(r.getDateFromString(e.stop),s.locale),n=t.getHourMinutes(),a=a.getHourMinutes();o.push({start:n,stop:a,tax:e.tax,available:!0}),i.firstSamedayDelivery||(t=t.getDayMonth(),i.todayName=t,i.firstSamedayDelivery=n[0]+":"+n[1])})}catch(e){}this.estimates=o,this.render()}},{key:"render",value:function(){this.modalPlaceholder.innerHTML=s.TMPL.exec("@Pages/Product/components/SamedayDeliveryModal/template.html.twig",{estimates:this.estimates,today:this.todayName,showDeliveryCosts:s.siteModules.Delivery_costs_in_Product_page})}}]),e}(),s.SamedayDelivery=e)}(EM,PH),function(a){a&&PH.onceInViewport(a,function(){var e=EM.loadComponent("ComparedSimilarProducts"),t=ajax({url:"".concat(EM.sapi_endpoint,"/recommendations/compared-similar-products"),method:"get",type:"json",data:{source_id:7,identifier:EM.product_id,page_type:EM.is_fashion?"fashion":"product"}});Promise.all([t,e]).then(function(e){if(!(e[0]&&e[0].data&&e[0].data.product_collection&&e[0].data.product_collection.length))return PH.remove(a);e=PH.node(EM.TMPL.exec("@Pages/Product/components/ComparedSimilarProducts/table.html.twig",{app:EM.APP,compared_similar_products:e[0].data,spid:EM.offer_id,IS_MOBILE:EM.mobile,vertical_display:EM.mobile}));a.replaceWith(e),new EM.CompareTable(e),PH.Widget.autoInit(e),EM.initFavorites(e),new EM.WidgetTracking(e),PH.trigger(EM.dispatcher,"ProductPageCompareSimilarProductsWidgetInit")})},{rootMargin:"400px 0px 400px 0px"})}(PH.q(".compared-similar-products")),oldSiteAjax.sendUserData=function(){return ajax({url:EM.old_site_endpoint+"/vendor-auto-requests",type:"json",method:"post",form:(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).form,data:1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}})},function(){function n(a){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];a&&(a.options.length=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,e.forEach(function(e){var t=document.createElement("option");t.value=e.value,t.text=e.text,e.disabled&&(t.disabled=e.disabled),e.selected&&(t.selected=e.selected),a.options.add(t)}),a.PH_Widget.reset(),a.PH_Widget.enable())}function i(t,e){e.preventDefault();var a,n,e=e.target;PH.Validator.validateForm(e)&&(a=PH.formToJSON(e),n=function(){PH.q("#auto-error",t).classList.remove("hidden")},oldSiteAjax.sendUserData({form:e},a).then(function(e){1==e&&a.terms?(e=PH.q(".auto-success-collapse",t)).PH_Widget&&e.PH_Widget.more():n()}).fail(n))}var e,t,o={ro:{11892:"https://".concat(EM.CDN,"/layout/ro/images/db/38/57263.pdf"),12982:"https://".concat(EM.CDN,"/layout/ro/images/db/38/57264.pdf"),4933:"https://".concat(EM.CDN,"/layout/ro/images/db/38/57265.pdf"),380:"https://".concat(EM.CDN,"/layout/ro/static-upload/regulament-bf-autoitalia.PDF"),392:"https://".concat(EM.CDN,"/layout/ro/static-upload/skm-c25821111011580-bavaria.pdf"),13156:"https://".concat(EM.CDN,"/layout/ro/images/db/38/57268.pdf"),2227:"https://".concat(EM.CDN,"/layout/ro/images/db/38/57269.pdf"),615:"https://".concat(EM.CDN,"/layout/ro/images/db/38/57270.pdf"),11:"https://".concat(EM.CDN,"/layout/ro/images/db/38/57271.pdf"),18543:"https://".concat(EM.CDN,"/layout/ro/static-upload/regulamentul-bf-2021-business-development-team-srl.pdf"),5705:"https://".concat(EM.CDN,"/layout/ro/static-upload/regulamentul-bf-2021-auto-draft-v3-1410-autoworld.pdf"),102227:"https://".concat(EM.CDN,"/layout/ro/static-upload/automotozen.pdf"),51607:"https://".concat(EM.CDN,"/layout/ro/static-upload/regulamentul-bf-2021-semnat-avia-motos.pdf"),69634:"https://".concat(EM.CDN,"/layout/ro/static-upload/regulamentul-bf-2021-setsail1.pdf"),50587:"https://".concat(EM.CDN,"/layout/ro/static-upload/regulamentul-bf-2021-plus-auto-trade.pdf"),68844:"https://".concat(EM.CDN,"/layout/ro/static-upload/regulament-oficial-al-campaniei-go-camper.pdf"),102766:"https://".concat(EM.CDN,"/layout/ro/static-upload/regulament-bf-2021-auto-nissan-rcr-final.pdf")},bg:(_defineProperty(e={5145:"https://".concat(EM.CDN,"/layout/bg/images/db//12/17444.pdf"),14026:"https://".concat(EM.CDN,"/layout/bg/images/db//12/17445.pdf"),5175:"https://".concat(EM.CDN,"/layout/bg/images/db//12/17446.pdf"),5008:"https://".concat(EM.CDN,"/layout/bg/images/db//12/17447.pdf"),29936:"//".concat(EM.CDN,"/layout/bg/images/db/15/22549.pdf"),28841:"https://emagmktp.com/seller//Mila/BF2018/pr/22553.pdf",29953:"//".concat(EM.CDN,"/layout/bg/images/db/15/22466.pdf"),30319:"//".concat(EM.CDN,"/layout/bg/images/db/15/22482.PDF"),28873:"//".concat(EM.CDN,"/layout/bg/images/db/15/22486.pdf"),28810:"//".concat(EM.CDN,"/layout/bg/images/db//15/22470.pdf"),29146:"//".concat(EM.CDN,"/layout/bg/images/db/15/22491.pdf")},"5175","//".concat(EM.CDN,"/layout/bg/images/db//15/22479.pdf")),_defineProperty(e,29750,"//".concat(EM.CDN,"/layout/bg/images/db//15/22465.pdf")),_defineProperty(e,30291,"//".concat(EM.CDN,"/layout/bg/images/db/15/22590.pdf")),_defineProperty(e,29515,"//".concat(EM.CDN,"/layout/bg/images/db//15/22626.pdf")),_defineProperty(e,30528,"//".concat(EM.CDN,"/layout/bg/images/db/15/22544.pdf")),_defineProperty(e,29442,"//".concat(EM.CDN,"/layout/bg/images/db/15/22495.pdf")),_defineProperty(e,29155,"https://emagmktp.com/seller/Mila/BF2018/pr/22487-rotated.pdf"),_defineProperty(e,30821,"//".concat(EM.CDN,"/layout/bg/images/db/15/22494.pdf")),e),hu:{13855:"https://".concat(EM.CDN,"/layout/hu/images/db//15/21952.pdf"),13823:"https://".concat(EM.CDN,"/layout/hu/images/db//15/21953.pdf"),13800:"https://".concat(EM.CDN,"/layout/hu/images/db//15/21954.pdf"),13827:"https://".concat(EM.CDN,"/layout/hu/images/db//15/21955.pdf"),6316:"https://".concat(EM.CDN,"/layout/hu/images/db//15/21956.pdf"),13852:"https://".concat(EM.CDN,"/layout/hu/images/db//15/21957.pdf"),2249:"https://".concat(EM.CDN,"/layout/hu/images/db//15/21970.pdf"),13859:"https://".concat(EM.CDN,"/layout/hu/images/db//15/21959.pdf"),13780:"https://".concat(EM.CDN,"/layout/hu/images/db//15/21960.pdf"),9271:"https://".concat(EM.CDN,"/layout/hu/images/db//15/21972.pdf"),8668:"https://".concat(EM.CDN,"/layout/hu/images/db//15/21962.pdf"),12719:"https://".concat(EM.CDN,"/layout/hu/images/db//15/21963.pdf"),13964:"https://".concat(EM.CDN,"/layout/hu/images/db//15/21964.pdf"),13858:"https://".concat(EM.CDN,"/layout/hu/images/db//15/21973.pdf"),13946:"https://".concat(EM.CDN,"/layout/hu/images/db//15/21966.pdf"),13825:"https://".concat(EM.CDN,"/layout/hu/images/db//15/21974.pdf"),30699:"//".concat(EM.CDN,"/layout/hu/static-upload/bf-special-terms-30699.pdf"),30890:"//".concat(EM.CDN,"/layout/hu/static-upload/bf-special-terms-30890.pdf"),30891:"//".concat(EM.CDN,"/layout/hu/static-upload/bf-special-terms-30891.pdf"),30716:"//".concat(EM.CDN,"/layout/hu/static-upload/bf-special-terms-30716.pdf")}}[EM.locale][null===(e=EM.offer)||void 0===e||null===(t=e.vendor)||void 0===t?void 0:t.id];PH.live(document,"click",".auto-add-to-cart",function(e){var t,a;e.preventDefault(),o&&(e=EM.TMPL.exec("@Pages/Product/components/AutoAddToCart/template.html.twig",{app:EM.APP,offer:EM.offer,product_id:EM.product_id,terms_and_conditions:o,name:(null===(t=EM.user_data)||void 0===t?void 0:t.name)||"",phone:EM.user_phone_number||"",email:EM.user_email||""}),(t=new PH.Modal({content:e,showHeader:!1,size:"modal-sm"})).on("close",t.destroy),t.open(),e=t.element(),t=PH.q("#auto-form",e),a=PH.q("#auto-select-county",e),PH.Validator.addValidatorToForm(t,{validateOnBlur:!0},{}),sapi.getRegions().then(function(e){e=e.data.map(function(e){return{text:e.name,value:e.id}});n(a,e,1)}),PH.Widget.autoInit(e),PH.on(a,"change",function(e,t){var a=PH.q("#auto-select-city",e);sapi.getAllCities({region_id:t.target.value}).then(function(e){var t=[{text:EM.trans("Choose"),value:"",disabled:!0,selected:!0}],e=e.data.map(function(e){var t=e.name,a=e.parent_name,e=e.id;return{text:t!==a?"".concat(t," (").concat(a,")"):t,value:e}});n(a,[].concat(t,_toConsumableArray(e)),0)})}.bind(_this24,e)),PH.on(t,"submit",i.bind(_this24,e)))})}(),function(d,c){"use strict";var e;d&&c&&(e=function(){function e(){_classCallCheck(this,e),this.createModal(),this.init()}return _createClass(e,[{key:"createModal",value:function(){this.modal=new c.Modal({content:'<div id="template-modal-scheduled-delivery"></div>',className:"modal-scheduled-delivery",showHeader:!1,fullscreen:!0}),this.el=this.modal.element(),this.modalPlaceholder=c.q("#template-modal-scheduled-delivery",this.el)}},{key:"init",value:function(){this.open=this.modal.open.bind(this.modal),this.close=this.modal.close.bind(this.modal),this.onRender=this.onRender.bind(this),c.live(this.el,"click",".close",this.close),this.el.addEventListener("PHScheduledDeliveryRender",this.onRender),this.initScrolling()}},{key:"onRender",value:function(){this.initElements()}},{key:"initElements",value:function(){this.elements=this.elements||{},this.elements.scroller=c.q(".js-scheduled-delivery-scroller",this.el),this.elements.container=c.q(".js-scheduled-delivery-container",this.el),this.elements.scrollLeft=c.q(".js-scheduled-delivery-scroll.js-left",this.el),this.elements.scrollRight=c.q(".js-scheduled-delivery-scroll.js-right",this.el)}},{key:"initScrolling",value:function(){var a=this;c.live(this.el,"click",".js-scheduled-delivery-scroll",function(e,t){c.hasClass(t,"js-left")?(a.elements.container.classList.remove("scrolled-left"),a.elements.scrollLeft.classList.add("hidden"),a.elements.scrollRight.classList.remove("hidden")):(a.elements.container.classList.add("scrolled-left"),a.elements.scrollLeft.classList.remove("hidden"),a.elements.scrollRight.classList.add("hidden"))})}},{key:"setScheduledDelivery",value:function(){var s=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};try{var l=new Date;l.setHours(0),l.setMinutes(0),this.intervalCount=0,e.forEach(function(e){s.intervalCount=Math.max(s.intervalCount,e.index);var t=new c.Date(c.getDateFromString(e.start),d.locale),a=new c.Date(c.getDateFromString(e.stop),d.locale),n=t.getDayMonth(),i=t.getHourMinutes(),o=a.getHourMinutes();r[n]||(a=Math.floor((Date.parse(t.date)-Date.parse(l))/864e5),t=c.capitalize(t.getWeekDay()),r[n]={daysDiff:a,weekDay:t,intervals:[]}),r[n].intervals[e.index]={start:i,stop:o,tax:e.tax},s.firstScheduledDelivery||(s.firstScheduledDelivery={when:n,daysDiff:r[n].daysDiff,start:i[0]+":"+i[1]})})}catch(e){}this.estimates=r,this.render()}},{key:"render",value:function(){this.modalPlaceholder.innerHTML=d.TMPL.exec("@Pages/Product/components/ModalScheduledDelivery/template.html.twig",{estimates:this.estimates,intervalCount:this.intervalCount,showDeliveryCosts:d.siteModules.Delivery_costs_in_Product_page}),c.trigger(this.el,"PHScheduledDeliveryRender")}}]),e}(),d.ScheduledDelivery=e)}(EM,PH),function(m,f){var h,v;m&&f&&(h=m.UserLocation,m.user_favorite_pickup_point?localStorage.setItem("favorite_delivery_point",m.user_favorite_pickup_point):localStorage.removeItem("favorite_delivery_point"),v={emphasize:null,emphasizeHidden:!1,samedayDelivery:m.SamedayDelivery?new m.SamedayDelivery:null,scheduledDelivery:m.ScheduledDelivery?new m.ScheduledDelivery:null,logger:{noEstimate:function(){dataLayer&&dataLayer.push({event:"gaEvent",ec:"website_action",ea:"product_page_no_estimate"})}},getPickupPoints:function(e,c){var t,a,u=h.getLocation(),p=m.has_pickup&&!v.emphasizeHidden&&m.siteModules.Emphasize_showroom_pickup;u.region.id&&m.has_pickup&&e?(t=!(u.type==h.type.user||!u.latitude||!u.longitude),a={region:u.region.id,locality:u.locality.id,products:e},t&&(a.lat=u.latitude,a.long=u.longitude,a.radius=10),e=[(t?sapi.getPointsByCoordinates:sapi.getPointsByLocation)(a),sapi.getNearestPoint({region:u.region.id,locality:u.locality.id,products:e})],f.when(e).always(function(e,t){var a=parseInt(u.locality.id,10),n=e&&e.data?e.data:[],i=t&&t.data?t.data:null,o=n,s=m.siteModules.Save_as_Favorite_pickup_point&&localStorage.getItem("favorite_delivery_point"),e=!1;!s||(t=o.find(function(e){return e.id===s}))&&0!=t.is_active&&((d=t).auto_selected=!1,v.emphasizeHidden=!0,e=!(v.emphasize=null)),i&&f.trigger(m.dispatcher,"PHEmphasizePointLoaded",i),p&&i&&!e&&-1==(f.storage.get("PHDEDontEmphasize")||[]).indexOf(i.type)&&(v.emphasize={delivery_point:i.delivery_point,type:i.type});try{!d&&v.emphasize&&v.emphasize.delivery_point&&(!u.point.common_key||u.point.common_key&&u.point.auto_selected)&&(d=n.find(function(e){return e.id===v.emphasize.delivery_point.id})||null);function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return(e=!(e=!e&&i?n.find(function(e){return e.id===i.delivery_point.id})||null:e)&&u.locality?o.find(function(e){return e.force_selection&&e.locality.id==u.locality.id})||null:e)&&(e.auto_selected=!0),e}var l,d;!d&&o.length&&(1==o.length?d=o[0]:u.point.common_key?((d=o.find(function(e){return e.id===u.point.common_key})||null)&&(d.auto_selected=!1),d&&!u.point.auto_selected||(l=r())&&(d=l)):d=d||r()),u.pointCount=o.length||n.length,u.localityHasPoints=!!o.length}catch(e){}d&&0!=d.is_active?u.point={common_key:d.id,index:0,localityId:a,auto_selected:void 0===d.auto_selected||d.auto_selected,name:d.name,id:d.id}:void 0!==u.point&&(delete u.point,o&&o.length&&(u.point={count:o.length})),h.setLocation(u),c&&c()})):c&&c()},getEstimate:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(this.hasDataToRequest&&a.products&&a.source){var n=h.getLocation();if(a.request_no||(a.request_no=e),a.courier_types||(a.courier_types=v.courierTypes),!a.localities&&n.locality.id&&(a.localities=[n.locality.id]),!a.delivery_points&&n.point.common_key&&m.has_pickup&&(a.delivery_points=[n.point.common_key]),v.emphasize&&!v.emphasizeHidden&&v.emphasize.delivery_point&&n.point.common_key!=v.emphasize.delivery_point.id&&(a.delivery_points=a.delivery_points||[],a.delivery_points.push(v.emphasize.delivery_point.id)),m.has_pickup||(a.delivery_points=[]),a.localities||a.delivery_points)return a.insured_value||(a.insured_value=a.products.reduce(function(e,t){return e+t.quantity*t.fullPrice},0)),a.total_value||(a.total_value=a.products.reduce(function(e,t){return e+t.quantity*t.price},0)),a.is_estimate_active=1,sapi.getDeliveryEstimate(t,a)}},parseEstimate:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o={};try{e.estimates&&e.estimates.courier&&e.estimates.courier.length?(e.estimates.courier.forEach(function(e){var t,a,n,i;o=e.locality,v.samedayDelivery&&v.samedayDelivery.setSamedayDelivery(e.estimates.same_day),v.scheduledDelivery&&v.scheduledDelivery.setScheduledDelivery(e.estimates.scheduled_delivery),e.estimates.default&&(t=f.getDateFromString(e.estimates.default[0].start),a=f.getDateFromString(e.estimates.default[0].stop),i={useShortMonthNames:!0},(n=new Date).getDate()==t.getDate()?i.relativeDayName=f.capitalize(m.trans("today")):n.getDate()+1!=t.getDate()||a&&a.getDate()!=t.getDate()||(i.relativeDayName=f.capitalize(m.trans("tomorrow"))),i={start:new f.Date(t,m.locale).getDayWeekDayMonth(i),stop:new f.Date(a,m.locale).getDayWeekDayMonth(i)},e.estimate=i.start,i.start!=i.stop&&(e.estimate+=" – "+i.stop),e.estimates.default[0].start||(e.estimate=""))}),m.siteModules.Tazz_delivery_emphasize_in_PD&&!sessionStorage.tazz_delivery_emphasize&&(e.tazz_delivery_emphasize=!!e.estimates.courier[0].estimates.flexible_schedule)):(v.samedayDelivery&&v.samedayDelivery.setSamedayDelivery([]),v.scheduledDelivery&&v.scheduledDelivery.setScheduledDelivery([]));var t={},a=h.getLocation();e.estimates&&e.estimates.pickup&&!e.estimates.pickup.length&&(e.estimates.pickup=[e.estimates.pickup]),e.estimates&&e.estimates.pickup&&e.estimates.pickup.length&&(e.estimates.pickup.forEach(function(e){var t=e.estimates.default[0];t.start&&(t=v.parsePickupEstimate(t),e.estimates=f.merge(e.estimates,t))}),t={main:a.point?e.estimates.pickup.find(function(e){return e.delivery_point.id==a.point.common_key}):null,emphasize:v.emphasize&&v.emphasize.delivery_point?e.estimates.pickup.find(function(e){return e.delivery_point.id==v.emphasize.delivery_point.id}):null}),v.emphasize&&!v.emphasizeHidden&&(e.estimates.emphasize=v.emphasize,e.estimates.emphasize.estimates=t.emphasize?t.emphasize.estimates:null),e.estimates.pickup=t.main||null}catch(e){}if(1!=m.vendor_id&&!m.has_pickup&&!m.is_fde_eligible)return e;var n=h.getLocation(),i=n.point;!i.common_key&&n.pointCount&&(e.multiple_points=n.pointCount);t=n.locality;(t=!t.main_loc?o:t).sub_loc||(t.sub_loc=t.main_loc||t.name),t.sub_loc&&(e.locality=t),e.localityHasPoints=n.localityHasPoints,e.region=n.region,e.estimates||(e.is_error=!0),i.common_key&&m.has_pickup&&(e.is_error||1!=m.vendor_id)&&(e.pickup_name=i.name);t=m.siteModules.Save_as_Favorite_pickup_point&&localStorage.getItem("favorite_delivery_point"),n=localStorage.getItem("recommended_delivery_point");return t&&t===i.common_key&&(e.is_favorite=!0),n&&n===i.common_key&&(e.is_recommended=!0),e},parsePickupEstimate:function(e){var t={},a=f.getDateFromString(e.start),n=e.stop?f.getDateFromString(e.stop):null,i=new Date;return a.toDateString()==i.toDateString()?a.getTime()>i.getTime()?(t.today=!0,e=new f.Date(a,m.locale).getHourMinutes(),t.hour="".concat(e[0],":").concat(e[1])):t.now=!0:a.getDate()!=i.getDate()+1||n?a&&n&&a.getDate()!==n.getDate()?t.estimate=new f.Date(a,m.locale).getDayWeekDayMonth({useShortMonthNames:1})+" - "+new f.Date(n,m.locale).getDayWeekDayMonth({useShortMonthNames:1}):a&&(t.estimate=new f.Date(a,m.locale).getDayWeekDayMonth({useShortMonthNames:1}),n=new f.Date(a,m.locale).getHourMinutes(),t.hour="".concat(n[0],":").concat(n[1])):(t.tomorrow=!0,a=new f.Date(a,m.locale).getHourMinutes(),t.hour="".concat(a[0],":").concat(a[1])),t},courierTypes:{},hasDataToRequest:!1},m.siteModules.product_delivery_estimate&&(v.courierTypes.default="best_time",v.hasDataToRequest=!0),m.siteModules&&m.siteModules.scheduled_delivery&&m.has_3h_delivery&&(v.courierTypes.scheduled_delivery="all_times",v.hasDataToRequest=!0),m.siteModules&&m.siteModules.sameday_delivery&&m.has_same_day_delivery&&(v.courierTypes.same_day="all_times",v.hasDataToRequest=!0),m.siteModules&&m.siteModules.two_hour_delivery&&m.has_2h_delivery&&(v.courierTypes.flexible_schedule="best_time",v.hasDataToRequest=!0),m.siteModules&&m.siteModules.courier_6h&&m.has_courier_6h_delivery&&(v.courierTypes["6h"]="best_time",v.hasDataToRequest=!0),m.DeliveryEstimateHelper=v)}(EM,PH),function(c,u,p){var m,i,o,e;c&&(m=p.DeliveryEstimateHelper,i=p.UserLocation,o={},e=function(){"use strict";function t(e){var a=this;_classCallCheck(this,t),this.DED=e||{},this.DED.hasEstimate=!1,p.is_de_panel_expanded="c"===p.abTestsAuto.getById("genius_benefits"),this.DLHighDemandImression=!0;e={clear:function(e){this.render()},response:function(e){var t=this,a=e.data;i.getLocation().point.common_key||a.skip_point?this.showEstimate(a):m.getPickupPoints(this.DED.getProducts(),function(){i.getLocation().point.common_key||m.emphasize&&p.siteModules.Emphasize_showroom_pickup?t.getEstimate():t.showEstimate(a)})}};u.on(p.dispatcher,"PHDeliveryEstimateClear",e.clear.bind(this)),u.on(p.dispatcher,"PHDeliveryEstimateResponse",e.response.bind(this)),u.on(p.dispatcher,"locationUpdated",this.getEstimate.bind(this)),u.on(p.dispatcher,"MapComponentDidUpdate",setTimeout.bind(null,function(){i.getLocation().point.common_key?a.getEstimate():m.getPickupPoints(a.DED.getProducts(),a.getEstimate.bind(a))},0)),u.on(p.dispatcher,"AlternativePointsLoaded",function(e){a.render(a.oldData)}.bind(this)),u.live(c,"click",".js-open-sameday-delivery",m.samedayDelivery.open),u.live(c,"click",".js-open-scheduled-delivery",m.scheduledDelivery.open),u.live(c,"click",".js-de-panel-toggler",function(){p.is_de_panel_expanded=!p.is_de_panel_expanded,a.render(a.oldData),a.pushDataLayerEvent("click")}),u.live(c,"change",".js-de-region",function(e,t){a.oldData.location.selected={region:a.oldData.location.regions.find(function(e){return e.id==t.value})},a.getLocalities(t.value)}),u.live(c,"change",".js-de-city",function(e,t){a.oldData.location.selected.locality=a.oldData.location.selected.region.localities.find(function(e){return e.id==t.value}),u.trigger(p.dispatcher,"MapComponentDidUpdate",u.merge({type:i.type.user,point:{},points:[]},a.oldData.location.selected))}),u.live(c,"click",".js-rec-esb-link",function(e,t){dataLayer.push({event:"gaEvent",ea:"PD High Demand See Recommandation",ec:"website_sandbox_events",el:u.getData(t,"recommendedPoint")})}),this._onInit()}return _createClass(t,[{key:"_onInit",value:function(){i.init(),this.render(null,!0),p.has_pickup?m.getPickupPoints(this.DED.restrictions.pickup,this.getEstimate.bind(this)):this.getEstimate()}},{key:"apiSuccessHandler",value:function(e,t){!e.data||e.data.is_error?this.apiErrorHandler(t):this.DED.hasEstimate=!0,e.skip_point=!0,u.trigger(p.dispatcher,"PHDeliveryEstimateResponse",e)}},{key:"apiErrorHandler",value:function(e){var t=this;e?m.logger.noEstimate():setTimeout(function(){t.getEstimate(!0)},3e3)}},{key:"getECMlink",value:function(){var e=this,t=i.getLocation();this.ECMlink="";var a,n,t={region:t.region.id,locality:t.locality.id,part_number_key:p.pnk};t.region&&t.locality&&(a=JSON.stringify(t),n=function(){e.ECMlink=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).url,e.render(e.oldData)}.bind(this),o[a]?n(o[a]):sapi.getECMlink(t).then(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e.data&&e.data.url&&dataLayer.push({event:"gaEvent",ec:"Product Page Buttons",ea:"Display ecm-fast-delivery"}),o[a]=e.data,n(e.data)}))}},{key:"renderUserLocation",value:function(){this.render(this.oldData),u.Widget.autoInit(c)}},{key:"getRegions",value:function(){var t=this;sapi.getRegions({},{form:c}).then(function(e){t.oldData.location.regions=e.data,t.renderUserLocation()})}},{key:"getLocalities",value:function(t){var a=this,n=this.oldData.location.regions.find(function(e){return e.id==t});if(n.localities)return this.renderUserLocation();sapi.getCities({region:t},{form:c}).then(function(e){n.localities=e.data,a.renderUserLocation()})}},{key:"getEstimate",value:function(t){var e,a=this;p.siteModules.product_delivery_estimate&&((e=m.getEstimate(!0===t?2:1,{form:u.q(".js-de-box",c)||c},{products:this.DED.restrictions.estimate,source:this.DED.source}))?e.then(function(e){a.apiSuccessHandler(e,t),u.trigger(p.dispatcher,"EstimateDone",u.merge({},e))}).fail(function(){a.apiErrorHandler(t)}):(this.DED.hasEstimate=!1,this.render(this.oldData)))}},{key:"showEstimate",value:function(e){e=e.data||{};(e=(e=m.parseEstimate(e))||{}).has_pickup=p.has_pickup,p.siteModules.ECM_delivery_in_PD&&p.pnk&&-1<[1,2,3].indexOf(p.offer.availability.id)&&this.getECMlink(),this.render(e)}},{key:"pushDataLayerEvent",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"load";if(c){for(var t,a,n=c.querySelectorAll("[data-method]"),i=[],o=0,s=n.length;o<s;o++)u.isVisible(n[o])&&(t=n[o].getAttribute("data-method"),a=n[o].getAttribute("data-start")||"","genius"==t&&(a=new Date).setDate(a.getDate()+1),i.push({method:n[o].getAttribute("data-method-name"),interval_estimate:a?new Date(a)-new Date:0,cost_estimate:parseFloat(n[o].getAttribute("data-cost")||0)}));dataLayer.push({event:"delivery_estimate",ea:e,estimate_information:i})}}},{key:"render",value:function(e,t){var a,n,i=!sessionStorage.genius_delivery_emphasize&&!sessionStorage.tazz_delivery_emphasize&&e&&e.estimates&&e.estimates.emphasize,o=!sessionStorage.genius_delivery_emphasize&&e&&e.tazz_delivery_emphasize,s=!1;e=e||{},t||e.estimates||e.locality||(e.location||(e.location={}),e.location.regions||(this.getRegions(),e.location.regions=[]));try{var r=e.estimates.courier[0].estimates.default[0],l=u.getDateFromString(r.start).getDate(),d=(new Date).getDate()+1<l&&6!=(new Date).getDay(),s=p.siteModules.Genius_push_in_Product_Page&&!sessionStorage.genius_delivery_emphasize&&0==r.cost.genius_cost&&!r.cost.discount&&r.tax&&d}catch(e){}"a"==u.cookie.get("eab347")&&(s=!1),c.innerHTML=p.TMPL.exec("@Pages/Product/components/HighlightsDeliveryEstimate/template.html.twig",{data:e,locale:p.locale,today:(new Date).toISOString().substr(0,19),ECMlink:this.ECMlink||"",isVendor:1!=p.vendor_id,isFdeEligible:p.is_fde_eligible,showDeliveryCosts:p.siteModules.Delivery_costs_in_Product_page,hasPickup:p.has_pickup,has2hDelivery:p.has_2h_delivery,has3hDelivery:p.has_3h_delivery,hasSameDayDelivery:p.has_same_day_delivery,hasCourier6HDelivery:p.has_courier_6h_delivery,hasDeliveryEstimate:p.siteModules.product_delivery_estimate,hasEmphasize:i,hasTazzEmphasize:o,hasGeniusEmphasize:s,firstSamedayDelivery:!(!m.samedayDelivery||!m.samedayDelivery.firstSamedayDelivery)&&m.samedayDelivery.firstSamedayDelivery,firstScheduledDelivery:!(!m.scheduledDelivery||!m.scheduledDelivery.firstScheduledDelivery)&&m.scheduledDelivery.firstScheduledDelivery,loadingData:t,isExpanded:!!p.is_de_panel_expanded}),JSON.stringify(this.oldData||{})!==JSON.stringify(e||{})&&(this.pushDataLayerEvent(),s?dataLayer.push({ea:"genius push PD",ec:"website_sandbox_events",el:"impression",event:"gaEvent"}):i||u.qs(".js-highlights-delivery-estimate-main .js-upsell-genius-open-modal").forEach(function(e){dataLayer.push({event:"gaEvent",ea:"Display up-sell genius PD",ec:"website_sandbox_events",el:u.hasClass(e,"pickup-option")?"pickup free":"courier free"})}),null!==e&&void 0!==e&&null!==(a=e.estimates)&&void 0!==a&&null!==(n=a.pickup)&&void 0!==n&&n.recommended_delivery_point?this.DLHighDemandImression&&(dataLayer.push({event:"gaEvent",ea:"PD High Demand Impression",ec:"website_sandbox_events",el:e.estimates.pickup.delivery_point.name}),this.DLHighDemandImression=!1):this.DLHighDemandImression=!0),this.oldData=e}}]),t}(),p.DeliveryEstimateHighlights=e)}(PH.q(".delivery-estimate-panel"),PH,EM),function(){var e={render:function(){return PH.node(EM.TMPL.exec("@Pages/Product/components/Safebuy/Badge/template.html.twig",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}))}};EM.Safebuy=EM.Safebuy||{},EM.Safebuy.Badge=e}(),function(){var e=PH.qs(".js-trigger-safebuy-modal");PH.on(e,"click",function(e){var t;null==e||null!==(t=e.preventDefault)&&void 0!==t&&t.call(e),new EM.Safebuy.Modal({placeholder:e.currentTarget})})}(),function(){var a=null,e=function(){"use strict";function t(e){e=e.placeholder;_classCallCheck(this,t),a||((a=new PH.Modal({content:EM.TMPL.exec("@Pages/Product/components/Safebuy/Modal/template.html.twig"),className:"safebuy-modal",showHeader:!1})).on("close",function(){a.destroy(),a=null}),this.fetchAndOpen({placeholder:e}))}return _createClass(t,[{key:"fetchAndOpen",value:function(e){e=e.placeholder;ajax({url:"/lps/safebuy",form:e}).then(function(e){e=(new DOMParser).parseFromString(e,"text/html"),e=PH.q("#safebuy-lp",e).outerHTML;PH.q(".modal-body-holder",a.element()).innerHTML=e,a.open()})}}]),t}();EM.Safebuy=EM.Safebuy||{},EM.Safebuy.Modal=e}(),function(){function U(e){"use strict";var t,a,n,i,o,s,r,l,d,c,u,p,m,f,h,v,g,_,y,b,w,P,E,M,k,x,C,D,H,S,L,j,A,I;_classCallCheck(this,U);var T,z,O,q,R,N=!0,F=!0,B=!0,G=!0;e&&null!==(t=EM)&&void 0!==t&&t.is_bnpl_eligible&&null!==(a=EM)&&void 0!==a&&null!==(n=a.bnpl)&&void 0!==n&&n.is_eligible&&null!==(i=EM)&&void 0!==i&&null!==(o=i.siteModules)&&void 0!==o&&o.BNPL_payment_option&&!(2e3<(null===(o=EM)||void 0===o||null===(s=o.offer)||void 0===s||null===(r=s.price)||void 0===r?void 0:r.current))||(N=!1),e&&null!==(l=EM)&&void 0!==l&&null!==(d=l.emag_pay)&&void 0!==d&&d.is_bnpl2_eligible&&null!==(c=EM)&&void 0!==c&&null!==(u=c.offer)&&void 0!==u&&null!==(p=u.bnpl2)&&void 0!==p&&p.is_eligible&&null!==(m=EM)&&void 0!==m&&null!==(f=m.siteModules)&&void 0!==f&&f.BNPL2_payment_option||(F=!1),e&&null!==(h=EM)&&void 0!==h&&null!==(v=h.emag_pay)&&void 0!==v&&v.is_slice_it_eligible&&null!==(g=EM)&&void 0!==g&&null!==(_=g.offer)&&void 0!==_&&null!==(y=_.slice_it)&&void 0!==y&&y.is_eligible&&null!==(b=EM)&&void 0!==b&&null!==(w=b.siteModules)&&void 0!==w&&w.SLICEIT_payment_option||(B=!1),e&&F&&B&&null!==(P=EM)&&void 0!==P&&null!==(E=P.offer)&&void 0!==E&&null!==(M=E.bnpl2_slice_it)&&void 0!==M&&M.is_eligible||(G=!1),(N||B||F||G)&&((F||B||G)&&(null===(N=EM)||void 0===N||null===(k=N.offer)||void 0===k||null===(x=k.price)||void 0===x?void 0:x.current)>(null===(x=EM)||void 0===x||null===(C=x.emag_pay)||void 0===C||null===(D=C.emag_pay_credit)||void 0===D?void 0:D.available)||(T="bnpl",G?T="bnpl2_slice_it":F?T="bnpl2":B&&(T="slice_it"),z={bnpl:{icon:"/layout/ro/static-upload/icon-bnpl.svg",title:EM.trans("Buy Now, Pay Later"),description:EM.trans("How it works"),step1:EM.trans("Order what you want from the Fashion category, up to 1000 lei"),step2:EM.trans("Try the outfits at home and return at no cost what does not suit you"),step3:EM.trans("You'll pay on the 15th day only the products you have kept"),img_header:"/layout/ro/static-upload/bnpl-logo-with-badge.png",img_body_desktop:"/layout/ro/static-upload/undraw-web-shopping-re-owapat2x.png",img_body_mobile:"/layout/ro/static-upload/msite-undraw-web-shopping-re-owapat2x.png"},bnpl2:{icon:"/layout/ro/static-upload/product-modal-ic-header-bnpl2-slice.png",title:EM.trans("product_bnpl2_modal_title"),description:EM.trans("product_bnpl2_modal_description"),step1:EM.trans("product_bnpl2_modal_step1"),step2:EM.trans("product_bnpl2_modal_step2"),step3:EM.trans("product_bnpl2_modal_step3"),img_header:"/layout/ro/static-upload/product-modal-ic-header-bnpl2-slice.png",img_body_desktop:"/layout/ro/static-upload/product-modal-ic-body-bnpl2.png",img_body_mobile:"/layout/ro/static-upload/product-modal-ic-body-bnpl2.png"},slice_it:{icon:"/layout/ro/static-upload/product-modal-ic-header-bnpl2-slice.png",title:EM.trans("product_slice_it_modal_title"),description:EM.trans("product_slice_it_modal_description"),step1:EM.trans("product_slice_it_modal_step1"),step2:EM.trans("product_slice_it_modal_step2"),step3:EM.trans("product_slice_it_modal_step3"),img_header:"/layout/ro/static-upload/product-modal-ic-header-bnpl2-slice.png",img_body_desktop:"/layout/ro/static-upload/product-modal-ic-body-slice.png",img_body_mobile:"/layout/ro/static-upload/product-modal-ic-body-slice.png"},bnpl2_slice_it:{icon:"/layout/ro/static-upload/product-modal-ic-header-bnpl2-slice.png",title:EM.trans("product_bnpl2_slice_it_modal_title"),description:EM.trans("product_bnpl2_slice_it_modal_description"),step1:EM.trans("product_bnpl2_slice_it_modal_step1"),step2:EM.trans("product_bnpl2_slice_it_modal_step2"),step3:EM.trans("product_bnpl2_slice_it_modal_step3"),img_header:"/layout/ro/static-upload/product-modal-ic-header-bnpl2-slice.png",img_body_desktop:"/layout/ro/static-upload/product-modal-ic-body-bnpl2-slice.png",img_body_mobile:"/layout/ro/static-upload/product-modal-ic-body-bnpl2-slice.png"}},O=EM.trans(null===(B=EM)||void 0===B||null===(H=B.offer)||void 0===H||null===(O=H[T])||void 0===O?void 0:O.notification)||EM.trans(null===(S=EM[T])||void 0===S?void 0:S.notification)||"",q=EM.trans(null===(S=EM)||void 0===S||null===(L=S.offer)||void 0===L||null===(q=L[T])||void 0===q?void 0:q.description)||EM.trans(null===(j=EM[T])||void 0===j?void 0:j.description)||"",R=EM.trans(null===(j=EM)||void 0===j||null===(A=j.offer)||void 0===A||null===(I=A[T])||void 0===I?void 0:I.url_description)||EM.trans(null===(R=EM[T])||void 0===R?void 0:R.url_description)||EM.trans("see how it works"),e.innerHTML=EM.TMPL.exec("@Pages/Product/components/BNPL/template.html.twig",{notification:O,description:q,url_description:R,icon:z[T].icon}),PH.live(e,"click",".js-bnpl-modal-trigger",function(e){PH.stopEvent(e);var e=EM.TMPL.exec("@Pages/Product/components/BNPL/templates/modal.html.twig",{data:z[T]}),t=new PH.Modal({content:e,size:"modal-md",showHeader:!1});t.on("close",function(){return t.destroy()}),t.open()}),dataLayer.push({event:"gaEvent",ec:"website_sandbox_events",ea:"Impression BNPL pd modal",el:void 0})))}EM.WidgetBNPL=U}(),function(){EM.has_unfair_price&&(EM.multiple_offers_count++,EM.multiple_offers=[EM.offer].concat(_toConsumableArray(EM.multiple_offers)));function r(e){var t=new PH.Modal({content:e,size:"slide",showHeader:!1,fullscreen:!0,className:"modal-es"});return t.on("close",function(){return t.destroy()}),t.open(),t}function a(e){"use strict";var t,o,i,s;_classCallCheck(this,a),e&&(e.innerHTML=EM.TMPL.exec("@Pages/Product/components/ExtraServices/template.html.twig",{casco:EM.offer.flags.has_services&&(null===(t=EM.offer.services)||void 0===t?void 0:t.casco),extra_warranty:EM.offer.flags.has_services&&(null===(t=EM.offer.services)||void 0===t?void 0:t.extra_warranty),resealed:EM.flags.has_used&&EM.used_offers,multiple:EM.has_multiple_offers&&{price:EM.multiple_min_price,count:EM.multiple_offers_count}}),o={},PH.live(e,"click",".js-es-eprotect-modal-trigger",function(e){PH.stopEvent(e),o={};function n(e){i.innerHTML=EM.TMPL.exec("@Pages/Product/components/ExtraServices/templates/eProtect/step-".concat(e,".html.twig"),{options:EM.offer.services.casco,eProtectFD:o,offerId:EM.offer_id})}var e=EM.TMPL.exec("@Pages/Product/components/ExtraServices/templates/eProtect/step-1.html.twig",{options:EM.offer.services.casco,offerId:EM.offer_id}),a=r(e),t=a.element(),i=PH.q(".modal-content",t);PH.live(t,"mousedown",".js-es-eprotect-option",function(e,t){PH.stopEvent(e),o.option=t,n(2)}),PH.live(t,"submit",".js-easycare-user-form",function(e,t){var a;PH.stopEvent(e),PH.Validator.addValidatorToForm(t,{validateOnChange:!0,validateOnBlur:!0,validateOnSubmit:!0},{}).validate()&&(o=_objectSpread(_objectSpread({},o),Object.fromEntries(new FormData(t).entries())),n(3),t=function e(){var t=PH.q(".js-es-finish-easycare");t&&(t.disabled=!1),PH.off(a,"scroll",e)},(a=PH.q(".js-es-scrollable-area"))&&PH.on(a,"scroll",t))}),PH.live(t,"mousedown",".js-easycare-step",function(e,t){PH.stopEvent(e),n(PH.getData(t,"step"))}),PH.live(t,"click",".js-es-close",function(e,t){PH.stopEvent(e),a.close()}),PH.live(t,"click",".js-es-finish-easycare",function(){sapi.easyCareSaveUser({first_name:o.name,last_name:o.last_name,personal_identity_code:o.cnp},{form:t}).then(function(){a&&a.close(),PH.trigger(EM.dispatcher,"EasyCareSelected",{data:o.option,pageType:"product_page"}),s("casco")}).catch(function(){})})}),PH.live(document,"click",".js-es-resealed-modal-trigger",function(e){PH.stopEvent(e);e=EM.TMPL.exec("@Pages/Product/components/ExtraServices/templates/resealed.html.twig",{app:EM.APP,product:EM.product,offers:EM.used_offers,localeData:EM.locale});r(e)}),PH.live(document,"click",".js-es-other-offers-modal-trigger",function(e,t){PH.stopEvent(e);function n(){var e=EM.TMPL.exec("@Pages/Product/components/ExtraServices/templates/otherOffers.html.twig",{app:EM.APP,product:EM.product,offers:i||EM.multiple_offers,localeData:EM.locale,moduleStatus:EM.siteModules});r(e)}var a;i?n():(a=EM.UserLocation.getLocation(),e={},EM.siteModules.Delivery_costs_in_Product_page&&EM.siteModules.Delivery_costs_in_Other_Offers_Panel&&a&&a.locality&&a.locality.id&&(e=_objectSpread(_objectSpread({},e),{},{fields:{shippingCost:1},locality:a.locality.id})),sapi.getMultipleOffers({form:t,pnk:EM.pnk},e).then(function(e){var t,a;i=EM.has_unfair_price?[EM.offer].concat(_toConsumableArray((null==e||null===(t=e.data)||void 0===t?void 0:t.items)||[])):null==e||null===(a=e.data)||void 0===a?void 0:a.items,n()}).fail(n))}),PH.live(document,"click",".js-es-add-to-cart",function(e,t){e.preventDefault(),EM.AddToCart.submit(PH.closest(t,"form")).then(function(e){EM.AddToCart.openProduct(e,PH.getData(t,"offerId"),"main",EM.category_id)})}),s=function(e){var t=PH.q("#ew-inpage-type"),a=PH.q("#ew-inpage-desc"),n=PH.q("#ew-inpage-icon"),i=PH.q('.js-ew-title[data-type="'.concat(e,'"]')),o=PH.q('.js-ew-desc[data-type="'.concat(e,'"]')),e=PH.q('.js-ew-icon[data-type="'.concat(e,'"]'));t&&(t.innerHTML=i?i.innerHTML:""),a&&(a.innerHTML=o?o.innerHTML:""),n&&(n.src=e?e.src:"")},PH.on(EM.dispatcher,"ExtendedWarrantySelected",s.bind(this,"extra_warranty")))}EM.WidgetExtraServices=a,PH.q(".js-product-extra-services-area")&&new EM.WidgetExtraServices(PH.q(".js-product-extra-services-area"))}(),function(){var a=null,e=function(){"use strict";function t(e){_classCallCheck(this,t),this.showrooms=e,!a&&this.showrooms&&((a=new PH.Modal({className:"available-showrooms-modal",content:EM.TMPL.exec("@Pages/Product/components/AvailableShowrooms/components/Modal/template.html.twig",{showrooms:this.showrooms}),showHeader:!1,fullscreen:EM.mobile})).on("close",function(){a.destroy(),a=null}),this.open())}return _createClass(t,[{key:"open",value:function(){a.open()}}]),t}();EM.AvailableShowrooms=EM.AvailableShowrooms||{},EM.AvailableShowrooms.Modal=e}(),sapi.getProductPickupPoint=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:"".concat(EM.sapi_endpoint,"/delivery-points/").concat(e),type:"json",method:"get",crossOrigin:!0,headers:{"X-Request-Source":"www"},data:{source_id:7}})},function(){"use strict";var e,a,t=PH.q(".showrooms-text");t&&(e=PH.q(".js-trigger-showroom-modal"),t=JSON.parse(PH.getData(t,"showrooms")),a=[],t.forEach(function(e,t){sapi.getProductPickupPoint(e).then(function(e){a.push(e.data)})}),dataLayer.push({ea:"Showrooms-modal-window",ec:"website_sandbox_events",el:"Display",event:"gaEvent"}),PH.on(e,"click",function(e){var t;null==e||null!==(t=e.preventDefault)&&void 0!==t&&t.call(e),new EM.AvailableShowrooms.Modal(a)}))}(),function(){"use strict";var r,l,e,t,a=PH.q(".product-section-navbar"),d=PH.q(".product-section-navbar + div");a&&d&&(r=document.getElementById("navbar_product"),l=PH.qs("a",d).map(function(e){return e.getAttribute("href")}).reduce(function(e,t){var a=t.substr(1),t=document.getElementById(a);return t?_objectSpread(_objectSpread({},e),{},_defineProperty({},a,t)):e},{}),t=function(){var e=a.offsetTop;d.offsetTop<=e?PH.removeClass(d,"with-shadow"):PH.addClass(d,"with-shadow")},(e=function(){var e,t=window.scrollY+((null==r?void 0:r.offsetHeight)||0)+d.offsetHeight+100,a=null;for(e in l){var n=l[e].parentElement,i=n.offsetTop;if(i<=t&&t<i+n.offsetHeight){a=e;break}a=null}var o,s=PH.q(".active",d);a?s!==(o=PH.q('[href="#'.concat(a,'"]'),d).parentElement)&&(s&&PH.removeClass(s,"active"),PH.addClass(o,"active")):s&&PH.removeClass(s,"active")})(),t(),PH.on(document,"scroll",PH.throttle(function(){e(),t()})),PH.on(d,"click",function(e){var t=e.target;"a"!==t.localName||(t=t.getAttribute("href").substr(1))in l&&(e.preventDefault(),PH.scrollToElement(l[t],{steps:1}))}))}(),sapi.getPacByOffer=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.identifier||EM.product_id,a=e.fields||{};e.ref;return ajax({url:EM.sapi_endpoint+"/recommendations/by-zone"+(EM.siteModules.profiling_widgets?"?do_profiling":""),type:"json",method:"get",crossOrigin:!0,headers:{"X-Request-Source":"www"},data:PH.extend({ref:e.ref,zones:e.zone,identifier:t,fields:a,token:EM.user_token,source_id:7},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},sapi.getPacByOfferGrouped=function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.identifier||EM.product_id,i=t.fields||{},o=a.ABTest;return o&&(e=o.id,o=o.prefix||"ab_",(o=PH.cookie.get(o+e))&&"na"!==o&&(a=PH.extend({"extra_params[ab_test]":e+","+o},a))),ajax({url:EM.sapi_endpoint+"/recommendations/by-zone-grouped-by-category"+(EM.siteModules.profiling_widgets?"?do_profiling":""),type:"json",method:"get",crossOrigin:!0,headers:{"X-Request-Source":"www"},data:PH.extend({fields:i,zones:t.zone,identifier:n,token:EM.user_token,source_id:7},a),form:t.form})},sapi.getPacByOfferBoughtTogether=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.pnk||EM.pnk,a=e.fields||{},n=e.vendor_id||EM.vendor_id,i=e.display_type||EM.display_type;return ajax({url:EM.sapi_endpoint+"/products/"+t+"/bundle-pac-by-pnk",type:"json",method:"get",crossOrigin:!0,headers:{"X-Request-Source":"www"},data:PH.extend({fields:a,source_id:7,shop_type:i,vendor_id:n},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},sapi.getPacLivePurchases=function(e,t){t={source_id:7,"positions[]":t,identifier:1,page_type:"homepage"};return EM.user_token&&(t.token=EM.user_token),e&&(t.nocache=Date.now()),ajax({url:"".concat(EM.sapi_endpoint,"/recommendations/by-slot"),type:"json",method:"get",crossOrigin:!0,headers:{"X-Request-Source":"www"},data:t})},sapi.getRecommendationsByCampaign=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ajax({url:"".concat(EM.sapi_endpoint,"/recommendations/by-campaign/").concat(e.campaign),type:"json",method:"get",crossOrigin:!0,headers:{"X-Request-Source":"www"},data:PH.extend({source_id:7},t)})},sapi.getRecommendationsByZoneBySlot=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=["stock","price","brand","rating","custom_filter","category","availability","vendor"],n={};return Object.keys(t).filter(function(e){-1<a.indexOf(e)&&(n[e]=t[e])}),ajax({url:"".concat(EM.sapi_endpoint,"/recommendations/by-zone-by-filters"),type:"json",method:"GET",data:{source_id:7,zones:"adsl",identifier:0,filters:n,fields:{resized_images:"200x200,720x720"}},form:e.form})},sapi.getRecommendations=function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=e.fields,n=e.identifier,i=e.position,e=e.form,o=_objectSpread(_objectSpread({},{fields:a||{},source_id:7,positions:i,identifier:n}),t),s=[],r=-1!==["product","family"].indexOf(o.page_type)?"product":o.page_type,l=1;l<=7;l++)s[l]=EM.siteModules["".concat(r,"_slot_").concat(l,"_profiled")]&&i==l;return(o.ABTest||EM.ABTestRec||[]).filter(function(e){var t=e.slots,a=e.prefix,e=e.id;return t&&t.some(function(e){return s[e]})&&"na"!==(PH.cookie.get("".concat(a||"ab_").concat(e))||"na")}).forEach(function(e){var t=e.prefix,a=e.id,e=PH.cookie.get("".concat(t||"eab").concat(a))||"na";o["extra_params[ab_test]"]="".concat(t,"_").concat(a,",").concat(e)}),EM.user_token&&s.some(PH.identity)&&(o.token=EM.user_token),ajax({url:"".concat(EM.sapi_endpoint,"/recommendations/by-slot"),type:"json",method:"get",crossOrigin:!0,headers:{"X-Request-Source":"www"},form:e,data:o})},sapi.getFlashDealRecommendations=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.product_id||EM.product_id,a=e.fields||{};return ajax({url:EM.sapi_endpoint+"/recommendations/by-campaign/campanie-flash-deals",type:"json",method:"get",crossOrigin:!0,headers:{"X-Request-Source":"www"},data:PH.extend({fields:a,source_id:7,doc_id:t},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},sapi.getRecommendation=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=e.product_id||EM.product_id,n=e.fields||{};return ajax({url:"".concat(EM.sapi_endpoint,"/products/").concat(a,"/recommendations").concat(EM.siteModules.profiling_widgets?"?do_profiling":""),type:"json",method:"get",crossOrigin:!0,headers:{"X-Request-Source":"www"},data:PH.extend({limit:15,fields:n,source_id:7},t),form:e.form})},sapi.getRecommendationByOffer=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.offer_id||EM.offer_id,a=e.fields||{};return ajax({url:EM.sapi_endpoint+"/products/"+t+"/recommendations-by-offer"+(EM.siteModules.profiling_widgets?"?do_profiling":""),type:"json",method:"get",crossOrigin:!0,headers:{"X-Request-Source":"www"},data:PH.extend({limit:15,fields:a,source_id:7},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},sapi.getBySlot=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a={source_id:7};return e.nocache&&(a.nocache=Date.now()),EM.user_token&&(a.token=EM.user_token),ajax({url:"".concat(EM.sapi_endpoint,"/recommendations/by-slot"),type:"json",method:"get",crossOrigin:!0,headers:{"X-Request-Source":"www"},data:PH.extend(a,t),form:e.form})},sapi.getRecommendationsByZone=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a={source_id:7,zones:e.zones,identifier:e.productId,token:EM.token};return(EM.ABTestRec||[]).forEach(function(e){var t=e.id,e=e.prefix||"ab_",e=PH.cookie.get(e+t);e&&"na"!==e&&(a["extra_params[ab_test]"]="".concat(t,",").concat(e))}),ajax({url:"".concat(EM.sapi_endpoint,"/recommendations/by-zone"),type:"json",method:"GET",data:_objectSpread(_objectSpread({},t),a),form:e.form})},sapi.getRecommendationsByCampaignCategories=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ajax({url:"".concat(EM.sapi_endpoint,"/recommendations/by-campaign-categories"),type:"json",method:"GET",data:PH.extend({source_id:7,categories:e.categories,token:EM.token},t),form:e.form})},sapi.getSlotsCategoryProducts=function(){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a={};return(EM.ABTestRec||[]).forEach(function(e){var t=e.id,e=e.prefix||"ab_",e=PH.cookie.get(e+t);e&&"na"!==e&&(a["extra_params[ab_test]"]="".concat(t,",").concat(e))}),ajax({url:"".concat(EM.sapi_endpoint,"/recommendations/by-zone-grouped-by-category"),type:"json",method:"GET",data:PH.extend(a,e)})},sapi.getMobileRecommendations=function(){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ajax({url:"".concat(EM.sapi_endpoint,"/widgets/homepage-mobile"),type:"json",method:"GET",data:e})},sapi.getProductsByZonePosition=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ajax({url:"".concat(EM.sapi_endpoint,"/recommendations/by-zone-position"),type:"json",method:"GET",form:e.form,data:_objectSpread({source_id:7,identifier:0,token:EM.token},t)})},sapi.getServices=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.offer_id||EM.offer_id;return ajax({url:EM.sapi_endpoint+"/products/"+t+"/services",type:"json",method:"get",headers:{"X-Request-Source":"www"},data:PH.extend({source_id:7},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},PH.merge(sapi,{getAllRegions:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ajax({url:EM.sapi_endpoint+"/location/regions",type:"json",method:"get",headers:{"X-Request-Source":"www"},data:PH.merge({source_id:EM.source_id},e),form:t.form})},getAllCities:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ajax({url:EM.sapi_endpoint+"/location/localities",type:"json",method:"get",headers:{"X-Request-Source":"www"},data:PH.merge({source_id:EM.source_id},e),form:t.form})},getRegions:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ajax({url:EM.sapi_endpoint+"/delivery-points/regions",type:"json",method:"get",headers:{"X-Request-Source":"www"},data:PH.merge({source_id:EM.source_id},e),form:t.form})},getCities:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ajax({url:EM.sapi_endpoint+"/delivery-points/localities",type:"json",method:"get",headers:{"X-Request-Source":"www"},data:PH.merge({source_id:EM.source_id},e),form:t.form})},getPoints:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ajax({url:EM.sapi_endpoint+"/delivery-points/",type:"json",method:"get",headers:{"X-Request-Source":"www"},data:PH.merge({no_supermarket:1,show_inactive:1,source_id:EM.source_id},e),form:t.form})},getNearestPoint:function(){var e,t,a,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ajax({url:EM.sapi_endpoint+"/delivery-points/nearest",type:"json",method:"get",headers:{"X-Request-Source":"www"},data:PH.merge({token:EM.token,source_id:EM.source_id,useDefault:(null===(e=EM.UserLocation)||void 0===e||null===(t=e.getLocation())||void 0===t?void 0:t.type)===(null===(t=EM.UserLocation)||void 0===t||null===(a=t.type)||void 0===a?void 0:a.user_address)?1:0},n),form:i.form})},getPointsByLocation:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ajax({url:EM.sapi_endpoint+"/delivery-points/by-location",type:"json",method:"get",headers:{"X-Request-Source":"www"},data:PH.merge({no_supermarket:1,show_inactive:1,source_id:EM.source_id},e),form:t.form})},getPointsByCoordinates:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ajax({url:EM.sapi_endpoint+"/delivery-points/by-geolocation",type:"json",method:"get",headers:{"X-Request-Source":"www"},data:PH.merge({no_supermarket:1,show_inactive:1,source_id:EM.source_id},e),form:t.form}).then(function(e){return{data:e.data.items||[]}})},getReturnPointsByCoordinates:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ajax({url:EM.sapi_endpoint+"/return-points/by-geolocation",type:"json",method:"get",headers:{"X-Request-Source":"www"},data:PH.merge({no_supermarket:1,show_inactive:1,source_id:EM.source_id},e),form:t.form}).then(function(e){return{data:e.data.items||[]}})},getEstimate:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ajax({url:EM.old_site_endpoint+"/delivery-estimate",method:"GET",type:"json",headers:{"X-Request-Source":"www"},data:PH.extend({source_id:EM.source_id,has_tax:1,token:EM.token,return_recommended_pickup:EM.siteModules.Recommend_faster_easybox},e),form:t.form})},getFavoritePoint:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ajax({url:EM.sapi_endpoint+"/account/pickup-points/favorite",method:"GET",type:"json",headers:{"X-Request-Source":"www"},data:PH.extend({source_id:EM.source_id,token:EM.token},e),form:t.form})},setFavoritePoint:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ajax({url:EM.old_site_endpoint+"/account/pickup-points/favorite",method:"POST",type:"json",headers:{"X-Request-Source":"www"},data:PH.extend({source_id:EM.source_id,token:EM.token},e),form:t.form})},getRegionsWithCoordinates:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Promise.all([sapi.getAllRegions(),sapi.getRegions(PH.merge({"fields[coordinates]":1},e))]).then(function(e){var t=e[0]||{},e=e[1]||{},n={ro:4954};return{data:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],a=a.map(function(t){return PH.merge(t,e.find(function(e){return e.id===t.id&&e}))});return n[EM.locale]&&a.forEach(function(e,t){e.id===n[EM.locale]&&(a.splice(t,1),a.unshift(e))}),a}(t.data,e.data)}})},getCitiesFormated:function(e){return sapi.getAllCities({region_id:e.region}).then(function(e){return{data:(e.data||[]).map(function(e){return PH.merge(e,{sub_name:e.name,sub_name_latin:e.name_latin,name:e.parent_name,name_latin:e.parent_name_latin})})}})},getAlternativePoints:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ajax({url:EM.sapi_endpoint+"/delivery-points/nearby-points",method:"GET",type:"json",headers:{"X-Request-Source":"www"},data:PH.extend({source_id:EM.source_id,has_tax:1},e),form:t.form})},getECMlink:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ajax({url:EM.sapi_endpoint+"/ecm/get-showroom-url",type:"json",method:"get",headers:{"X-Request-Source":"www"},data:PH.merge({source_id:EM.source_id},e),form:t.form})}}),sapi.getDeliveryEstimate=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:"/delivery-estimate",method:"GET",type:"json",headers:{"X-Request-Source":"www"},data:PH.extend({source_id:7,has_tax:1,token:EM.token,return_recommended_pickup:EM.siteModules.Recommend_faster_easybox},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},sapi.getDeliveryRegionByZipCode=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:EM.sapi_endpoint+"/delivery-points/",method:"GET",type:"json",headers:{"X-Request-Source":"www"},data:PH.extend({show_inactive:1,source_id:7},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},sapi.getPostalCodes=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:EM.sapi_endpoint+"/location/get-postal-codes/"+(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).postalCode,method:"GET",type:"json",headers:{"X-Request-Source":"www"},data:{source_id:7},form:e.form})},sapi.getDeliveryCosts=function(e){return ajax({url:EM.sapi_endpoint+"/delivery-cost",method:"GET",type:"json",headers:{"X-Request-Source":"www"},data:{source_id:7,token:EM.token,localities:[e],products:(1<arguments.length&&void 0!==arguments[1]?arguments[1]:[]).map(function(e){return{offer_id:e,quantity:1}})}})},sapi.getLocalityByGeoLocation=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ajax({url:EM.sapi_endpoint+"/get-locality-geolocation",method:"GET",type:"json",headers:{"X-Request-Source":"www"},data:PH.extend({source_id:7},e),form:t.form})},sapi.getMultipleOffers=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:EM.old_site_endpoint+"/multiple-offers/"+e.pnk,method:"GET",type:"json",headers:{"X-Request-Source":"www"},data:PH.extend({source_id:7,fields:{flags:1,warranties:1,offer:{vendor:{rating:1,min_rating:EM.other_vendors_min_rating||1}}},token:EM.token},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},function(){var r={"X-Request-Source":"www"},i={token:EM.token};sapi.getReviews=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=e.sef_name,n=e.pnk;return ajax({url:e.url||"/product-feedback/".concat(a,"/pd/").concat(n,"/reviews/list"),type:"json",method:"get",headers:r,data:PH.merge({source_id:7},i,t),form:e.form})},sapi.getProductsWithoutReviews=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:EM.sapi_endpoint+"/users/products-without-reviews",type:"json",method:"get",headers:r,data:PH.merge({source_id:7,token:EM.token},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},sapi.getProductsHiddenFromReviews=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:EM.sapi_endpoint+"/users/hidden-products-from-notification",type:"json",method:"get",headers:r,data:PH.merge({source_id:7,token:EM.token,is_soft_hidden:1},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},sapi.voteReview=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=e.sef_name,n=e.pnk,i=e.review_id;return ajax({url:"/product-feedback/".concat(a,"/pd/").concat(n,"/review/").concat(i,"/vote/add"),type:"json",method:"post",headers:r,data:PH.extend({token:EM.token},t),form:e.form})},sapi.unvoteReview=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=e.sef_name,n=e.pnk,i=e.review_id;return ajax({url:"/product-feedback/".concat(a,"/pd/").concat(n,"/review/").concat(i,"/vote/remove"),type:"json",method:"delete",headers:r,data:PH.extend({token:EM.token},t),form:e.form})},sapi.addReview=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=e.sef_name,n=e.pnk;return ajax({url:"/product-feedback/".concat(a,"/pd/").concat(n,"/review/add"),type:"json",method:"post",headers:r,data:PH.extend({token:EM.token,source_id:7},t),form:e.form})},sapi.editReview=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=e.sef_name,n=e.pnk,i=e.review_id;return ajax({url:"/product-feedback/".concat(a,"/pd/").concat(n,"/review/").concat(i,"/edit"),type:"json",method:"put",headers:r,data:PH.extend({token:EM.token,source_id:7},t),form:e.form})},sapi.addComment=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=e.sef_name,n=e.pnk,i=e.id,o=e.refZone?"?ref=".concat(e.refZone):"";return ajax({url:"/product-feedback/".concat(a,"/pd/").concat(n,"/review/").concat(i,"/comment/add").concat(o),type:"json",method:"post",headers:r,data:PH.extend({token:EM.token,source_id:7},t),form:e.form})},sapi.editComment=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=e.sef_name,n=e.pnk,i=e.review_id,o=e.comment_id,s=e.refZone?"?ref=".concat(e.refZone):"";return ajax({url:"/product-feedback/".concat(a,"/pd/").concat(n,"/review/").concat(i,"/comment/").concat(o,"/edit").concat(s),type:"json",method:"put",headers:r,data:PH.extend({token:EM.token,source_id:7},t),form:e.form})},sapi.getQuestions=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=e.sef_name,n=e.pnk;return ajax({url:e.url||"/product-feedback/".concat(a,"/pd/").concat(n,"/questions/list"),type:"json",method:"get",headers:r,data:PH.merge({},i,{source_id:7},t),form:e.form})},sapi.addQuestion=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=e.sef_name,n=e.pnk,i=e.refZone?"?ref=".concat(e.refZone):"";return ajax({url:"/product-feedback/".concat(a,"/pd/").concat(n,"/question/add").concat(i),type:"json",method:"post",headers:r,data:PH.extend({token:EM.token,source_id:7},t),form:e.form})},sapi.editQuestion=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=e.sef_name,n=e.pnk,i=e.question_id;return ajax({url:"/product-feedback/".concat(a,"/pd/").concat(n,"/question/").concat(i,"/edit"),type:"json",method:"put",headers:r,data:PH.extend({token:EM.token,source_id:7},t),form:e.form})},sapi.voteAnswer=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=e.sef_name,n=e.pnk,i=e.question_id,e=e.answer_id;return ajax({url:"/product-feedback/".concat(a,"/pd/").concat(n,"/question/").concat(i,"/answer/").concat(e,"/vote/add"),type:"json",method:"post",headers:r,data:PH.extend({token:EM.token,source_id:7},t)})},sapi.unvoteAnswer=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=e.sef_name,n=e.pnk,i=e.question_id,e=e.answer_id;return ajax({url:"/product-feedback/".concat(a,"/pd/").concat(n,"/question/").concat(i,"/answer/").concat(e,"/vote/remove"),type:"json",method:"delete",headers:r,data:PH.extend({token:EM.token,source_id:7},t)})},sapi.addAnswer=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=e.sef_name,n=e.pnk,i=e.question_id,o=e.refZone?"?ref=".concat(e.refZone):"";return ajax({url:"/product-feedback/".concat(a,"/pd/").concat(n,"/question/").concat(i,"/answer/add").concat(o),type:"json",method:"post",headers:r,data:PH.extend({token:EM.token,source_id:7},t),form:e.form})},sapi.editAnswer=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=e.sef_name,n=e.pnk,i=e.question_id,o=e.answer_id,s=e.refZone?"?ref=".concat(e.refZone):"";return ajax({url:"/product-feedback/".concat(a,"/pd/").concat(n,"/question/").concat(i,"/answer/").concat(o,"/edit").concat(s),type:"json",method:"put",headers:r,data:PH.extend({token:EM.token,source_id:7},t),form:e.form})}}(),sapi.postFeedbackCenter=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ajax({url:"".concat(EM.sapi_endpoint,"/feedback-center/").concat(e.zone),method:"post",data:PH.extend({token:EM.token,source_id:7},t),form:e.form})},sapi.getFeedbackCenter=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:"".concat(EM.sapi_endpoint,"/feedback-center/product/center"),method:"get",type:"json",headers:{"X-Request-Source":"www"},data:PH.extend({token:EM.user_token,source_id:7},e)})},oldSiteAjax.addPnkToHistory=function(e){return ajax({url:EM.old_site_endpoint+"/save-client-navigation-history/"+e,type:"json",method:"get",data:{json_response:1}})},oldSiteAjax.getDeliveryRegions=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:EM.old_site_endpoint+"/product/estimate-modal",type:"json",method:"get",data:1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},form:e.form})},oldSiteAjax.getDeliveryLocalities=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:EM.old_site_endpoint+"/user/localities_list/"+e.regionId,type:"json",method:"get",data:PH.extend({source:"front"},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},oldSiteAjax.getCourierEstimate=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:EM.old_site_endpoint+"/product/get-estimate",type:"json",method:"post",data:PH.extend({localityId:e.locality_id,type:"courier",productId:e.offer_id},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},oldSiteAjax.getDeliveryPoints=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:EM.old_site_endpoint+"/product/get-delivery-points",type:"json",method:"post",data:PH.extend({showroom_id:e.showroom_id},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},oldSiteAjax.getDeliveryPointsByRegion=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:EM.old_site_endpoint+"/product/get-delivery-points-by-region",type:"json",method:"post",data:PH.extend({region_id:e.regionId,products:e.products},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},oldSiteAjax.getShowroomEstimate=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return ajax({url:EM.old_site_endpoint+"/product/get-estimate",type:"json",method:"post",data:PH.extend({showroomId:e.showroom_id,type:"pickup",productId:e.offer_id},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),form:e.form})},EM.pacList=EM.pacList||{};var GTM_CLASSES={1:{next:"gtm_s9z4g2",previous:"gtm_f1ya5a",dot:"gtm_dzceac"},2:{next:"gtm_0cj7o4",previous:"gtm_5kkepl",dot:"gtm_3yvsjg"},3:{next:"gtm_9mpvw7",previous:"gtm_ybgwto",dot:"gtm_p9snwo"},5:{next:"gtm_m5rusa",previous:"gtm_24tw52",dot:"gtm_e20a2h"},6:{next:"gtm_km4cpn",previous:"gtm_6no5ng",dot:"gtm_wd698t"},7:{next:"gtm_gd7tbe",previous:"gtm_1c604i",dot:"gtm_owuros"}},setupGtmClasses=function(a,e){function t(){n(".ph-left-margin",e.previous),n(".ph-right-margin",e.next),n(".ph-dot",e.dot)}function n(e,t){PH.qs(e,a.element()).forEach(function(e){PH.addClass(e,t)})}e&&(a.on("refresh",t),t())},initCarousel=function(e,t,a){if(!t)return!1;var n=PH.closest(t,".page-section");if(!e.product_collection.length||e.product_collection.length<3)return PH.remove(n),!1;var i=PH.getData(t,"position");if(EM.EOSMKP_75423_active&&"viewproduct"==EM.page_type&&e.is_accessory){var o=e.products_by_category=e.product_collection.reduce(function(e,t){var a=t.category.id;return(e[a]||(e[a]={name:t.category.name,products:[]})).products.push(t),e},{});e.EOSMKP_75423_abtest_accessories=!0,e.sorted_categories=Object.keys(o).sort(function(e,t){return o[t].products.length-o[e].products.length});var s=EM.TMPL.exec("@PhotonBundle/common/components/_template-slots.html.twig",{recommendation:e,allCardsVisible:!0,slotPosition:i,sourceProductId:EM.offer_id}),r=PH.node(s);n.replaceWith(r),PH.Widget.autoInit(r),EM.initFavorites(r),new EM.WidgetTracking(PH.q(".ph-carousel",r));var l=PH.q(".ph-carousel",r).PH_Widget,d=l._cards;PH.live(r,"click",".js-pbs-category",function(e,t){PH.stopEvent(e);e=PH.getData(t,"categoryId");e?(PH.qs(".js-pbs-category",r).forEach(function(e){return PH.condClass(e,e===t,"active")}),function(e){PH.empty(l._body);var a=e?o[e]:null;d.forEach(function(e){var t=PH.getData(e,"productId");a&&!a.products.find(function(e){return e.id==t})||l._body.appendChild(e)}),l.reloadCards(),l._gotoCard(l._cards[0],null,"0")}("*"==e?null:e)):EM.loadComponent("CompatibleAccessoriesModal").then(function(){new EM.CompatibleAccessoriesModal({offerId:EM.offer_id,pageSection:PH.closest(r,".page-section"),zone:"mvm",zoneGrouped:"mvm",productTitle:EM.product_title,productImage:EM.product_thumb,ABTest:{slots:[2],id:380,prefix:"eab"},source:"EOSMKP_75423_active"})})})}else{n=PH.q(".js-section-title",n);n&&e.scenario_name&&7!=+i&&(n.innerHTML="CAMPAIGN"===e.scenario_name?e.campaign_name:e.scenario_name);var c="";e.provider&&PH.setData(t,"trackingEngine",e.provider),EM.offer_id&&PH.setData(t,"sourceProductId",EM.offer_id);var u=e.tracking_alias||PH.getData(t,"trackingAlias");PH.setData(t,"trackingAlias",u),"flash_deals"==u&&(u="flash_deals_product-page"),e.recommendation_id&&PH.setData(t,"recommendationId",e.recommendation_id),e.is_buyable&&(EM.pacList[e.recommendation_id]=e.product_collection),t.classList.add("tracking-is-widget");for(var p=0;p<e.product_collection.length;p++){var m=e.product_collection[p];m.alt=m.name,m.ref=EM.pacUtilities._computeRef(u,i,p),"/"!==m.url.path[0]&&(m.url.path="/".concat(m.url.path)),0===p&&PH.setData(t,"ref",EM.pacUtilities._computeRef(u,i));m={lazyImg:!1,productData:m,appData:{static_url:EM.static_url,old_site_endpoint:EM.old_site_endpoint,request:{cookies:PH.cookie}},IS_MOBILE:EM.mobile,isBuyable:e.is_buyable,hasActionButtons:e.is_buyable,isAccessory:e.is_accessory,isClickable:!e.is_buyable,submitBtnClass:e.is_accessory?"card-buy-button":e.is_buyable?"complementary-buy-button":null,recommendation_id:"flash_deals"===e.recommendation_id?"":e.recommendation_id,provider:e.provider,scenarioId:e.recommendation_scenario_id,ref:m.ref,showGenius:1==a};c+=EM.TMPL.exec("@PhotonBundle/common/components/_card.html.twig",m)}t.innerHTML=c;n=newCarousel(t);setupGtmClasses(n,GTM_CLASSES[a]),"ACCESSORIES"==a&&(n=PH.q(".main-product-form"),PH.qs("#related-products-carousel .card form").forEach(function(e){e.action=e.action+"&has_accessories=1"}),n.action=n.action.replace("has_accessories=0","has_accessories=1")),new EM.WidgetTracking(t),PH.removeClass(t,"js-widget-not-loaded")}},sapiSlotRequest=function(n,t){var e,a,i,o;EM.siteModules["product_slot_".concat(t)]&&(e=PH.getData(n,"campaign"),a={identifier:EM.product_id,position:t},i={fields:{resized_images:PH.hasClass(n,"fashion-carousel")?"300x300":EM.imageSize,family:1,flags:[1]},page_type:EM.is_family?"family":"product",view_type:EM.is_fashion?"fashion":"default"},o=function(e,t){var a=PH.getData(n,"slotName");initCarousel(t,n,a)},e?sapi.getFlashDealRecommendations(a,i).then(function(e){o(0,e.data.CAMPAIGN)}):sapi.getRecommendations(a,i).then(function(e){return PH.trigger(EM.dispatcher,"recommendation-done",e),PH.trigger(EM.dispatcher,"recommendation-done-".concat(t),e),e.data&&e.data[t]&&e.data[t].product_collection?void o(0,e.data[t]):newCarousel(n)}).fail(function(){return newCarousel(n)}))},newCarousel=function(e){return EM.initFavorites(e),new PH.Carousel({from:e,snap:!0,handleResize:!0,disableOnMobile:!0,lazyLoadImgs:!0})},enableSlot=function(a,n){var e,t;n&&EM.siteModules["product_slot_".concat(a)]&&(e={position:a,identifier:EM.product_id},t={fields:{resized_images:"".concat(EM.imageSize,",300x300"),family:1},page_type:EM.is_family?"family":"product",view_type:EM.is_fashion?"fashion":"default"},sapi.getRecommendations(e,t).then(function(e){var t,e=e.data[a];!e||!e.product_collection||e.product_collection.length<3&&5!=a||(e=EM.TMPL.exec("@PhotonBundle/common/components/_template-slots.html.twig",{recommendation:e,allCardsVisible:!0,slotPosition:a,sourceProductId:EM.offer_id}),e=PH.node(e),n.replaceWith(e),PH.Widget.autoInit(e),EM.initFavorites(e),(t=PH.q(".js-recommendation-carousel",e))&&(Object.keys(t.dataset||{}).forEach(function(e){PH.setData(n,e,PH.getData(t,e))}),PH.trigger(EM.dispatcher,"PHCarouselWidgetProductsLoaded",n),5===a&&PH.onceInViewport(t,EM.trackCarousel.bind(_this24,t)),new EM.WidgetTracking(t)))}))};EM.enableSlot5=enableSlot.bind(this,5,PH.q(".js-slot5")),PH.domReady(function(){PH.qs(".slot-carousel").forEach(function(e){var t=PH.getData(e,"position");EM.recWithAjax?sapiSlotRequest(e,t):PH.onceInViewport(e,sapiSlotRequest.bind(_this24,e,t),{rootMargin:"800px 0px 800px 0px"})})}),function(){"use strict";var o="products_without_reviews",s=null;try{var e="pwr_feb_2020";localStorage.getItem(e)||(localStorage.removeItem(o),localStorage.setItem(e,"1"))}catch(e){}function t(){!function(){var e;try{e=JSON.parse(localStorage.getItem(o))}catch(e){}return e&&EM.customer_id==e.data.userId&&EM.last_review==e.data.lastModified}()&&(localStorage.removeItem(o),sapi.getProductsWithoutReviews().then(function(e){var t;(e=(e=e).data).products&&(t={data:{userId:EM.customer_id,products:[],hideFeedbackNotificationUntil:e.hide_feedback_notification_until,lastModified:e.last_modified}},e.products.forEach(function(e){t.data.products.push({doc_product_id:e.id,pnk:e.part_number_key,image:e.image.resized_images[0].url,product_name:e.name,product_uri:e.url.path,add_review_url:"/product-feedback/".concat(e.sef_name,"/pd/").concat(e.part_number_key,"/review/add"),count_close_feedback_notification:e.flags.count_close_feedback_notification,is_hidden_from_products_without_reviews_notification:e.flags.is_hidden_from_products_without_reviews_notification,is_hidden_from_products_without_reviews:e.flags.is_hidden_from_products_without_reviews,allow_feedback:e.flags.allow_feedback})}),localStorage.setItem(o,JSON.stringify(t))),i()})),"https:"==document.location.protocol&&localStorage.removeItem(o)}function a(t,e){var a=1<arguments.length&&void 0!==e?e:{},n=a.from,e=void 0===n?null:n,n=a.notification,i=void 0===n||n,a=a.soft_hide,a=void 0===a?0:a;ajax({url:"".concat(EM.sapi_endpoint,"/products/").concat(t,"/reviews/hide-product"),type:"json",method:"put",data:{product_id:t,from:e,token:EM.token,source_id:7,is_soft_hidden:a},form:PH.q(".js-user-reviews-content")}).then(function(e){localStorage.removeItem(o),s&&(s.dismiss(),s=null),PH.trigger(EM.dispatcher,"productRemoved",{product_id:t,products:e.data&&e.data.products,count:e.data&&e.data.count}),i&&new EM.Notification({message:EM.trans("The product has been successfully removed!"),position:"top right",ttl:2e3,effect:"slide"})})}var n=function(e){PH.storage.set("hide_feedback_notification",1,"48h"),localStorage.removeItem("feedback_notification_count")};function i(){var e,t,a;"homepage"!==EM.page_type&&"user_reviews"!==EM.page_type&&(e=localStorage.getItem("feedback_notification_count")||0,t=PH.storage.get("hide_feedback_notification"),(a=PH.getJsonFromLocalStorage(o))&&null!==a.data.products&&0<a.data.products.length&&(t||(e<3&&!t?localStorage.setItem("feedback_notification_count",++e):(a=a.data.products[0],EM.AdminNotificationsManager.addToDataLayer({id:"000",name:"Feedback_notif",type:"hardcoded",action:"Display"}),new EM.Notification({position:"bottom right",message:EM.TMPL.exec("@Components/AdminNotifications/templates/addReviewNotification.html.twig",{product:a}),image:a.image,className:"add-review-notification",ttl:!1,effect:"slide",onOpen:function(e){s=this,PH.live(this.ntf,"click","a.btn-primary",function(){EM.AdminNotificationsManager.addToDataLayer({id:"000",name:"Feedback_notif",type:"hardcoded",action:"Click"}),n()})},onClose:function(e){s=null,e&&(EM.AdminNotificationsManager.addToDataLayer({id:"000",name:"Feedback_notif",type:"hardcoded",action:"Close"}),n())}})))))}PH.on(EM.dispatcher,"hideProductPermanently",function(e){a(e.data.product)}),PH.on(EM.dispatcher,"unhideProduct",function(e){var t;t=e.data.product,ajax({url:"".concat(EM.sapi_endpoint,"/users/notification/hidden-product/").concat(t.id),type:"json",method:"DELETE",data:{source_id:7,token:EM.token},form:PH.q(".js-user-reviews-content")}).always(function(e){PH.trigger(EM.dispatcher,"productUnremoved",{product:t})})}),PH.on(EM.dispatcher,"hideProductTemporarily",function(e){a(e.data.product,{soft_hide:1})}),EM.siteModules&&EM.siteModules.feedback_notification&&!EM.mobile&&EM.customer_id&&PH.pageLoad(function(){EM.hideNotifications||(EM.siteModules&&EM.siteModules.products_bought_without_review_module&&t(),i())})}(),function(n,e){"use strict";var t=function(){function a(e,t){_classCallCheck(this,a),e&&(this.options=n.merge({key:e.getAttribute("data-listing-ribbon"),show:e.hasAttribute("data-listing-ribbon-show")},t),this.element=e,this.cookie="listing-ribbon-"+this.options.key+"-hidden",this.isHidden()?this.element.parentNode.removeChild(this.element):(this.options.show&&setTimeout(this.show.bind(this),1e3),this.element.ribbon=this,n.live(this.element,"click",".ribbon-close",this.hidePermanent.bind(this))))}return _createClass(a,[{key:"show",value:function(){n.addClass(this.element,"is-visible"),n.cookie.erase(this.cookie)}},{key:"hide",value:function(){n.removeClass(this.element,"is-visible")}},{key:"hidePermanent",value:function(){this.hide(),n.cookie.set(this.cookie,1,1,"/",e.cookie_domain||e.getDomain(window.location.hostname))}},{key:"disable",value:function(){n.addClass(this.element,"disabled")}},{key:"enable",value:function(){n.removeClass(this.element,"disabled")}},{key:"isHidden",value:function(){return!!n.cookie.get(this.cookie)}}]),a}();e.ListingRibbon=t;for(var a=n.qq("[data-listing-ribbon]"),i=a.length-1;0<=i;i--)new e.ListingRibbon(a[i])}(PH,EM),function(){"use strict";var a={};function e(){var e,t,a;!window.location.hash||(e=PH.q('[data-title="'+window.location.hash.substring(1)+'"]'))&&((t=PH.closest(e,".page-product-options-group"))&&(a=PH.q(".btn-product-option.active",t)),e&&e!==a&&(a.classList.remove("active"),e.classList.add("active")))}PH.live(document,"click",".js-choose-family-option",function(e){e.preventDefault();var t=PH.getData(this,"id"),e=PH.q(".js-family-option-list-"+t);t in a||(a[t]=new PH.Modal({content:e,showHeader:!0,title:this.innerText,size:"modal-lg"}),e.classList.remove("hidden"),e.classList.add("text-center"),PH.qs("img[data-src]",a[t].element()).forEach(function(e){e.src=e.getAttribute("data-src"),e.removeAttribute("data-src")})),a[t].open()}),e(),window.addEventListener("popstate",e)}(),function(){var e,t,a;PH.cookie.get("sr")&&PH.cookie.get("vp")||(e=EM.cookie_domain||EM.getDomain(window.location.hostname),t=window.screen.availWidth+"x"+window.screen.availHeight,a=PH.getViewport().width+"x"+PH.getViewport().height,PH.cookie.set("sr",t,365,"/",e),PH.cookie.set("vp",a,365,"/",e))}(),function(e,t){e&&t&&(e.DeliveryEstimateData=function(){"use strict";function t(e){_classCallCheck(this,t),this.restrictions={},e.products&&this.setProducts(e.products),e.source&&this.setSource(e.source)}return _createClass(t,[{key:"setSource",value:function(e){this.source=e}},{key:"setProducts",value:function(e){this.products=e,this.setRestrictions("estimate"),this.setRestrictions("pickup")}},{key:"setRestrictions",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"estimate",t="estimate"==a?"getEstimate":"getPickup",e=this.products.filter(function(e){return e[t]});this.restrictions[a]=e.map(function(e){var t={offer_id:e.offerId,quantity:e.quantity};return"estimate"==a&&(t.fullPrice=e.fullPrice,t.price=e.price),t})}},{key:"getProducts",value:function(){return this.products.map(function(e){return{offer_id:e.offerId,quantity:e.quantity}})}}]),t}())}(EM,PH),function(e,t){"use strict";var a;e.cookie.get("post_login_returned_data")&&(200==(a=JSON.parse(decodeURIComponent(e.cookie.get("post_login_returned_data")))).feedback_create_review?new t.Notification({position:"top right",message:t.trans("Your review has been added"),type:"success",onOpen:function(){dataLayer.push({event:"gaEvent",ec:"Click Element Site",ea:"Add review succes"})}}):200==a.feedback_create_comment?new t.Notification({position:"top right",message:t.trans("Your comment has been added"),type:"success"}):200==a.feedback_create_question?new t.Notification({position:"top right",message:t.trans("Your question has been sent to moderation"),type:"success"}):200==a.feedback_create_answer?new t.Notification({position:"top right",message:t.trans("Your answer has been sent to moderation"),type:"success"}):t.showFailNotification(),e.cookie.erase("post_login_returned_data"),e.cookie.set("post_login_returned_data","",-1,"/",t.cookie_domain),e.cookie.set("post_login_returned_data","",-1,"/"))}((document,window,PH),EM),function(t){var e=t.q(".js-back-to-top");e&&t.on(e,"click",function(e){e.preventDefault(),t.scrollTo(0)})}(window.PH),function(t,e){"use strict";var a=document.getElementById("page-ribbon");if(a&&!(e.innerWidth<t.globals.viewportBreakpoints.md)){var n=t.q(".close",a),i=t.q("img",a),o="ribbon_"+t.getData(i,"id"),s=[];try{s=JSON.parse(t.getData(i,"rules"))}catch(e){}var r=t.cookie.get(o);null===r?r=1:0<r&&r++,t.cookie.set(o,r,365,"/");var l,d=!0;for(l in s){var c=s[l];"viewShow"==c.type&&(d=-1==c.values.indexOf(r.toString())?c.exclusion:!c.exclusion)}i.addEventListener("load",function(){0<r&&d&&a.classList.add("ribbon-active")}),e.addEventListener("load",function(){i.src=t.getData(i,"background"),i.removeAttribute("data-background")}),null!==n&&n.addEventListener("click",function(e){e.preventDefault(),a.classList.remove("ribbon-active"),t.cookie.set(o,0)})}}(PH,window),function(y,b,w,s){b.fashionInitSharePopup=function(t){t.on("beforeShow",function(e){navigator.share&&(e.cancel=!0,navigator.share({url:y.getData(t._from,"url"),title:y.getData(t._from,"title")}))})};var i=y.q(".main-product-form");b.siteModules.user_history&&b.pnk&&oldSiteAjax.addPnkToHistory(b.pnk),6===b.offer.availability.id&&dataLayer.push({event:"gaEvent",ec:"website_sandbox_events",ea:"out-of-stock-product-pages",el:void 0});var r=y.q(".product-highlights-wrapper"),l=y.q(".navbar-product");y.live(w,"click",".yeahIWantThisProduct",function(e){var t=y.q(".main-product-form",r);if(!b.mobile&&b.siteModules.add_directly_to_cart_only_www||b.mobile&&b.siteModules.add_directly_to_cart_only_msite)t.submit();else{if(e.preventDefault(),2==e.button)return!1;var a=y.q(".product-family-options-modal"),n=y.getData(this,"offerId"),i=y.getData(this,"productType");a&&(t=y.closest(this,"form"),y.addLoaderTo(a));var o=y.serializeFormElements(t),e={url:t.action};y.hasClass(this,"is-resealed")&&(o["product[]"]=n,o.ecredit_product=y.getData(this,"product"),o.ecredit_installments=y.getData(this,"installments")),l&&!a&&y.addLoaderTo(l),y.addLoaderTo(r),oldSiteAjax.addToCart(e,o).then(function(e){y.removeLoaderFrom(r),l&&y.removeLoaderFrom(l),a&&history.replaceState(null,"",s.location.pathname+s.location.search),b.force_atc_notification?b.AddToCart.openNotification(e):b.AddToCart.openProduct(e,"offerId",i),t.action=b.AddToCart.getActionWithParam(t.action,"ref",y.getData(t,"ref")),"datalayer"in e&&b.DatalayerManager.handleGeneralEvent(e.datalayer),b.main_product_added_to_cart=1}).fail(function(){y.removeLoaderFrom(r),l&&y.removeLoaderFrom(l),b.showFailNotification()})}}),y.live(w,"click",".card-buy-button",function(e){e.preventDefault(),b.AddToCart.cardProduct.call(this)}),y.live(w,"click",".complementary-buy-button",function(e,a){e.preventDefault();var n=y.getData(a,"product"),e=y.closest(a,".js-recommendation-carousel"),e=y.getData(e,"recommendationId");b.pacList[e].some(function(e){if(n!=e.offer.id)return!1;if(!e.family||!e.family.characteristics.some(function(e){return 6506==e.id}))return b.AddToCart.cardProduct.call(a,"cp-buy-button"),!0;var t=y.closest(a,"form");return b.loadComponent("FamilyOptionsModal").then(function(){b.FamilyOptionsModal.open({family:e.family,forCart:!0,ref:y.getData(t,"ref")})}),!0})}),y.live(w,"click",".ca-buy-button",function(e){e.preventDefault(),b.AddToCart.cardProduct.call(this,"ca-buy-button")}),y.live(w,"click",".bundle-product-buy-button",function(e){var t,a,n;b.siteModules.add_directly_to_cart_only_www||(e.preventDefault(),t=y.closest(this,".panel-body"),n=y.closest(this,"form")||y.closest(this,"div[data-action]"),a=y.getData(this,"offerId"),y.getData(this,"config"),e=y.serializeFormElements(n),n={url:n.action||y.getData(n,"action")},this.hasAttribute("data-extra-id")&&(e["product[]"]=this.getAttribute("data-extra-id")),y.addLoaderTo(t),oldSiteAjax.addToCart(n,e).then(function(e){y.removeLoaderFrom(t),b.AddToCart.openProduct(e,a),"datalayer"in e&&b.DatalayerManager.handleGeneralEvent(e.datalayer),b.AddToCart.toggleAssociatedServicesLineId(a,e.lineId,!0),b.AddToCart.toggleMainFormAssociatedServiceChk(i,a,e.lineId,!0)}).fail(function(){y.removeLoaderFrom(t),b.showFailNotification()}))}),y.live(w,"click",".resealed-product-buy-button",function(e){var t,a,n;b.siteModules.add_directly_to_cart_only_www||(e.preventDefault(),t=y.closest(this,".panel-body"),n=(n=y.closest(this,"div[data-action]"))||y.closest(this,"form"),a=y.getData(this,"offerId"),e=y.serializeFormElements(n),n={url:n.action||y.getData(n,"action")},this.hasAttribute("data-extra-id")&&(e["product[]"]=this.getAttribute("data-extra-id")),y.addLoaderTo(t),oldSiteAjax.addToCart(n,e).then(function(e){b.AddToCart.openProduct(e,a),"datalayer"in e&&b.DatalayerManager.handleGeneralEvent(e.datalayer)}).fail(function(){b.showFailNotification()}).always(function(){y.removeLoaderFrom(t)}))}),y.live(w,"click",".other-offers-product-buy-button",function(e){var t,a,n;b.siteModules.add_directly_to_cart_only_www||(e.preventDefault(),t=y.closest(this,".panel-body"),n=y.closest(this,"form"),a=y.getData(this,"offerId"),e=y.serializeFormElements(n),n={url:n.action},y.addLoaderTo(t),oldSiteAjax.addToCart(n,e).then(function(e){y.removeLoaderFrom(t),b.AddToCart.openProduct(e,a),"datalayer"in e&&b.DatalayerManager.handleGeneralEvent(e.datalayer)}).fail(function(){y.removeLoaderFrom(t),b.showFailNotification()}))});var t,a;y.live(w,"click",".trigger-ecredit-modal",function(e,t){e.preventDefault();var a=y.getData(t,"offerId"),n=y.q(".main-product-form",r);b.loadComponent("Ecredit").then(function(){b.Ecredit.openModal(n,a,"main")})}),y.live(w,"click",".trigger-ecredit-modal-resealed",function(e){e.preventDefault();var t=y.closest(this,".panel-body"),a=y.getData(this,"offerId"),n=y.getData(this,"newPrice"),i=y.getData(this,"productType")||"resealed";b.loadComponent("Ecredit").then(function(){b.Ecredit.openModal(t,a,i,n)})}),y.live(w,"click",".resealed-thumbnail",function(e){var o=y.closest(this,".panel-resealed-products");e.preventDefault();b.loadComponent("GalleryCommon").then(function(){var e=new y.Modal({className:"product-gallery-modal",content:b.TMPL.exec("@Components/GalleryCommon/templates/modal.html.twig",{}),showHeader:!1,size:"modal-xl",hash:"resealed-product-gallery",fullscreen:!0});e.on("close",function(){n.empty(),e.destroy()}),e.open();var t=[],a=o.getAttribute("data-images");try{a=JSON.parse(a)||[]}catch(e){t.push({type:"image",full:y.q("img",o).getAttribute("src"),thumb:y.q("img",o).getAttribute("src")})}a.forEach(function(e){t.push({type:"image",full:e.original,thumb:b.getSize(e.resized_images,"80x80")})});a=o.getAttribute("data-image360");a&&t.push({type:"image360",full:a,path:a});var n=new b.Gallery({from:y.q(".modal-body",e.element()),items:t});setTimeout(function(){n.focus()},200),n.setActive(t[0].full),n.focus();var i=y.q(".yeahIWantThisProduct",e.element());y.on(i,"click",function(e){y.stopEvent(e);var t=y.q("form",o),a=parseInt(y.getData(o,"offerId"),10),e=y.serializeFormElements(t),t={url:t.action};y.addLoaderTo(i),oldSiteAjax.addToCart(t,e).then(function(e){b.AddToCart.openProduct(e,a),"datalayer"in e&&b.DatalayerManager.handleGeneralEvent(e.datalayer)}).fail(function(){b.showFailNotification()}).always(function(){y.removeLoaderFrom(i)})})})}),y.domReady(function(){var e;0<=s.location.hash.indexOf("#ecredit")&&((e=y.q(".trigger-ecredit-modal",r))&&y.trigger(e,"click"))}),b.siteModules.show_compare_box&&new b.Compare({categoryId:b.category_id,el:"#placeholder-compare"}),a=y.q("#product-page-gifts"),n=y.q(".main-product-form"),a&&(o=y.qq("div.list-group-item",a),t=y.q('input[name="giftconfig"]',n),o.length&&y.live(a,"click",".product-page-gift-option",function(){var e=y.getData(this,"gift"),e=y.q("#"+e,a);e&&(e.checked=!0,t&&(t.value=e.value),y.trigger(b.dispatcher,"changeGiftPackage",e.value))})),b.is_family&&y.live(w,"click",".yeahIWantThisFamilyProduct",function(e){e.preventDefault(),b.loadComponent("FamilyOptionsModal").then(function(){b.FamilyOptionsModal.open({family:b.product.family,forCart:!0})})}),y.live(r,"change","select.js-family-options-list-item",function(e){return!!this.value&&void(s.location.href=this.value)}),b.city_data&&b.city_data.location_data&&(d={regionId:b.city_data.location_data.region_id},"4954"!=b.city_data.location_data.region_id&&(d.localityId=b.city_data.location_data.id));var e,n,o,d,c,u={},p=[];b.offer&&b.offer.bundle_first&&b.offer.bundle_first.items?(b.offer.bundle_first.items.forEach(function(e){p.push({offerId:e.id,quantity:1,fullPrice:0,price:0,getEstimate:!0,getPickup:!0})}),p[0].fullPrice=b.productFullPrice,p[0].price=b.productDiscountedPrice):p=[{offerId:b.offer_id,quantity:1,fullPrice:b.productFullPrice,price:b.productDiscountedPrice,getEstimate:!0,getPickup:!0}],(e=y.q(".product-highlight .label-genius"))&&(n=b.siteModules.Genius_trial_subscription,d=!(o=b.siteModules.Switch_to_Trial_7_orders)&&n?"/user/genius":"/genius",new y.Dropdown({className:"genius-label-popup",trigger:e,openOn:"ontouchstart"in w.documentElement?"click":"hover",position:s.innerWidth<y.globals.viewportBreakpoints.sm?"top left":"middle right",content:"\n                <strong>".concat(b.trans("genius_tooltip_title"),"</strong>\n                <p>").concat(b.trans("genius_tooltip_text"),'</p>\n                <a href="').concat(d,'?ref=genius_tooltip_pd" target="_blank" class="strong">\n                    ').concat(n?o?b.trans("try Genius FREE"):b.trans("genius_trial_tooltip_link"):b.trans("genius_tooltip_link"),"\n                </a>")})),b.offer&&b.offer.gifts&&b.offer.gifts.length&&((c=b.offer.gifts[0]).items&&c.items.forEach(function(e){p.push({offerId:e.id,quantity:1,fullPrice:e.price.initial,price:0,getEstimate:!0,getPickup:!0,isGift:!0})})),b.MapComponent&&b.siteModules.product_delivery_estimate&&function(e){var t=0<arguments.length&&void 0!==e?e:[],a=t.length?{courier_types:b.DeliveryEstimateHelper.courierTypes,weekend_delivery:1,is_estimate_active:1,products:t,insured_value:t.reduce(function(e,t){return e+t.quantity*t.fullPrice},0),total_value:t.reduce(function(e,t){return e+t.quantity*t.price},0)}:null,n=new b.MapComponent({data:b.UserLocation.getCurrentLocation(),flags:{hasModal:!0,hasMap:b.has_pickup,hasDelivery:b.siteModules.product_delivery_estimate,hasLocationSelector:!0,hasDiscoveryModule:b.siteModules.Discover_pickup_points_on_map,hasGeoLocation:!0,hasPointsList:!0,hasZipCode:!0,hasRecommendedPoint:!0,hasFavoritePoint:b.siteModules.Save_as_Favorite_pickup_point&&!!b.is_logged_in,triggerUpdate:!0,forceUpdate:!0,updateLocationOnLS:!0,selectPointOnDemand:!0,forceGeoLocation:!0,hasAlternativePoints:!0},requests:{getRegions:function(){return sapi.getRegionsWithCoordinates({products:t})},getLocalities:sapi.getCitiesFormated,getPoints:sapi.getPointsByLocation},params:{modalTitle:b.trans("Delivery estimate"),btnLabel:b.trans("Back to product"),selectPointText:b.trans("Use this pick-up point once")},deliveryParams:a});y.on(b.dispatcher,"changeGiftPackage",function(t){var e=b.offer.gifts&&b.offer.gifts.find(function(e){return e.package_config===t.data}),a=n.deliveryParams.products.filter(function(e){return!e.isGift});e&&e.items&&e.items.length&&e.items.forEach(function(e){a.push({offer_id:e.id,quantity:1,fullPrice:e.price.initial,price:0,isGift:!0})}),n.deliveryParams.products=a,u.DEData&&u.DEData.setProducts(a.map(function(e){return y.merge(e,{getEstimate:!0,getPickup:!0,offerId:e.offer_id})})),u.DEHighlights&&u.DEHighlights.getEstimate()})}(function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return{offer_id:e.offerId,quantity:e.quantity,fullPrice:e.fullPrice,price:e.price,isGift:e.isGift||!1}})}(p)),b.DeliveryEstimateData&&(u.DEData=new b.DeliveryEstimateData({products:p,source:"product"})),b.DeliveryEstimateHighlights&&(u.DEHighlights=new b.DeliveryEstimateHighlights(u.DEData)),y.live(r,"click",".js-genius-emphasized-close",function(e,t){e.preventDefault();var a=y.q(".js-emphasized-box",r),e=y.q(".js-highlights-delivery-estimate-main",r);y.removeClass(e,"hidden"),y.remove(a),sessionStorage.setItem("genius_delivery_emphasize",!0),dataLayer.push({ea:"genius push PD",ec:"website_sandbox_events",el:"see all delivery methods",event:"gaEvent"}),b.emphasize_seen=!0,u.DEHighlights&&u.DEHighlights.pushDataLayerEvent("click")}),y.live(r,"click",".js-genius-emphasized-modal",function(e,t){dataLayer.push({ea:"genius push PD",ec:"website_sandbox_events",el:"open genius up-sell pop-up",event:"gaEvent"})}),y.live(r,"click",".js-emphasized-close",function(e,t){e.preventDefault();var a=y.q(".js-emphasized-box",r),e=y.q(".js-highlights-delivery-estimate-main",r),t=y.getData(t,"type");y.removeClass(e,"hidden"),y.remove(a),b.DeliveryEstimateHelper&&(b.DeliveryEstimateHelper.emphasizeHidden=!0),!t||-1==(a=y.storage.get("PHDEDontEmphasize")||[]).indexOf(t)&&(a.push(t),y.storage.set("PHDEDontEmphasize",a,"3h")),u.DEHighlights&&u.DEHighlights.pushDataLayerEvent("click")}),y.live(r,"click",".js-tazz-emphasized-close",function(e,t){e.preventDefault();var a=y.q(".js-emphasized-box",r),e=y.q(".js-highlights-delivery-estimate-main",r);y.removeClass(e,"hidden"),y.remove(a),sessionStorage.setItem("tazz_delivery_emphasize",!0),u.DEHighlights&&u.DEHighlights.pushDataLayerEvent("click")}),"#add-to-cart"!==s.location.hash||(c=y.q(".main-product-form .yeahIWantThisFamilyProduct"))&&y.trigger(c,"click"),y.on(b.dispatcher,"EstimateDone",function(){var e;"#trigger-delivery-options"!==s.location.hash||(e=y.q(".js-emphasized-close",r))&&y.trigger(e,"click")}),y.live(w,"click",".close-seller-rating",function(e,t){e.preventDefault(),y.closest(t,".ph-widget").PH_Widget.hide()}),y.live(r,"click",".js-retur-card",function(e){e.preventDefault(),b.loadComponent("ReturnCardModal").then(function(){new b.ReturnCardModal})}),y.onceInViewport(y.q(".js-unfair-offer-btn"),function(){dataLayer.push({event:"gaEvent",ec:"website_sandbox_events",ea:"Fair price impressions-pd",el:"Display"})}),function(l,d){var e,t,a,n;if(l){null!==(e=b.offer)&&void 0!==e&&null!==(t=e.services)&&void 0!==t&&null!==(v=t.extra_warranty)&&void 0!==v&&v.length&&dataLayer.push({event:"gaEvent",ec:"website_sandbox_events",ea:"extended-warranty-area",el:void 0});function c(e){e&&e.preventDefault(),u.value="";for(var t=0;t<m;t++)y.removeClass(p[t],"hide");y.addClass(f,"hide"),s[h]&&s[h].checkExtraWarranty(),d&&(d.action=b.AddToCart.getActionWithParam(d.action,"ref",y.getData(d,"ref")),d.action=b.AddToCart.getActionWithParam(d.action,"extra_warranty",0)),y.removeClass(y.qs("#ew-radios a[data-ew]"),"active")}function i(a,e){var t=y.q('input[name="extra_warranty"]',l);if(a=+a){u.value=y.getData(e,"service");var n=y.q("#ew-inpage-text",l),i=y.q("#ew-inpage-price",l),o=y.q("#ew-inpage-oldprice",l),s=y.q("#ew-inpage-discount",l);n.innerHTML="".concat(y.getData(e,"name"),":"),i.innerHTML=b.moneyFormat(y.getData(e,"price"));i=y.getData(e,"priceDiscount");i&&0<i&&(o.innerHTML=b.moneyFormat(y.getData(e,"initialPrice")),s.innerHTML="(-".concat(i,"%)")),y.removeClass(f,"hide");for(var r=0;r<m;r++)y.addClass(p[r],"hide");d&&(t.value=1,d.action=b.AddToCart.getActionWithParam(d.action,"ref","prodpg_module-extend-warranty_add-warranty_p-"+y.getData(d,"productId")+"_s-"+y.getData(e,"service")),d.action=b.AddToCart.getActionWithParam(d.action,"extra_warranty",1))}else c(),d&&(t.value=0);y.qs("#ew-radios a[data-ew]").forEach(function(e){var t=+y.getData(e,"ew");y.condClass(e,t==a,"active"),y.hasClass(w.body,"EOSMKP-76962-active")&&(e.style.display=t==a||!a&&1==t?"flex":"none")})}function o(e){h="ExtendedWarranty",e&&e.target&&(h=y.getData(e.target,"insuranceType")),e&&e.preventDefault(),b.loadComponent(h).then(function(e){if(s[h])return s[h].open();"ExtendedWarranty"==h?(s[h]=new b.ExtendedWarranty,s[h].onchange(function(e,t){y.trigger(b.dispatcher,"ExtendedWarrantySelected",{ew:e,element:t}),i(e,t)})):"EasyCare"==h&&e&&e.target&&(s[h]=new b.EasyCare(b.offer.services.casco,"","product_page")),s[h].open(e),r[h]&&"ExtendedWarranty"==h&&s[h].checkExtraWarranty(r[h])}(e))}var u=y.q("#warranty-service",l),p=y.qq(".ew-inpage-no"),m=p.length,f=y.q("#ew-inpage-yes",l),s=[],r=[],h="",v=y.q("#ew-inpage-delete",l);v&&y.on(v,"click",c);for(var g=y.qq(".ew-inpage-extend"),_=0;_<g.length;_++)y.on(g[_],"click",o);"#extended-warranty"===location.hash&&(h="ExtendedWarranty",o()),"#easy-care"===location.hash&&null!=b&&null!==(a=b.offer)&&void 0!==a&&null!==(n=a.services)&&void 0!==n&&n.casco&&(h="EasyCare",new b.EasyCare(b.offer.services.casco,"","product_page").open()),y.qs("#ew-radios a[data-ew]").forEach(function(t){y.on(t,"click",function(e){if(y.hasClass(t,"active"))return c(e);e=y.getData(t,"ew");i(e,t),s?s.checkExtraWarranty(e):r=e})}),y.on(b.dispatcher,"EasyCareSelected",function(e){"product_page"==e.data.pageType&&i(y.getData(e.data.data,"ew"),e.data.data)})}}(y.q("#ew-inpage"),i),y.live(w,"click",".js-upsell-genius-open-modal",function(e,t){y.stopEvent(e);function a(){b.GeniusUpsellInstance.openModal(e,t)}b.GeniusUpsellInstance?a():b.loadComponent("GeniusUpsellModal").then(function(){b.GeniusUpsellInstance=new b.GeniusUpsellModal,a()})}),y.on(b.dispatcher,"RemoveProductFromMinicart",function(e){e=e.data.lineId;b.AddToCart.toggleMainFormAssociatedServiceChk(i,0,e,!1)}),y.live(i,"change",".js-associated-services-chk",function(e,t){function a(e){t.checked=!t.checked,b.showFailNotification()}var n,i=y.closest(t,".js-associated-services-panel"),o=t.getAttribute("data-offer-id");t.checked?oldSiteAjax.addToCart({url:"/newaddtocart?source=front",form:i},{product:[o]}).then(function(e){t.setAttribute("data-cart-line-id",e.lineId),b.AddToCart.toggleAssociatedServicesLineId(o,e.lineId,!0),new b.Notification({message:b.trans("The product was added to cart"),type:"success",position:"top right",className:"associated-services-notification"}),y.trigger(b.dispatcher,"NavbarDropdowns",{type:"refresh-cart"})}).fail(a):(n=t.getAttribute("data-cart-line-id"))&&oldSiteAjax.removeFromCart({line_id:n,form:i}).then(function(e){t.removeAttribute("data-cart-line-id"),b.AddToCart.toggleAssociatedServicesLineId(o,n,!1),new b.Notification({message:b.trans("Product was removed from cart."),type:"error",position:"top right",className:"associated-services-notification"}),y.trigger(b.dispatcher,"NavbarDropdowns",{type:"refresh-cart"})}).fail(a)}),y.onceInViewport(y.q(".js-associated-services-panel",i),function(){dataLayer.push({event:"gaEvent",ec:"website_sandbox_events",ea:"Services impressions-pd",el:"Display"})}),y.onceInViewport(y.q(".js-reviews-list"),function(){b.LoggerJsonTracking.send({"X-Action-UA":"productreviews_impressions","X-PHP-Self":"/productReviewsImpressionsAll","X-Category-Id":b.category_id,"X-Brand-Id":b.brand.id,"X-Product-Id":b.offer.id,"X-Family-Id":b.family_id,"X-Doc-Id":b.product_id})}),y.pageLoad(function(){var e=y.q(".js-reviews-customer-images");e&&b.loadComponent("ReviewsCustomerImages").then(function(){new b.ReviewsCustomerImages(e)})}),y.domReady(function(){var e=y.q(".js-product-bnpl-area");e&&new b.WidgetBNPL(e)}),y.domReady(function(){var o=y.q(".js-verified-recommended-reviews");o||y.removeClass(w.body,"EOSMKP-90955-active"),o&&ajax({url:"".concat(b.sapi_endpoint,"/products/").concat(b.pnk,"/reviews"),type:"json",method:"get",headers:{"X-Request-Source":"www"},data:{source_id:7,"filters[is_bought]":1,"page[offset]":0,"page[limit]":10,"sort[votes]":"desc"}}).then(function(e){var a,t,n,i;200==e.code&&(e=e.data)&&(a=e.rating_distribution,t=e.count,n=Object.keys(a).reduce(function(e,t){return e+a[t]},0),!a||n<10||(e=Math.round(100*(a[4]+a[5])/n),!y.hasClass(w.body,"EOSMKP-90955-active")||(i=y.q(".star-rating-text.EOSMKP-90955-b"))&&(y.removeClass(i,"hidden"),y.remove(i.previousElementSibling),80<=e&&(n='\n<a href="#reviews-section" class="gtm_rp160118">'.concat(b.trans("%count%% positive notes",{"%count%":e}),"</a>"),y.insertAfter(y.node(n),i))),i=[],t&&i.push('<div class="verified-reviews" data-name="verified">\n                             <p class="text-center"><i class="em em-verified"></i></p>\n                             <p class="semibold">'.concat(t,'</p>\n                             <p class="text-muted">').concat(b.trans("eMAG customers reviews"),"</p>\n                           </div>")),80<=e&&i.push('<div class="recommending-reviews" data-name="recommending">\n                             <p class="text-center"><i class="em em-vote-on"></i></p>\n                             <p class="semibold">'.concat(e,'%</p>\n                             <p class="text-muted">').concat(b.trans("positive notes"),"</p>\n                           </div>")),y.addClass(o,"mobile-flex-split"),i=y.html(i.join("<div class='vsep'></div>")),y.insertAfter(i.$all,o),i.verified&&y.onceInViewport(i.verified,function(){dataLayer.push({event:"gaEvent",ec:"website_sandbox_events",ea:"product_reviews_count_verified_purchases",el:"display_verified"})}),i.recommending&&y.onceInViewport(i.recommending,function(){dataLayer.push({event:"gaEvent",ec:"website_sandbox_events",ea:"product_reviews_share_positive_ratings",el:"display_share_positive"})})))})})}(PH,EM,document,window);var PAGE_FORM=PH.q(".main-product-form");!function(e,t){var o,s;e&&t&&(o=PH.closest(t,".product-gallery-outer"),s=PH.closest(t,".product-gallery-inner"),PH.qs(".btn-product-option",e).forEach(function(n){var e=PH.q("img",n),i=e&&e.getAttribute("data-full-src");PH.on(n,"mouseenter",function(){var t;i&&(t=PH.createDOM(["div",{className:"thumbnail"},["img",{src:i,alt:"Image"}]]),PH.hide(s),o.appendChild(t));var a=PH.q(".text-label span[data-orig]",PH.closest(n,".product-highlight"));a&&(e=PH.q(".product-option-label",n),a.innerHTML=e?e.innerHTML:n.innerText);var e=function e(){t&&(o.removeChild(t),PH.show(s)),a&&(a.innerHTML=PH.getData(a,"orig")),PH.off(n,"mouseleave",e)};PH.on(n,"mouseleave",e)})}))}(document.body,PH.q("#product-gallery")),function(a){var t,e,n;a&&(t=function(e,t,a){var n;EM.url&&EM.pnk&&EM.sef_name&&(n="/product-feedback/"+EM.sef_name+"/pd/"+EM.pnk+"/review/add",a&&(n+=location.search),e&&(n+=-1!==n.indexOf("?")?"&":"?",n+="rating="+e),t&&(n+=-1!==n.indexOf("?")?"&":"?",n+="ref="+t),location=n)},-1===(e=location+"").indexOf("#add_review")&&-1===e.indexOf("#!add_review")||(n=e.indexOf(n="add_review")+n.length,n=parseInt(e.slice(n,n+1)),t(n,!1,!0)),(n=PH.q(".trigger-main-rating-text"))&&n.addEventListener("click",function(e){e.preventDefault(),t(0,"prod-main_rating_txt")}),PH.onceInViewport(a,function(){EM.loadComponent("Reviews").then(function(){var e,t;new EM.Reviews(a,{count:EM.feedback&&EM.feedback.reviews.count,refZoneAddComment:"product_add-comment_btn",showAvatarImg:EM.siteModules.Show_Feedback_Avatars,sort_options:(null===(e=EM.feedback)||void 0===e||null===(t=e.reviews)||void 0===t?void 0:t.sort_options)||{}})})},{rootMargin:"800px 0px 800px 0px"}))}(PH.q(".reviews-container")),function(e){var t,a,n;e&&(t=PH.q(".js-review-add-info",e),a=PH.q(".js-review-add-text",e),t&&a&&(n=[EM.trans("Rate product"),EM.trans("Not recommended"),EM.trans("Poor"),EM.trans("Average"),EM.trans("Good"),EM.trans("Excellent")],a.innerHTML=n[0],new PH.StarRating(PH.q(".star-rating.star-rating-input",t),{onRatingChange:function(e){a.innerHTML=n[e]}}).onSelect(function(e){location=EM.urlInsertParam(PH.getData(t,"url"),"rating",e)})))}(PH.q(".js-no-reviews-section")),function(e){e&&PH.onceInViewport(e,function(){EM.loadComponent("Questions").then(function(){new EM.Questions(e,{count:EM.feedback&&EM.feedback.questions.count,showAvatarImg:EM.siteModules.Show_Feedback_Avatars})})},{rootMargin:"800px 0px 800px 0px"})}(PH.q(".questions-container")),function(t){t&&PH.live(document,"click",'a[href="#used-products"]',function(e){e.preventDefault(),t.PH_Widget&&t.PH_Widget.more(!0)})}(PH.q('[data-phino="CollapsiblePanels"][data-ph-target="resealed-products"]')),PH.on(EM.dispatcher,"recommendation-done",function(e){var t=e.data.data;if(t)for(var a in t)if("promoted_similar_products"===t[a].tracking_alias){t[a].product_collection&&!(t[a].product_collection.length<3)||(a=PH.q('[href="#promoted_similar_products"]'))&&PH.remove(a.parentNode);break}}),function(e,t){e&&(PH.hasClass(document.body,"EOSMKP-84954-active")?t.removeVideos(e):t.loadVideos(e))}(PH.q(".product-page-description"),EM),PH.Widget.autoInit(document.body),function(){var e,t,a;EM.offer&&EM.offer.id&&(e="TRKListingProductClick-"+EM.offer.id,(t=PH.storage.get(e))&&(dataLayer.push(t),PH.storage.remove(e))),[PH.q(".js-main-ecredit-btn"),PH.q(".trigger-ecredit-modal")].forEach(function(e){PH.onceInViewport(e,function(){dataLayer.push({event:"gaEvent",ec:"Product Page Buttons",ea:"Display Cumpara in Rate",el:"Display"})})}),EM.is_tracking_enabled&&(EM.dispatcher.addEventListener("PHProductGalleryChange",PH.throttle(function(e){dataLayer.push({event:"Product Image Event",ec:"Product Image View",ea:"Product image gallery",el:parseInt(e.data.index,10)+1})},300)),a=null,EM.dispatcher.addEventListener("PHProductGallerySmallCarouselChange",PH.throttle(function(e){var t;e.data.index!==a&&(t=parseInt(e.data.index,10),dataLayer.push({event:"Product Image Event",ec:"Product Image View",ea:"Product thumbnail hover",el:isNaN(t)?e.data.index:t+1}),a=e.data.index)},300))),EM.mobile||PH.onceInViewport(PH.q(".js-reviews-container"),function(){dataLayer.push({event:"gaEvent",ec:"Click Element Site",ea:"reviews-scroll",el:void 0})});for(var n=0,i=(EM.offer.bundles||[]).length;n<i;n++){var o=EM.offer.bundles[n];if(o.flags.has_display_as_metro&&1<o.multiplier){dataLayer.push({event:"gaEvent",ec:"Product Page Offers",ea:"PD Metro promo",el:void 0});break}}PH.pageLoad(function(e){PH.q(".js-retur-card")&&dataLayer.push({event:"gaEvent",ec:"website_sandbox_events",ea:"Display Benefits modal 3P",el:void 0});var t=PH.q(".collapse-button-inside a, .js-description-open");t&&(dataLayer.push({event:"gaEvent",ec:"Product Page Buttons",ea:"Display See More",el:void 0}),PH.onceInViewport(t,function(){dataLayer.push({event:"gaEvent",ec:"Product Page Buttons",ea:"Display See More Scroll",el:void 0})}))})}(),function(){var n=EM.mobile?PH.q(".delivery-estimate-container"):PH.q(".js-recommended-products-area"),e=[23,25,33,34,36,37,38,39,44,49,50,53,54,55,56,57,58,65,70,71,73,74,75,87,88,89,90,91,93,94,95,97,103,107,109,110,111,113,117,118,124,126,127,139,140,141,142,143,151,159,176,177,181,183,185,186,188,190,195,198,199,201,205,245,246,250,251,252,253,254,255,256,257,260,263,268,277,291,292,295,297,301,303,304,305,306,312,313,314,315,318,339,349,350,352,356,368,374,375,378,379,381,382,383,384,385,386,387,390,391,397,399,400,401,402,403,406,409,410,411,413,414,415,416,421,423,424,427,428,429,430,431,432,433,434,437,438,439,440,442,444,447,448,450,451,454,456,457,458,466,467,469,471,472,473,480,482,484,489,492,495,505,507,521,522,523,524,530,532,533,534,535,538,541,548,549,554,565,570,572,579,581,583,584,585,586,588,590,591,597,603,606,607,611,612,618,620,622,626,854,862,865,868,1091,1092,1117,1123,1131,1134,1138,1146,1147,1149,1151,1337,1338,1339,1340,1342,1343,1345,1348,1768,2147,2273,2276,2333,2336,2408,2411,2412,2413,2414,2415,2416,2417,2418,2419,2432,2433,2434,2438,2439,2518,2522,2543,2587,2592,2655,2847,2977,2978,2979,2980,2985,2986,2987,2988,2989,2990,2991,2993,3199,3273,3274,3357,3358,3359,3360,3372,3406,3458,3481,3482,3483,3484,3485,3486,3487,3519,1336,1383,2332],i=[489,3481,387,429,432,2336,430,862,2408,427,603,315,854,428,433,383,618,312,379,554,424,1342,1310],t=[1,2,3,4,5];1==EM.vendor_id&&2==EM.brand.id&&EM.siteModules.LiveAgent_chat_embedded_for_Microsoft&&(e=e.concat([228,1169,219,222,221])),1==EM.vendor_id&&151==EM.brand.id&&EM.siteModules.LiveAgent_chat_embedded_for_Apple&&t.push(8),EM.siteModules.LiveAgent_chat_embedded&&"ro"===EM.locale&&-1!==e.indexOf(EM.category_id)&&-1!==t.indexOf(EM.offer.availability.id)&&EM.loadComponent("LiveAgentChatEmbedded").then(function(){var e,t={extraPrechatFormDetails:[{label:"Category",transcriptFields:["Category_id__c"],value:EM.category_id},{label:"Abtest variation",transcriptFields:["Abtest_variation__c"],value:"c"},{label:"URL",transcriptFields:["URL__c"],value:window.location.pathname}],onShowChatButton:function(){dataLayer.push({event:"gaEvent",ec:"SF_Chat_embedded_tracking",ea:"Impression",el:void 0})},onStartChat:function(){dataLayer.push({event:"gaEvent",ec:"SF_Chat_embedded_tracking",ea:"Click",el:"Accept"})},onCloseChatButton:function(){dataLayer.push({event:"gaEvent",ec:"SF_Chat_embedded_tracking",ea:"Close",el:"Accept"})}};EM.brand.image=EM.brand.image||{},1==EM.vendor_id&&151==EM.brand.id&&EM.siteModules.LiveAgent_chat_embedded_for_Apple&&PH.merge(t,{details:{img:EM.brand.image.original,name:"Apple",className:"chat-apple"},chat_data:{buttonId:"5732X000000Cduf",eswLiveAgentDevName:"EmbeddedServiceLiveAgent_Parent04I2X0000008OJIUA2_173bd98a491"}}),42==EM.brand.id&&EM.siteModules.LiveAgent_chat_embedded_for_Samsung&&(e="5732X000000Cduh",-1<[93,118,176,454,2411,2412,2413,2414,2415,2416,2417,2418,2419,2518,2522,2977,2978,2979,2980,2985,2986,2987,2988,2989,2990,2991,2993,3357,3358,3359,3360,3372].indexOf(EM.category_id)&&(e="5732X000000PV8b"),-1<[23,25,33,34,36,37,38,39,44,49,50,53,54,55,56,57,58,65,70,71,73,74,75,87,88,89,90,91,94,95,97,103,107,109,110,111,113,117,124,126,127,139,140,141,142,143,151,159,177,181,183,185,186,188,190,195,198,199,201,205,245,246,250,251,252,253,254,255,256,257,260,263,268,277,291,292,295,297,301,303,304,305,306,312,313,314,315,318,339,349,350,352,356,368,374,375,378,379,381,382,383,384,385,386,387,390,391,397,399,400,401,402,403,406,409,410,411,413,414,415,416,421,423,424,427,428,429,430,431,432,433,434,437,438,439,440,442,444,447,448,450,451,456,457,458,466,467,469,471,472,473,480,482,484,489,492,495,505,507,521,522,523,524,530,532,533,534,535,538,541,548,549,554,565,570,572,579,581,583,584,585,586,588,590,591,597,603,606,607,611,612,618,620,622,626,854,862,865,868,1091,1092,1117,1123,1131,1134,1138,1146,1147,1149,1151,1337,1338,1339,1340,1342,1343,1345,1348,1768,2147,2273,2276,2333,2336,2408,2432,2433,2434,2438,2439,2543,2587,2592,2655,2847,3199,3273,3274,3406,3458,3481,3482,3483,3484,3485,3486,3487,3519].indexOf(EM.category_id)&&(e="5732X000000PV8W"),t=PH.merge(t,{details:{img:EM.brand.image.original,name:"Samsung",className:"chat-samsung"},chat_data:{buttonId:e,eswLiveAgentDevName:"EmbeddedServiceLiveAgent_Parent04I2X0000008OJNUA2_173c2629704"}})),26==EM.brand.id&&EM.siteModules.LiveAgent_chat_embedded_for_LG&&-1<[318,3274,126,124,538,492,523,94,127].indexOf(EM.category_id)&&PH.merge(t,{details:{img:EM.brand.image.original,name:"LG",className:"chat-lg"},chat_data:{buttonId:"5732X000000Cdug",eswLiveAgentDevName:"EmbeddedServiceLiveAgent_Parent04I2X0000008OJSUA2_173c26584fe"}}),10==EM.brand.id&&EM.siteModules.LiveAgent_chat_embedded_for_Sony&&-1<[124,117,113,467,538,2276,492,54,378,1117,1123,55,537,464,459,465,449,439,440,442,448,447,450,444,93].indexOf(EM.category_id)&&PH.merge(t,{details:{img:EM.brand.image.original,name:"Sony",className:"chat-sony"},chat_data:{buttonId:"5732X000000Cdui",eswLiveAgentDevName:"EmbeddedServiceLiveAgent_Parent04I2X0000008OJOUA2_173c2677566"}}),1==EM.vendor_id&&689==EM.brand.id&&EM.siteModules.LiveAgent_chat_embedded_for_Huawei&&PH.merge(t,{details:{img:EM.brand.image.original,name:"Huawei",className:"chat-huawei"},chat_data:{buttonId:"5732X000000PV8l",eswLiveAgentDevName:"EmbeddedServiceLiveAgent_Parent04I2X0000008OJOUA2_173c2677566"}}),1==EM.vendor_id&&2==EM.brand.id&&EM.siteModules.LiveAgent_chat_embedded_for_Microsoft&&-1<[1131,585,411,416,74,75,246,469,109,270,2418,2426,2422,2425,115,50,91,193,61,228,1169,219,222,221,118,454,602].indexOf(EM.category_id)&&PH.merge(t,{details:{img:EM.brand.image.original,name:"Microsoft",className:"chat-microsoft"},chat_data:{buttonId:"5732X000000PVDN",eswLiveAgentDevName:"EmbeddedServiceLiveAgent_Parent04I2X0000008OJOUA2_173c2677566"}}),1==EM.vendor_id&&43==EM.brand.id&&EM.siteModules.LiveAgent_chat_embedded_for_Philips&&-1<[1149,2276,573,542,124,538,54,440,521,597,523,1131,522,185,470,408,1133,1514,565,492,115].indexOf(EM.category_id)&&(t=PH.merge(t,{details:{img:EM.brand.image.original,name:"Philips",className:"chat-philips"},chat_data:{buttonId:"5732X000000PVDS",eswLiveAgentDevName:"EmbeddedServiceLiveAgent_Parent04I2X0000008OJOUA2_173c2677566"}})),1==EM.vendor_id&&61826==EM.brand.id&&EM.siteModules.LiveAgent_chat_embedded_for_Nespresso&&-1<[312].indexOf(EM.category_id)&&PH.merge(t,{details:{img:EM.brand.image.original,name:"Nespresso",className:"chat-nespresso"},chat_data:{buttonId:"5737R000000g2TB",eswLiveAgentDevName:"EmbeddedServiceLiveAgent_Parent04I2X0000008OJOUA2_173c2677566"}}),1==EM.vendor_id&&299==EM.brand.id&&EM.siteModules.LiveAgent_chat_embedded_for_DeLonghi&&-1<[312].indexOf(EM.category_id)&&(t=PH.merge(t,{details:{img:EM.brand.image.original,name:"DeLonghi",className:"chat-delonghi"},chat_data:{buttonId:"5737R000000sY2F",eswLiveAgentDevName:"EmbeddedServiceLiveAgent_Parent04I2X0000008OJOUA2_173c2677566"}})),1==EM.vendor_id&&377==EM.brand.id&&EM.siteModules.LiveAgent_chat_embedded_for_Rowenta&&-1<i.indexOf(EM.category_id)&&PH.merge(t,{details:{img:"//".concat(EM.CDN,"/layout/ro/static-upload/thumbnail-logo-rowenta-actual.png"),name:"Rowenta",className:"chat-rowenta"},chat_data:{buttonId:"5737R000000k9te",eswLiveAgentDevName:"EmbeddedServiceLiveAgent_Parent04I2X0000008OJOUA2_173c2677566"}}),1==EM.vendor_id&&41680==EM.brand.id&&EM.siteModules.LiveAgent_chat_embedded_for_Elmex&&PH.merge(t,{details:{img:"//".concat(EM.CDN,"/layout/ro/static-upload/new-elmex-chat-logo.png"),name:"elmex",className:"chat-elmex"},chat_data:{buttonId:"5737R000000g2uH",eswLiveAgentDevName:"EmbeddedServiceLiveAgent_Parent04I2X0000008OJOUA2_173c2677566"}});var a=new EM.LiveAgentChatEmbedded(t);PH.onceInViewport(n,function(){a.initLiveAgent()})})}();